<!DOCTYPE html><html lang="zh-cn" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Node.js | 路漫漫其修远今,吾将上下而求索。</title><meta name="author" content="平凡人"><meta name="copyright" content="平凡人"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="学习笔记">
<meta property="og:type" content="article">
<meta property="og:title" content="Node.js">
<meta property="og:url" content="https://startafresh.github.io/2023/10/07/Node-js/index.html">
<meta property="og:site_name" content="路漫漫其修远今,吾将上下而求索。">
<meta property="og:description" content="学习笔记">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://startafresh.github.io/imgs/tag.jpg">
<meta property="article:published_time" content="2023-10-07T03:13:06.000Z">
<meta property="article:modified_time" content="2023-10-11T14:08:37.238Z">
<meta property="article:author" content="平凡人">
<meta property="article:tag" content="后端">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://startafresh.github.io/imgs/tag.jpg"><link rel="shortcut icon" href="/./imgs/avatar.jpeg"><link rel="canonical" href="https://startafresh.github.io/2023/10/07/Node-js/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  dateSuffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Node.js',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-10-11 22:08:37'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/myStyle.css"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/shiciBox.css"><link rel="stylesheet" href="/css/shiciColor.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.css" /><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/./imgs/avatar.jpeg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">8</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">13</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">4</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw iconfont icon-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博客</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/GALLERY/"><i class="fa-fw fas fa-camera-retro"></i><span> 相册</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 影视</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/comment/"><i class="fa-fw fas fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/../imgs/tag.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="路漫漫其修远今,吾将上下而求索。"><span class="site-name">路漫漫其修远今,吾将上下而求索。</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw iconfont icon-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博客</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/GALLERY/"><i class="fa-fw fas fa-camera-retro"></i><span> 相册</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 影视</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/comment/"><i class="fa-fw fas fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Node.js</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2023-10-07T03:13:06.000Z" title="Created 2023-10-07 11:13:06">2023-10-07</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2023-10-11T14:08:37.238Z" title="Updated 2023-10-11 22:08:37">2023-10-11</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%90%8E%E7%AB%AF/">后端</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Node.js"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="一、Node-js-介绍"><a href="#一、Node-js-介绍" class="headerlink" title="一、Node.js 介绍"></a>一、Node.js 介绍</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/tianyucoder">https://github.com/tianyucoder</a></p>
</blockquote>
<blockquote>
<p>Node.js 是一个基于 Chrome V8 引擎的 JavaScript 运行环境</p>
<p>Node.js 使用了一个事件驱动、非阻塞式 I&#x2F;O 的模型,使其轻量又高效</p>
<p>Node.js 的包管理工具 npm,是全球最大的开源库生态系统</p>
<p>官网 <a target="_blank" rel="noopener" href="http://nodejs.cn/">http://nodejs.cn/</a></p>
<p>npm 插件官网：<a target="_blank" rel="noopener" href="https://www.npmjs.com/">https://www.npmjs.com/</a></p>
</blockquote>
<h2 id="01-优点与缺点"><a href="#01-优点与缺点" class="headerlink" title="01.优点与缺点"></a>01.优点与缺点</h2><p>I&#x2F;O 操作</p>
<ol>
<li>input:写， output：读（文件）</li>
<li>input:写， output：读（数据库）</li>
</ol>
<p>node.js 优点</p>
<ol>
<li><p>异步非阻塞的 I&#x2F;O （I&#x2F;O 线程池：让一个线程随时随地处于待命状态） &#x3D;&#x3D;&gt;读取数据的时候，可以进行其他操作</p>
</li>
<li><p>特别适用于 I&#x2F;O 密集型应用&#x3D;&#x3D;&gt;频繁操作 I&#x2F;O</p>
</li>
<li><p>事件循环机制&#x3D;&#x3D;&gt;独有的一套，和浏览器不一样(Nodejs 的 Event Loop 分为 6 个阶段)(<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_32247819/article/details/113854454">【Event Loop】浏览器事件循环 vs Node 事件循环_浏览器事件循环和 node 事件循环</a>)</p>
<img src="/2023/10/07/Node-js/image-20231007163743108.png" alt="image-20231007163743108" style="zoom:50%;">
</li>
<li><p>单线程（成也单线程，败也单线程）</p>
</li>
<li><p>跨平台</p>
</li>
</ol>
<p><img src="/2023/10/07/Node-js/image-20231007145653595.png" alt="image-20231007145653595"></p>
<h2 id="02-nodejs-与-java-的区别"><a href="#02-nodejs-与-java-的区别" class="headerlink" title="02.nodejs 与 java 的区别"></a>02.nodejs 与 java 的区别</h2><p><img src="/2023/10/07/Node-js/image-20231007155746462.png" alt="image-20231007155746462"></p>
<p>1)、Node.js 比 Java 更快 ：</p>
<p>node.js 开发快，运行的效率也算比较高，但是如果项目大了就容易乱，而且 javascript 不是静态类型的语言，要到运行时才知道类型错误，所以写的多了之后免不了会出现光知道有错但是找不到哪儿错的情况，所以测试就得些的更好更详细。</p>
<p>java 开发慢，但是如果项目大、复杂的话，用 java 就不容易乱，管理起来比 node.js 省。</p>
<p>2)、Node.js 前后端都采用 Javascript，代表未来发展的趋势，而 java 则是现在的最流行的服务器端编程语言。</p>
<p>3)、Node.js 和 Java EE——一种是解释语言，一种是编译语言.</p>
<p>Node.js 解决问题的速度比 Java EE 快 20%，一种解释语言和一种编译语言在一个 VM 中的速度是一样快的，这没有多年的优化过程是绝对达不到的。</p>
<p>4)、Java 是一种编程语言，而 NodeJS 是用 C，C ++编写的基于 Chrome V8 引擎的 JavaScript 运行环境。</p>
<p>5)、Java 严格来说是一种与浏览器无关的服务器端语言，而 Node JS 可以在客户端和服务器端有效地使用。</p>
<h2 id="03-node-中的函数"><a href="#03-node-中的函数" class="headerlink" title="03.node 中的函数"></a>03.node 中的函数</h2><p>Node 中任何一个模块（js 文件）都被一个外层函数所包裹</p>
<p>function (exports,require,module,**filename,**dirname){ …}</p>
<p>exports：用于支持 commonjs 模块化暴露语法</p>
<p>require：用于支持 commonjs 模块化规范的引入语法</p>
<p>module：用于支持 commonjs 模块化暴露语法</p>
<p>__filename：当前运行文件的绝对路径</p>
<p>__dirname：当前运行文件所在文件夹的绝对路径</p>
<ol>
<li>为什么要设计这种外层函数（这个外层函数有什么用）？<br>1）用于支持模块化语法<br>2）隐藏服务器内部实现（从作用域角度去看）</li>
</ol>
<h2 id="04-浏览器端与-Node-端，js-的组成部分的区别"><a href="#04-浏览器端与-Node-端，js-的组成部分的区别" class="headerlink" title="04.浏览器端与 Node 端，js 的组成部分的区别"></a>04.浏览器端与 Node 端，js 的组成部分的区别</h2><h3 id="1-浏览器端"><a href="#1-浏览器端" class="headerlink" title="1_浏览器端"></a>1_浏览器端</h3><ul>
<li>BOM—-&gt;window 浏览器对象模型—–&gt;很多 API（location,history）</li>
<li>DOM—–&gt;document 文档对象模型——&gt;很多 API（对 DOM 增删改查）</li>
<li>ES 规范——————-ES5、ES6</li>
</ul>
<h3 id="2-Node-端，js-由那几部分组成？"><a href="#2-Node-端，js-由那几部分组成？" class="headerlink" title="2_Node 端，js 由那几部分组成？"></a>2_Node 端，js 由那几部分组成？</h3><ul>
<li>没有 BOM—-&gt;因为服务器不需要（服务器没有浏览器对象）</li>
<li>没有 DOM—–&gt;因为没有浏览器窗口</li>
<li>几乎包含了所有的 ES 规范</li>
<li>没有了 window，但是取而代之是一个叫做<code>global</code>的全局变量</li>
</ul>
<h3 id="3-node-中的事件循环模型（了解即可）"><a href="#3-node-中的事件循环模型（了解即可）" class="headerlink" title="3.node 中的事件循环模型（了解即可）"></a>3.node 中的事件循环模型（了解即可）</h3><p>clearImmediate：清空立即执行函数</p>
<p>clearInterval：清除循环定时器</p>
<p>clearTimeout： 清除延迟定时器</p>
<p>setImmediate：设置立即执行函数</p>
<p>setInterval：设置循环定时器</p>
<p>setTimeout： 设置延迟定时器</p>
<h2 id="05-nvm"><a href="#05-nvm" class="headerlink" title="05.nvm"></a>05.nvm</h2><blockquote>
<p>能够利用 nvm 使用多个版本的 npm。安装傻瓜式安装</p>
</blockquote>
<h3 id="1-常用命令"><a href="#1-常用命令" class="headerlink" title="1 常用命令"></a>1 常用命令</h3><ul>
<li>nvm list 查看电脑上都安装了哪些版本的 node</li>
<li>nvm install 16.18.0 安装指定版本的 node</li>
<li>nvm use 16.18.0 使用指定版本的 node</li>
<li>查看版本：nvm version</li>
</ul>
<h1 id="二、包与-npm-包管理器"><a href="#二、包与-npm-包管理器" class="headerlink" title="二、包与 npm 包管理器"></a>二、包与 npm 包管理器</h1><blockquote>
<p>我们电脑上的文件夹，包含了某些特定的文件，符合了某些特定的结构，就是一个包。</p>
</blockquote>
<h3 id="01-包的组成部分"><a href="#01-包的组成部分" class="headerlink" title="01.包的组成部分"></a>01.包的组成部分</h3><p>package.json ——- 描述文件（包的 “说明书”，必须要有！！！）</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;nodetest&quot;</span><span class="punctuation">,</span>      #包的名字(注意生成的包名不能使用中文，大写 ！！！ 不能使用 npm 作为包的名字)</span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1.0.0&quot;</span><span class="punctuation">,</span>   #包的版本</span><br><span class="line">  <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span>    #包的描述</span><br><span class="line">  <span class="attr">&quot;main&quot;</span><span class="punctuation">:</span> <span class="string">&quot;index.js&quot;</span><span class="punctuation">,</span>   #包的入口文件</span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span>			#脚本配置</span><br><span class="line">    <span class="attr">&quot;test&quot;</span><span class="punctuation">:</span> <span class="string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;author&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span>			#作者</span><br><span class="line">  <span class="attr">&quot;license&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ISC&quot;</span>		#版权声明</span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="02-换源"><a href="#02-换源" class="headerlink" title="02.换源"></a>02.换源</h3><blockquote>
<p>默认情况下，你安装的第三方依赖，是去国外下载的，速度比较慢，并且容易被墙掉，说白了就是安装不成功。我们可以把下载源换成国内下载源，通过一个工具，叫 nrm 来实现换源</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm i nrm -g</span><br><span class="line">nrm ls  下载源列表</span><br><span class="line">nrm use taobao  <span class="comment">//选择换源</span></span><br></pre></td></tr></table></figure>

<h3 id="03-npm"><a href="#03-npm" class="headerlink" title="03.npm"></a>03.npm</h3><blockquote>
<p>安装 node 后自动安装 npm（npm 是 node 官方出的包管理器，专门用于管理包）</p>
</blockquote>
<p><strong>搜素</strong></p>
<ol>
<li>npm search xxxxx</li>
<li>通过网址搜索：<a target="_blank" rel="noopener" href="http://www.npmjs.com/">www.npmjs.com</a></li>
</ol>
<p><strong>安装</strong></p>
<ol>
<li><p>安装之前必须保证文件夹内有 package.json，且里面的内容格式合法</p>
</li>
<li><p>npm install xxxxx –save 或 npm i xxxx -S 或 npm i xxxx</p>
<ol>
<li>备注<ol>
<li>局部安装完的第三方包，放在当前目录中 node_modules 这个文件夹里</li>
<li>安装完毕会自动产生一个 package-lock.json(npm 版本在 5 以后才有)，里面缓存的是每个下载过的包的地址，目的是下次安装时速度快一些。</li>
<li>当安装完一个包，该包的名字会自动写入到 package.json 中的【dependencies(生产依赖)】里。</li>
</ol>
</li>
</ol>
</li>
<li><p>npm install xxxxx –save-dev 或 npm i xxxxx -D</p>
<ol>
<li><p>备注</p>
<ol>
<li><p>安装包并将该包写入到【devDependencies(开发依赖中)】</p>
</li>
<li><p>什么是生产依赖与开发依赖？</p>
<ol>
<li><p>只在开发时(写代码时)时需要依赖的库，就是开发依赖 —– 例如：语法检查、压缩代码、扩展 css 前缀的包。</p>
</li>
<li><p>在生产环境中必不可少的包，就是生产依赖 —— 例如：jquery、axios 等等。</p>
<p>备注：所谓生产环境就是指：项目开发完毕，要部署到服务器上运行。</p>
</li>
<li><p>某些包即属于开发依赖，又属于生产依赖 ——-例如：jquery。</p>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li><p>npm i xxxx -g</p>
<ol>
<li>全局安装 xxxx 包（一般来说，带有指令集的包要进行全局安装，例如：browserify、babel 等）</li>
<li>查看全局安装的位置：npm root -g</li>
</ol>
</li>
<li><p>npm i xxx@yyy ：安装 xxx 包的 yyy 版本</p>
</li>
<li><p>npm i ：安装 package.json 中声明的所有包</p>
</li>
</ol>
<p><strong>移除</strong></p>
<p>npm remove xxxxx 在 node_module 中删除 xxxx 包，并且删除该包在 package.json 中的声明</p>
<p><strong>其他命令</strong></p>
<ul>
<li>npm aduit fix :检测项目依赖中的一些问题，并且尝试着修复。</li>
<li>npm view xxxxx versions :查看 npm 仓库中 xxxx 包的所有版本信息</li>
<li>npm view xxxxx version :查看 npm 仓库中 xxxx 包的最新版本</li>
<li>npm ls xxxx :查看我们所安装的 xxxx 包的版本</li>
</ul>
<p><strong>关于版本号的说明</strong></p>
<ul>
<li>“^3.x.x” ：锁定大版本，以后安装包的时候，保证包是 3.x.x 版本，x 默认取最新的。</li>
<li>“~3.1.x” ：锁定小版本，以后安装包的时候，保证包是 3.1.x 版本，x 默认取最新的。</li>
<li>“3.1.1” ：锁定完整版本，以后安装包的时候，保证包必须是 3.1.1 版本。</li>
</ul>
<h3 id="04-发包"><a href="#04-发包" class="headerlink" title="04_发包"></a>04_发包</h3><ol>
<li>格式化日期</li>
<li>转义 HTML 中的特殊字符</li>
<li>还原 HTML 中的特殊字符</li>
</ol>
<p><strong>package.json</strong></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;itheima-tools-wyj&quot;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1.1.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;main&quot;</span><span class="punctuation">:</span> <span class="string">&quot;index.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;提供了格式化时间、HTMLEscape相关的功能&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;keywords&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;itheima&quot;</span><span class="punctuation">,</span> <span class="string">&quot;dateFormat&quot;</span><span class="punctuation">,</span> <span class="string">&quot;escape&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;license&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ISC&quot;</span> <span class="comment">//该包的许可证</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p><strong>htmlEscape.js</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义转义 HTML 字符的函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">htmlEscape</span>(<span class="params">htmlstr</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> htmlstr.<span class="title function_">replace</span>(<span class="regexp">/&lt;|&gt;|&quot;|&amp;/g</span>, <span class="function">(<span class="params">match</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">switch</span> (match) &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&quot;&lt;&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&amp;lt;&quot;</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&quot;&gt;&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&amp;gt;&quot;</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&#x27;&quot;&#x27;</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&amp;quot;&quot;</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&quot;&amp;&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&amp;amp;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义还原 HTML 字符串的函数</span></span><br><span class="line"><span class="comment">// “g”标志表示正则表达式使用的global（全局）的状态。使用 global 标志表明在被查找的字符串中搜索操作将查找所有符合的项，而不仅仅是第一个。这也被称为全局匹配。</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">htmlUnEscape</span>(<span class="params">str</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> str.<span class="title function_">replace</span>(<span class="regexp">/&amp;lt;|&amp;gt;|&amp;quot;|&amp;amp;/g</span>, <span class="function">(<span class="params">match</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">switch</span> (match) &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&quot;&amp;lt;&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&lt;&quot;</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&quot;&amp;gt;&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&gt;&quot;</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&quot;&amp;quot;&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&quot;&#x27;</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&quot;&amp;amp;&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&amp;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  htmlEscape,</span><br><span class="line">  htmlUnEscape,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><strong>dateFormat.js</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义格式化时间的函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">dateFormat</span>(<span class="params">dateStr</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> dt = <span class="keyword">new</span> <span class="title class_">Date</span>(dateStr);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> y = dt.<span class="title function_">getFullYear</span>();</span><br><span class="line">  <span class="keyword">const</span> m = <span class="title function_">padZero</span>(dt.<span class="title function_">getMonth</span>() + <span class="number">1</span>);</span><br><span class="line">  <span class="keyword">const</span> d = <span class="title function_">padZero</span>(dt.<span class="title function_">getDate</span>());</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> hh = <span class="title function_">padZero</span>(dt.<span class="title function_">getHours</span>());</span><br><span class="line">  <span class="keyword">const</span> mm = <span class="title function_">padZero</span>(dt.<span class="title function_">getMinutes</span>());</span><br><span class="line">  <span class="keyword">const</span> ss = <span class="title function_">padZero</span>(dt.<span class="title function_">getSeconds</span>());</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;y&#125;</span>-<span class="subst">$&#123;m&#125;</span>-<span class="subst">$&#123;d&#125;</span> <span class="subst">$&#123;hh&#125;</span>:<span class="subst">$&#123;mm&#125;</span>:<span class="subst">$&#123;ss&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义一个补零的函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">padZero</span>(<span class="params">n</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> n &gt; <span class="number">9</span> ? n : <span class="string">&quot;0&quot;</span> + n;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  dateFormat,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><strong>index.js</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这是包的入口文件</span></span><br><span class="line"><span class="keyword">const</span> date = <span class="built_in">require</span>(<span class="string">&quot;./src/dateFormat&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="built_in">escape</span> = <span class="built_in">require</span>(<span class="string">&quot;./src/htmlEscape&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 向外暴露需要的成员</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  ...date,</span><br><span class="line">  ...<span class="built_in">escape</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>npm 账号注册完成后，可以在终端中执行 npm login 命令，依次输入用户名、密码、邮箱后，即可登录成功。</p>
<p><img src="https://telegraph-image-et0.pages.dev/file/6316703f8917b39e15cd6.png" alt="node"></p>
<p><strong>注意：密码不会显示出来，要进行盲打（发布包之前要查找包名是否相同）</strong></p>
<p>将终端切换到包的根目录之后，运行 npm publish 命令，即可将包发布到 npm 上（注意：包名不能雷同）。</p>
<p><img src="https://telegraph-image-et0.pages.dev/file/dec4f5e965640a99defeb.png" alt="node"></p>
<h3 id="05-删除包"><a href="#05-删除包" class="headerlink" title="05_删除包"></a>05_删除包</h3><p>运行 npm unpublish 包名 –force 命令，即可从 npm 删除已发布的包。</p>
<p>注意：npm unpublish 命令只能删除 <strong>72 小时以内</strong>发布的包</p>
<p> npm unpublish 删除的包，在 <strong>24 小时内</strong>不允许重复发布</p>
<p> 发布包的时候要慎重，<strong>尽量不要往 npm 上发布没有意义的包！</strong></p>
<p><img src="https://telegraph-image-et0.pages.dev/file/f1a3642662092d9d3f68f.png" alt="node"></p>
<h3 id="06-cnpm-和-yarn"><a href="#06-cnpm-和-yarn" class="headerlink" title="06_cnpm 和 yarn"></a>06_cnpm 和 yarn</h3><p>npm 工具，是我们在安装 node 时，就已经安装好了，npm 这个工具，叫下载工具，就是用来下载一些第三方依赖。除了 npm 这个下载工具之外，还有一个下载工具：</p>
<ul>
<li>cnpm</li>
<li>yarn</li>
<li>pnpm</li>
</ul>
<p>yarn:</p>
<ul>
<li>yarn 是由 Facebook、Google、Exponent 和 Tilde 联合推出了一个新的 JS 包管理工具</li>
<li>早期的 npm 存在很多的缺陷，比如安装依赖速度很慢、版本依赖混乱等等一系列的问题</li>
<li>从 npm5 版本开始，进行了很多的升级和改进，但是依然很多人喜欢使用 yarn</li>
<li>yarn 安装 npm install yarn -g</li>
<li>yarn 修改仓库地址 yarn config set registry <a target="_blank" rel="noopener" href="https://registry.npm.taobao.org/">https://registry.npm.taobao.org</a></li>
</ul>
<p>yarn 相关的命令：</p>
<ul>
<li>yarn –version 检测是否安装成功</li>
<li>yarn init 初始化，生成 package.json</li>
<li>yarn global add package 全局安装</li>
<li>yarn global remove less 全局删除</li>
<li>yarn add package 局部安装</li>
<li>yarn add package –dev (相当于 npm 中的-D)</li>
<li>yarn remove package 删除局部包文件</li>
<li>yarn 安装 package.json 中的所有依赖</li>
<li>yarn info packageName 获取包的有关信息 几乎不用</li>
</ul>
<p>要有兴趣的话，自己打一下这些命令，目前先把 npm 相关的命令掌握就 OK。</p>
<p>cnpm:</p>
<ul>
<li>npm install -g cnpm</li>
<li>cnpm 相关的命令和 npm 命令基本上是一样的</li>
</ul>
<h1 id="三、模块化"><a href="#三、模块化" class="headerlink" title="三、模块化"></a>三、模块化</h1><h2 id="01-概念"><a href="#01-概念" class="headerlink" title="01.概念"></a>01.概念</h2><ul>
<li>在 node 中一个 js 文件就是一个模块</li>
<li>模块内部代码对于外部来说都是不可见的，可以通过两种方式向外部暴露</li>
<li>模块化（组件化）指的就是将一个大的功能拆分为一个一个小的模块，通过不同的模块的组合来实现一个大功能。</li>
<li>优点：1. 复用性 2. 维护性 3.防止全局变量污染的问题</li>
</ul>
<p>注意：没有模块化会面临，两个模块命名冲突的问题，代码也会混乱。早期使用立即执行函数解决</p>
<p><img src="/2023/10/07/Node-js/image-20231007200256364.png" alt="image-20231007200256364"></p>
<p><img src="/2023/10/07/Node-js/image-20231007200330991.png" alt="image-20231007200330991"></p>
<h2 id="02-commonjs-规范"><a href="#02-commonjs-规范" class="headerlink" title="02. commonjs 规范"></a>02. commonjs 规范</h2><blockquote>
<p>CommonJS 是一个规范，简称为 CJS，Node 是 CommonJS 在服务器端一个具有代表性的实现</p>
<ul>
<li>Node 在服务器端实现了这个规范</li>
<li>webpack 打包工具具备对 CommonJS 的支持和转换</li>
</ul>
</blockquote>
<h2 id="03-CommonJS-规范要求"><a href="#03-CommonJS-规范要求" class="headerlink" title="03.CommonJS 规范要求"></a>03.CommonJS 规范要求</h2><ul>
<li>在 Node 中每一个 js 文件都是一个单独的模块</li>
<li>模块中包括 CommonJS 规范的核心变量：exports、module.exports、require，使用这些变量来方便的进行模块化开发</li>
<li>exports 和 module.exports 可以负责对模块中的内容进行导出</li>
<li>require 函数可以帮助我们导入其他模块（自定义模块、系统模块、第三方库模块）中的内容</li>
</ul>
<h2 id="04-exports-导出"><a href="#04-exports-导出" class="headerlink" title="04.exports 导出"></a>04.<strong>exports 导出</strong></h2><ul>
<li>exports 是一个对象，我们可以在这个对象中添加很多个属性，添加的属性会导出</li>
<li>另外一个文件中可以导入，require 通过各种查找方式，最终找到了 exports 这个对象，将这个 exports 对象赋值给一个变量</li>
</ul>
<p><img src="/2023/10/07/Node-js/image-20231007201312084.png" alt="image-20231007201312084"></p>
<h2 id="05-module-对象"><a href="#05-module-对象" class="headerlink" title="05.module 对象"></a>05.module 对象</h2><blockquote>
<p>在每个 .js 自定义模块中都有一个 module 对象，它<strong>里面存储了和当前模块有关的信息</strong></p>
</blockquote>
<h3 id="1-module-exports"><a href="#1-module-exports" class="headerlink" title="1.module.exports"></a>1.module.exports</h3><blockquote>
<p>在自定义模块中，可以使用 module.exports 对象，将模块内的成员共享出去，供外界使用。外界用 require() 方法导入自定义模块时，得到的就是 module.exports 所指向的对象。</p>
</blockquote>
<p><strong>11.自定义模块.js</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在一个自定义模块中，默认情况下，module.exports = &#123;&#125;</span></span><br><span class="line"><span class="keyword">const</span> age = <span class="number">20</span>;</span><br><span class="line"><span class="comment">//向module.exports 对象上挂在 username 属性</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>.<span class="property">username</span> = <span class="string">&quot;zs&quot;</span>;</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>.<span class="property">age</span> = age;</span><br><span class="line"><span class="comment">// 向module.exports 对象上挂在 sayHello 方法</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>.<span class="property">sayHello</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello!&quot;</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><strong>12.test.js</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在外界使用 require 导入一个自定义模块的时候， 得到的成员</span></span><br><span class="line"><span class="comment">// 就是 那个模块中，通过 module.exports 指向的那个对象</span></span><br><span class="line"><span class="keyword">const</span> m = <span class="built_in">require</span>(<span class="string">&quot;./11.自定义模块&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(m);</span><br></pre></td></tr></table></figure>

<p><img src="https://telegraph-image-et0.pages.dev/file/4d68fa384c10bb9241117.png" alt="node"></p>
<p>&#x3D;&#x3D;注意：&#x3D;&#x3D;<code>当module.exports 重新赋值，会改变其对象的指向</code></p>
<p><img src="/2023/10/07/Node-js/image-20231007202738663.png" alt="image-20231007202738663"></p>
<h3 id="2-exports-对象"><a href="#2-exports-对象" class="headerlink" title="2.exports 对象"></a>2.exports 对象</h3><blockquote>
<p>module.exports 单词太长，用于简化代码。默认情况下，exports 和 module.exports 指向同一个对象。<strong>最终共享的结果，还是以 module.exports 指向的对象</strong>为准。</p>
</blockquote>
<h3 id="3-注意"><a href="#3-注意" class="headerlink" title="3.注意"></a>3.注意</h3><p>exports 和 module.exports 的使用误区</p>
<p><strong>时刻谨记，require() 模块时，得到的永远是 module.exports 指向的对象：</strong></p>
<p><strong>注意：为了防止混乱，建议大家不要在同一个模块中同时使用 exports 和 module.exports</strong></p>
<p><img src="/2023/10/07/Node-js/image-20231007203506705.png" alt="image-20231007203506705"></p>
<h2 id="06-require-函数解析流程"><a href="#06-require-函数解析流程" class="headerlink" title="06.require 函数解析流程"></a>06.require 函数解析流程</h2><ul>
<li><p>情况一：require(“x”) x 是一个 Node 系统模块，比如 path、http</p>
<ul>
<li>直接去你电脑上找系统模块，找到了，就停止查找。</li>
</ul>
</li>
<li><p>情况二：X 是以 .&#x2F; 或 ..&#x2F; 或 &#x2F;（根目录）开头的，表示是自定义模块</p>
<ul>
<li>require(“.&#x2F;x.js”) 如果有后缀名，直接找对应的文件。</li>
<li>require(“.&#x2F;x”) 没有后缀名，查找顺序：<ul>
<li>1，直接查找文件 x</li>
<li>2，查找 x.js 文件</li>
<li>3，查找 x.json 文件</li>
<li>4，查找 x.node 文件</li>
<li>如果还没有找到对应的文件，会把 x 当成目录，查找目录下的文件<ul>
<li>1，查找 x&#x2F;index.js 文件</li>
<li>2，查找 x&#x2F;index.json 文件</li>
<li>3，查找 x&#x2F;index.node 文件</li>
</ul>
</li>
</ul>
</li>
<li>如果没有找到，那么报错：not found</li>
</ul>
</li>
<li><p>情况三：require(“x”) x 不是一个系统模块，就是一个第三方模块</p>
<ul>
<li>会在用户电脑上查找这个第三方模块，会在多个地方查找，如果找不到，就报错</li>
</ul>
</li>
</ul>
<h2 id="07-ES6Module-规范"><a href="#07-ES6Module-规范" class="headerlink" title="07.ES6Module 规范"></a>07.ES6Module 规范</h2><blockquote>
<p><strong>ECMA 推出自己的模块化系统，弥补了 JavaScript 没有模块化一直是它的痛点</strong></p>
<ul>
<li>CommonJS、AMD、CMD 等，仅仅是 JS 社区的规范，并不是官方的</li>
<li>采用 ES Module 将自动采用严格模式：use strict</li>
</ul>
</blockquote>
<p><strong>ES Module 模块采用 export 和 import 关键字来实现模块化</strong></p>
<ul>
<li>export 负责将模块内的内容导出</li>
<li>import 负责从其他模块导入内容</li>
</ul>
<h3 id="1-问题"><a href="#1-问题" class="headerlink" title="1.问题"></a>1.问题</h3><ul>
<li>在 node.js 环境下使用 S6Module</li>
</ul>
<p><img src="/2023/10/07/Node-js/image-20231007205002086.png" alt="image-20231007205002086"></p>
<ul>
<li><p>在浏览器中运行上面的如下：</p>
<p><img src="/2023/10/07/Node-js/image-20231007205216757.png" alt="image-20231007205216757"></p>
</li>
</ul>
<p>注意：说明浏览器默认也不支持 es6module，需要告诉浏览器，我们要采用模块化，如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;module&quot;</span> src=<span class="string">&quot;./Es6ModuleMain.js&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="2-暴露语法汇总"><a href="#2-暴露语法汇总" class="headerlink" title="2.暴露语法汇总"></a>2.暴露语法汇总</h3><ol>
<li>分别暴露</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//分别暴露</span></span><br><span class="line"><span class="comment">//通过export导出的数据，导出去的是标识符</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> school = <span class="string">&quot;尚硅谷&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">findjob</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;找工作吧&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>统一暴露</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//统一暴露</span></span><br><span class="line"><span class="keyword">let</span> school = <span class="string">&quot;尚硅谷&quot;</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">findjob</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;找工作吧&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> &#123; school, findjob &#125;;</span><br></pre></td></tr></table></figure>

<ol>
<li>默认暴露</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//默认暴露</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">school</span>: <span class="string">&quot;ATGUIGU&quot;</span>,</span><br><span class="line">  <span class="attr">change</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;我们可以改变你&quot;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="3-引入"><a href="#3-引入" class="headerlink" title="3.引入"></a>3.引入</h3><ol>
<li>通用导入方式</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;module&quot;</span>&gt;</span><br><span class="line">  <span class="keyword">import</span> * <span class="keyword">as</span> m1 <span class="keyword">from</span> <span class="string">&quot;./es6模块/m1.js&quot;</span>; <span class="keyword">import</span> * <span class="keyword">as</span> m2 <span class="keyword">from</span> <span class="string">&quot;./es6模块/m2.js&quot;</span>;</span><br><span class="line">  <span class="keyword">import</span> * <span class="keyword">as</span> m3 <span class="keyword">from</span> <span class="string">&quot;./es6模块/m3.js&quot;</span>; <span class="variable language_">console</span>.<span class="title function_">log</span>(m1); <span class="variable language_">console</span>.<span class="title function_">log</span>(m2);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(m3);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<ol>
<li>{ }方式</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; school, teach &#125; <span class="keyword">from</span> <span class="string">&quot;./src/js/m1.js&quot;</span>; <span class="comment">//&#123;&#125;中存放标识符，注意import后面不是解构赋值</span></span><br><span class="line"><span class="keyword">import</span> &#123; school <span class="keyword">as</span> guigu, findJob &#125; <span class="keyword">from</span> <span class="string">&quot;./src/js/m2.js&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="keyword">default</span> <span class="keyword">as</span> m3 &#125; <span class="keyword">from</span> <span class="string">&quot;./src/js/m3.js&quot;</span>;</span><br></pre></td></tr></table></figure>

<ol>
<li>简便形式（只针对默认暴露）</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> m3 <span class="keyword">from</span> <span class="string">&quot;./src/js/m3.js&quot;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="4-import-函数"><a href="#4-import-函数" class="headerlink" title="4.import 函数"></a>4.import 函数</h3><blockquote>
<p>应用场景：当满足某个条件在进行导入</p>
</blockquote>
<p><img src="/2023/10/07/Node-js/image-20231007213123908.png" alt="image-20231007213123908"></p>
<p><img src="/2023/10/07/Node-js/image-20231007213213747.png" alt="image-20231007213213747"></p>
<h1 id="四、核心模块"><a href="#四、核心模块" class="headerlink" title="四、核心模块"></a>四、核心模块</h1><blockquote>
<p>核心模块，是 node 中自带的模块，可以在 node 中直接使用</p>
</blockquote>
<h2 id="01-fs-文件系统"><a href="#01-fs-文件系统" class="headerlink" title="01.fs 文件系统"></a>01.fs 文件系统</h2><blockquote>
<p>fs 模块是 Node.js 官方提供的操作文件的模块，提供一系列的方法和属性，用来满足用户对文件操作的需求</p>
</blockquote>
<h3 id="1-读取"><a href="#1-读取" class="headerlink" title="1.读取"></a>1.读取</h3><p>fs.readFile(path,[options],callback)方法，用来读取指定文件的内容,（异步）</p>
<ul>
<li><p>参数 1：读取文件的存放路径</p>
</li>
<li><p>可选参数 2：读取文件采用的编码格式，一般指定 utf8</p>
</li>
<li><p>参数 3：回调函数，拿到读取失败和成功的结果 err result 如果文件读取成功 err 值为 NULL，失败为错误对象，result 的值为 undefined</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//导入fs模块</span></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line">fs.<span class="title function_">readFile</span>(<span class="string">&quot;../file/1.txt&quot;</span>, <span class="string">&quot;utf8&quot;</span>, <span class="keyword">function</span> (<span class="params">err, result</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (err) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;文件读取失败!&quot;</span> + err.<span class="property">message</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;文件读取成功！&quot;</span> + result);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="2-写入"><a href="#2-写入" class="headerlink" title="2.写入"></a>2.写入</h3><p>fs.writeFile(path,data,[option],callback)方法，用来向指定的文件写入内容（异步）</p>
<ul>
<li><p>参数 1：读取文件的存放路径</p>
</li>
<li><p>参数 2：需要写入的内容</p>
</li>
<li><p>可选参数 2：读取文件采用的编码格式，一般指定 utf8</p>
</li>
<li><p>参数 3：回调函数，拿到读取失败和成功的结果 err result 如果文件写入成功 err 值为 NULL，失败为错误对象</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//导入fs模块</span></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line">fs.<span class="title function_">writeFile</span>(<span class="string">&quot;../file/3.txt&quot;</span>, <span class="string">&quot;ddddsd&quot;</span>, <span class="keyword">function</span> (<span class="params">err</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (err) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;文件读取失败!&quot;</span> + err.<span class="property">message</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;文件读取成功！&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="03-路径动态拼接问题（了解）"><a href="#03-路径动态拼接问题（了解）" class="headerlink" title="03 .路径动态拼接问题（了解）"></a>03 .路径动态拼接问题（了解）</h3><p>原因：出现路径拼接错误的问题，是因为提供了.&#x2F;或..&#x2F;开头的相对路径如果解决这个问题，可以提供完整的文件存放路径就行了</p>
<p>解决： <code>__dirname 表示当前文件所处目录，进行路径拼接</code></p>
<h2 id="02-path-路径模块"><a href="#02-path-路径模块" class="headerlink" title="02.path 路径模块"></a>02.path 路径模块</h2><h3 id="1-path-join"><a href="#1-path-join" class="headerlink" title="1.path.join()"></a>1.path.join()</h3><blockquote>
<p>可以把多个路径片段拼接为完整的路径字符串</p>
</blockquote>
<p>注意：今后但凡涉及到路径拼接的操作，都要使用<code>path.join()</code>方法进行处理。不要直接使用+进行字符串的拼接。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"><span class="comment">//注意 ../会抵消前面的路径</span></span><br><span class="line"><span class="comment">// const pathStr = path.join(&#x27;/a&#x27;,&#x27;/b/c&#x27;,&#x27;../../&#x27;,&#x27;/d&#x27;,&#x27;e&#x27;)</span></span><br><span class="line"><span class="comment">// console.log(pathStr)  //输出 当前文件所在目录\files\1.txt</span></span><br><span class="line"><span class="comment">//fs.readFile(__dirname + &#x27;/file/1.txt&#x27;)</span></span><br><span class="line">fs.<span class="title function_">readFile</span>(</span><br><span class="line">  path.<span class="title function_">join</span>(__dirname, <span class="string">&quot;../file/1.txt&quot;</span>),</span><br><span class="line">  <span class="string">&quot;utf8&quot;</span>,</span><br><span class="line">  <span class="keyword">function</span> (<span class="params">err, dataStr</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(err.<span class="property">message</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(dataStr);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h3 id="2-path-basename-path-ext"><a href="#2-path-basename-path-ext" class="headerlink" title="2.path.basename(path[, ext])"></a>2.path.basename(path[, ext])</h3><blockquote>
<p>可以获取路径中的最后一部分，经常通过这个方法获取路径中的文件名</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="comment">//定义文件的存放路径</span></span><br><span class="line"><span class="keyword">const</span> fpath = <span class="string">&quot;/a/b/c/index.html&quot;</span>;</span><br><span class="line"><span class="comment">// const fullName = path.basename(fpath)</span></span><br><span class="line"><span class="comment">// console.log(fullName);</span></span><br><span class="line"><span class="keyword">var</span> nameWithoutExt = path.<span class="title function_">basename</span>(fpath, <span class="string">&quot;.html&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(nameWithoutExt);</span><br></pre></td></tr></table></figure>

<p><img src="https://telegraph-image-et0.pages.dev/file/48cc5617a1406b688684d.png" alt="node"></p>
<h3 id="3-path-extname"><a href="#3-path-extname" class="headerlink" title="3.path.extname()"></a>3.path.extname()</h3><blockquote>
<p>可以获取路径中的扩展名部分</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="comment">//这是文件的存放路径</span></span><br><span class="line"><span class="keyword">const</span> fpath = <span class="string">&quot;/a/b/c/index.html&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> fext = path.<span class="title function_">extname</span>(fpath);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fext);</span><br></pre></td></tr></table></figure>

<h3 id="4-其他方法"><a href="#4-其他方法" class="headerlink" title="4.其他方法"></a>4.其他方法</h3><ul>
<li>fs.appendFile() 创建新文件，或将数据添加到已有文件中</li>
<li>fs.mkdir() 创建目录</li>
<li>fs.rmdir() 删除目录</li>
<li>fs.rm() 删除文件</li>
<li>fs.rename() 重命名</li>
<li>fs.copyFile() 复制文件</li>
</ul>
<h3 id="5-Buffer-缓冲器"><a href="#5-Buffer-缓冲器" class="headerlink" title="5.Buffer (缓冲器)"></a>5.Buffer (缓冲器)</h3><blockquote>
<ul>
<li>1.它是一个类似于数组的对象，用于存储数据（存储的是二进制数据）。</li>
<li>2.Buffer 的效率很高，存储和读取很快，直接对计算机的内存进行操作。</li>
<li>3.Buffer 的大小一旦确定了，<code>不可修改。</code></li>
<li>4.每个元素占用内存的大小为 1 字节。</li>
<li>5.Buffer 是 Node 中的非常核心的模块，无需下载、无需引入即可使用</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.将一个字符串存入Buffer中</span></span><br><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;HELLO ATGUIGU&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> buf = <span class="title class_">Buffer</span>.<span class="title function_">from</span>(str);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buf);</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.alloc这种方式去创建Buffer实例---效率一般</span></span><br><span class="line"><span class="keyword">let</span> buf2 = <span class="title class_">Buffer</span>.<span class="title function_">alloc</span>(<span class="number">10</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buf2);</span><br><span class="line"></span><br><span class="line"><span class="comment">//3.allocUnsafe这种方式去创建Buffer实例---效率很好，但是存在一些安全问题</span></span><br><span class="line"><span class="keyword">let</span> buf3 = <span class="title class_">Buffer</span>.<span class="title function_">allocUnsafe</span>(<span class="number">10</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buf3);</span><br><span class="line"></span><br><span class="line"><span class="comment">//4.使用new关键字创建一个Buffer实例（即将被弃用）-----效率很低</span></span><br><span class="line"><span class="keyword">let</span> buf4 = <span class="keyword">new</span> <span class="title class_">Buffer</span>(<span class="number">10</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buf4);</span><br><span class="line"><span class="comment">//Buffer 与字符串的转化</span></span><br><span class="line"><span class="keyword">let</span> buf_4 = <span class="title class_">Buffer</span>.<span class="title function_">from</span>([<span class="number">105</span>, <span class="number">108</span>, <span class="number">111</span>, <span class="number">118</span>, <span class="number">101</span>, <span class="number">121</span>, <span class="number">111</span>, <span class="number">117</span>]);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buf_4.<span class="title function_">toString</span>());</span><br><span class="line"><span class="comment">//读取按照[]方式对数据进行处理</span></span><br><span class="line"><span class="comment">//读取</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buf_3[<span class="number">1</span>]);</span><br><span class="line"><span class="comment">//修改</span></span><br><span class="line">buf_3[<span class="number">1</span>] = <span class="number">97</span>;</span><br><span class="line"><span class="comment">//查看字符串结果</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buf_3.<span class="title function_">toString</span>());</span><br></pre></td></tr></table></figure>

<h2 id="03-http-模块"><a href="#03-http-模块" class="headerlink" title="03.http 模块"></a>03.http 模块</h2><blockquote>
<p>http 模块是 node.js 官方提供的、用来创建 web 服务器的模块。通过 http 模块提供的 http.createServer()方法，就能方便把一台普通电脑，变成 Web 服务器，对外提供 Web 资源服务</p>
</blockquote>
<h3 id="1-基本-web-服务器"><a href="#1-基本-web-服务器" class="headerlink" title="1.基本 web 服务器"></a>1.基本 web 服务器</h3><p>步骤：</p>
<p> ① 导入 http 模块</p>
<p> ② 创建 web 服务器实例</p>
<p> ③ 为服务器实例绑定 <strong>request</strong> 事件，监听客户端的请求</p>
<p> ④ 启动服务器</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.导入http模块</span></span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&quot;http&quot;</span>);</span><br><span class="line"><span class="comment">// 2.创建web服务器实例</span></span><br><span class="line"><span class="keyword">const</span> server = http.<span class="title function_">createServer</span>();</span><br><span class="line"><span class="comment">// 3.为服务器绑定 request 事件，监听客户端的请求</span></span><br><span class="line">server.<span class="title function_">on</span>(<span class="string">&quot;request&quot;</span>, <span class="keyword">function</span> (<span class="params">request, response</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Someone visit our web server.&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 4.启动服务器</span></span><br><span class="line">server.<span class="title function_">listen</span>(<span class="number">8080</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;server running at http:127.0.0.1:8080&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>request 请求对象</p>
<ul>
<li>request.url:客户端请求的 URL 地址</li>
<li>request.method：客户端请求的 method 类型</li>
<li>request.end(str)：向客户端发送指定的内容，并结束这次请求的出处理过程</li>
</ul>
<h1 id="五、网络基础"><a href="#五、网络基础" class="headerlink" title="五、网络基础"></a>五、网络基础</h1><blockquote>
<p>了解客户端与服务端通信的过程</p>
</blockquote>
<h2 id="1-http-协议"><a href="#1-http-协议" class="headerlink" title="1.http 协议"></a>1.http 协议</h2><blockquote>
<p><strong>HTTP：HyperText Transfer Protocol 超文本传输协议</strong></p>
<ul>
<li>HTTP 请求：按照 HTTP 协议（规则），由客户端（浏览器）向服务器发出请求</li>
<li>HTTP 响应：按照 HTTP 协议（规则），由服务器给出响应</li>
</ul>
</blockquote>
<p><strong>HTTPS:</strong> HyperText Transfer Protocol Secure 超文本传输安全协议。</p>
<ul>
<li>HTTP 的安全版本（安全的基础是 SSL&#x2F;TLS）</li>
<li>SSL: Secure Sockets Layer 安全套接层</li>
<li>TLS：transport Layer Security 传输层安全</li>
<li>说白了，就是为了网络通信提供的一种安全协议，对网络连接进行加密</li>
</ul>
<p><strong>HTTP 和 HTTPS 的区别</strong></p>
<ul>
<li>HTTP 是不安全 HTTPS 可以防止攻击</li>
<li>HTTP 协议传输的内容是明文，直接在 TCP 连接上传递，客户端和服务器都无法验证对方的身份</li>
<li>HTTPS 协议的传输内容都是被 SSL&#x2F;TLS 加密，且运行在 SSL&#x2F;TLS，SSL&#x2F;TLS 运行在 TCP 连接上，所以传递的数据是安全</li>
</ul>
<p>特点</p>
<ul>
<li>无状态，现在 cookie 解决了无状态的问题（早期网页开发时，用 cookie 解决，现在是 cookie 和 session 配合使用）</li>
</ul>
<p>作用</p>
<ul>
<li>客户端和与服务器之间传递数据的规范（统称为报文，分为：请求报文、响应报文。）</li>
</ul>
<h2 id="2-HTTP-协议版本"><a href="#2-HTTP-协议版本" class="headerlink" title="2.HTTP 协议版本"></a>2.HTTP 协议版本</h2><ul>
<li><p>http 1.0 （老版本） ———- 不支持长连接</p>
</li>
<li><p>http 1.1 （主流版本）——— 优点：支持长连接，弊端：同时发送资源的数量过小。</p>
</li>
<li><p>http 2.0 （最新版） ———- 同时发送资源的数量稍有提升。</p>
</li>
</ul>
<h2 id="3-GET-请求与-POST-请求"><a href="#3-GET-请求与-POST-请求" class="headerlink" title="3.GET 请求与 POST 请求"></a>3.GET 请求与 POST 请求</h2><h3 id="01-前言"><a href="#01-前言" class="headerlink" title="01.前言"></a>01.前言</h3><blockquote>
<p>HTTP 请求，最初设定了八种方法（也称为“动作”）。这八种方法本质上没有任何区别。只是让请求，更加有语义而已。<br>八种方法分别为：OPTIONS、HEAD、GET、POST、PUT、DELETE、TRACE、CONNECT<br>这八种方法最终经过“岁月沉淀”后，常用的只有两种，即：GET 和 POST</p>
</blockquote>
<h3 id="02-GET"><a href="#02-GET" class="headerlink" title="02.GET"></a>02.GET</h3><pre><code>1. 含义：从指定的资源获取数据（一种“索取”的感觉）。
    2. 什么时候使用GET请求较为合适？
    (1)单纯获取数据的时。
    (2)请求中不包含敏感数据时。
</code></pre>
<h3 id="02-POST"><a href="#02-POST" class="headerlink" title="02.POST"></a>02.POST</h3><p> 1.含义：向指定的资源提交要被处理的数据（一种“交差”的感觉）。<br>​ 2.什么时候使用 POST 请求较为合适？<br>​ (1)传送相对敏感数据时。<br>​ (2)请求的结果有持续性的副作用，例如：传递的数据要作为数据源写入数据库时。<br>​ 备注：使用了 POST 不代表的绝对的安全。<br>​</p>
<h3 id="03-常见的-GET-请求："><a href="#03-常见的-GET-请求：" class="headerlink" title="03.常见的 GET 请求："></a>03.常见的 GET 请求：</h3><p> 1.浏览器地址栏输入网址时（浏览器请求网页时时 GET 请求，且不可更改）<br>​ 2.可以请求外部资源的 html 标签，例如：<code>&lt;img&gt; &lt;a&gt; &lt;link&gt; &lt;script&gt;</code><br>​ 3.发送 Ajax 时明确指出了使用 GET 请求<br>​ 4.form 表单提交时没有指明方式，默认使用 GET<br>​</p>
<h3 id="04-常见的-POST-请求："><a href="#04-常见的-POST-请求：" class="headerlink" title="04.常见的 POST 请求："></a>04.常见的 POST 请求：</h3><p> 1.发送 Ajax 时明确指出了使用 POST 方式<br>​ 2.使用第三方发送 Ajax 请求库时明确指出用 POST 时<br>​ 3.form 表单提交时明确指出使用 POST 方式<br>​</p>
<h3 id="05-二者的区别"><a href="#05-二者的区别" class="headerlink" title="05.二者的区别"></a>05.二者的区别</h3><p><img src="https://telegraph-image-et0.pages.dev/file/006c1bbeefecc29a88aa1.png" alt="node"></p>
<h2 id="4-报文"><a href="#4-报文" class="headerlink" title="4.报文"></a>4.报文</h2><blockquote>
<p>报文(请求报文、响应报文)的组成：</p>
<ol>
<li>报文首行</li>
<li>报文头</li>
<li>空行（仅仅作为一个分割）</li>
<li>报文体</li>
</ol>
</blockquote>
<h3 id="01-请求报文"><a href="#01-请求报文" class="headerlink" title="01.请求报文"></a>01.请求报文</h3><blockquote>
<p><strong>分析 GET 请求报文(给服务器看的)</strong></p>
</blockquote>
<p><strong>报文首行</strong></p>
<p>GET <a target="_blank" rel="noopener" href="http://localhost:3000/meishi">http://localhost:3000/meishi</a> HTTP&#x2F;1.1 -请求类型 协议名:&#x2F;&#x2F;主机名:端口号&#x2F;路由关键词 使用协议的版本</p>
<p><strong>报文头</strong></p>
<p>Host: localhost:3000</p>
<blockquote>
<p>访问的主机名（地址，仅仅包含主机名+端口号） –防盗链、广告计费</p>
</blockquote>
<p>Connection: keep-alive</p>
<blockquote>
<p>告诉服务器，浏览器端支持长连接</p>
</blockquote>
<p>Upgrade-Insecure-Requests: 1</p>
<blockquote>
<p>告诉服务器，浏览器端支持 https 协议</p>
</blockquote>
<p>User-Agent: Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;75.0.3770.142 Safari&#x2F;537.36</p>
<blockquote>
<p>用户代理，告知服务器你的浏览器内核以及品牌，早期的时候用于判断用户的浏览器是拿一个品牌，现在不可用了。</p>
</blockquote>
<p>DNT: 1</p>
<blockquote>
<p>禁止跟踪，告知服务器禁止跟踪，并不是写了该字段服务器就一定遵守。</p>
</blockquote>
<p>Accept:text&#x2F;html,application&#x2F;xhtml+xml,application&#x2F;xml;q&#x3D;0.9,image&#x2F;webp,image&#x2F;apng,<em>&#x2F;</em>;q&#x3D;0.8,application&#x2F;signed-exchange;v&#x3D;b3</p>
<blockquote>
<p>告知服务器浏览器能接受的文件类型，q 是资源的优先级，取值范围是 0-1,1 的权限最高，默认是 1</p>
</blockquote>
<p>Accept-Encoding: gzip, deflate, br</p>
<blockquote>
<p>告诉服务器浏览器能支持的文件压缩格式 Accept-Language: zh-</p>
</blockquote>
<p>CN,zh;q&#x3D;0.9,en-US;q&#x3D;0.8,en;q&#x3D;0.7</p>
<blockquote>
<p>告诉服务器，浏览器能够接受的语言</p>
</blockquote>
<p><strong>空行</strong></p>
<p><strong>报文体</strong></p>
<blockquote>
<p>GET 请求没有报文体</p>
</blockquote>
<h3 id="02-响应报文"><a href="#02-响应报文" class="headerlink" title="02.响应报文"></a>02.响应报文</h3><blockquote>
<p>分析响应报文（给浏览器看的）</p>
</blockquote>
<p><strong>报文首行</strong></p>
<p>POST <a target="_blank" rel="noopener" href="http://localhost:3000/demo">http://localhost:3000/demo</a> HTTP&#x2F;1.1 -</p>
<p><strong>报文头</strong></p>
<p>Host: localhost:3000</p>
<blockquote>
<p>访问的主机名（地址，仅仅包含主机名+端口号）</p>
</blockquote>
<p>Connection: keep-alive</p>
<blockquote>
<p>告诉服务器，浏览器端支持长连接</p>
</blockquote>
<p>Content-Length: 16</p>
<blockquote>
<p>请求体的长度</p>
</blockquote>
<p>Cache-Control: max-age&#x3D;0</p>
<blockquote>
<p>用于控制强缓存</p>
</blockquote>
<p>Origin: <a target="_blank" rel="noopener" href="http://localhost:63342/">http://localhost:63342</a></p>
<blockquote>
<p>当前所处位置（主机位置+端口位置）</p>
</blockquote>
<p>Upgrade-Insecure-Requests: 1</p>
<blockquote>
<p>告诉服务器，浏览器端支持 https 协议</p>
</blockquote>
<p>DNT: 1</p>
<blockquote>
<p>禁止跟踪，告知服务器禁止跟踪，并不是写了该字段服务器就一定遵守。</p>
</blockquote>
<p>Content-Type: application&#x2F;x-www-form-urlencoded</p>
<blockquote>
<p>标识该请求是来自于一个 form 表单，并且以 urlencoded 形式进行编码</p>
</blockquote>
<p>User-Agent: Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;75.0.3770.142 Safari&#x2F;537.36</p>
<blockquote>
<p>用户代理，告知服务器你的浏览器内核以及品牌，早期的时候用于判断用户的浏览器是拿一个品牌，现在不可用了。 Accept:</p>
</blockquote>
<p>text&#x2F;html,application&#x2F;xhtml+xml,application&#x2F;xml;q&#x3D;0.9,image&#x2F;webp,image&#x2F;apng,<em>&#x2F;</em>;q&#x3D;0.8,application&#x2F;signed-exchange;v&#x3D;b3</p>
<blockquote>
<p>告知服务器浏览器能接受的文件类型，q 是资源的优先级，取值范围是 0-1,1 的权限最高，默认是 1</p>
</blockquote>
<p>Referer:<a target="_blank" rel="noopener" href="http://localhost:63342/node/day04/1.express%E6%9C%8D%E5%8A%A1%E5%99%A8/demo.html?%5C_ijt=tjfnb0cpos62ql8umjmm9v24ve">http://localhost:63342/node/day04/1.express%E6%9C%8D%E5%8A%A1%E5%99%A8/demo.html?\_ijt=tjfnb0cpos62ql8umjmm9v24ve</a></p>
<blockquote>
<p>在当前 url 下发出去的请求，是一个完整 url，也可以做防盗链、同时也可以做广告计费</p>
</blockquote>
<p>Accept-Encoding: gzip, deflate, br</p>
<blockquote>
<p>告诉服务器浏览器能支持的文件压缩格式 Accept-Language: zh-</p>
</blockquote>
<p>CN,zh;q&#x3D;0.9,en-US;q&#x3D;0.8,en;q&#x3D;0.7</p>
<blockquote>
<p>告诉服务器，浏览器能够接受的语言</p>
</blockquote>
<p>Cookie: Webstorm-9af2238&#x3D;09820128-3adb-43e4-8242-a6f65c9e523a</p>
<blockquote>
<p>Webstorm 帮你“种”的一个 cookie</p>
</blockquote>
<p><strong>空行</strong></p>
<p><strong>报文体</strong></p>
<p>name&#x3D;kobe&amp;age&#x3D;18</p>
<blockquote>
<p>携带过去的数据，以 urlencoded 进行编码</p>
</blockquote>
<h2 id="5-http-状态码"><a href="#5-http-状态码" class="headerlink" title="5.http 状态码"></a>5.http 状态码</h2><h3 id="01-Http-状态码"><a href="#01-Http-状态码" class="headerlink" title="01.Http 状态码"></a>01.Http 状态码</h3><blockquote>
<p>服务器给客户端的东西</p>
</blockquote>
<p>作用：</p>
<ul>
<li>告诉客户端，当前服务器处理请求的结果</li>
</ul>
<h3 id="02-http-状态码的分类"><a href="#02-http-状态码的分类" class="headerlink" title="02.http 状态码的分类"></a>02.http 状态码的分类</h3><ul>
<li>1xx : 服务器已经收到了本次请求，但是还需要进一步的处理才可以。</li>
<li>2xx : 服务器已经收到了本次请求，且已经分析、处理等……..最终处理完毕！</li>
<li>3xx : 服务器已经接收到了请求，还需要其他的资源，或者重定向到其他位置，甚至交给其他服务器处理。</li>
<li>4xx ：一般指请求的参数或者地址有错误， 出现了服务器无法理解的请求（一般是前端的锅）。</li>
<li>5xx ：服务器内部错误（不是因为请求地址或者请求参数不当造成的），无法响应用户请求（一般是后端人员的锅）。</li>
</ul>
<h3 id="03-常见的几个状态码"><a href="#03-常见的几个状态码" class="headerlink" title="03.常见的几个状态码"></a>03.常见的几个状态码</h3><ul>
<li>200 ：成功（最理想状态）</li>
<li>301 ：重定向，被请求的旧资源永久移除了（不可以访问了），将会跳转到一个新资源，搜索引擎在抓取新内容的同时也将旧的网址替换为重定向之后的网址；</li>
<li>302 ：重定向，被请求的旧资源还在（仍然可以访问），但会临时跳转到一个新资源，搜索引擎会抓取新的内容而保存旧的网址。</li>
<li>304 ：请求资源重定向到缓存中（命中了协商缓存）。</li>
<li>404 ：资源未找到，一般是客户端请求了不存在的资源。</li>
<li>500 ：服务器收到了请求，但是服务器内部产生了错误。</li>
<li>502 ：连接服务器失败（服务器在处理一个请求的时候，或许需要其他的服务器配合，但是联系不上其他的服务器了）。</li>
</ul>
<h1 id="六、Express"><a href="#六、Express" class="headerlink" title="六、Express"></a>六、Express</h1><blockquote>
<p>express 的作用和 Node.js 内置的 http 模块类似，专门快速创建 Web 服务器的</p>
<p>功能与 Http 相同，Express 基于 Http 模块进行封装的。类似于 Web API 和 jQuery 关系</p>
</blockquote>
<h2 id="1-安装"><a href="#1-安装" class="headerlink" title="1.安装"></a>1.安装</h2><p>创建基本 Web 服务器</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.引入express</span></span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&quot;express&quot;</span>);</span><br><span class="line"><span class="comment">//2.创建app服务对象</span></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>();</span><br><span class="line"><span class="keyword">const</span> port = <span class="number">3000</span>;</span><br><span class="line"><span class="comment">//3.设置路由(这里配置的是后端路由)   路由可以理解为：key-value的组合，响应路由是一个匹配的过程。</span></span><br><span class="line"><span class="comment">//根路由</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&quot;/&quot;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">//发送给客户端的响应体</span></span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line">app.<span class="title function_">listen</span>(port, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Example app listening on port <span class="subst">$&#123;port&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="2-监听"><a href="#2-监听" class="headerlink" title="2.监听"></a>2.监听</h2><ul>
<li>get 请求</li>
<li>post 请求</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.引入express</span></span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&quot;express&quot;</span>);</span><br><span class="line"><span class="comment">//2.创建app服务对象</span></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>();</span><br><span class="line"><span class="keyword">const</span> port = <span class="number">3000</span>;</span><br><span class="line"><span class="comment">// 4.间厅客户端的 GET 和 POST请求，并向客户端响应具体的内容</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&quot;/&quot;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">//调用 express 提供的 res.send() 方法，向客户端响应一个 JSON 对象</span></span><br><span class="line">  res.<span class="title function_">send</span>(&#123; <span class="attr">name</span>: <span class="string">&quot;zs&quot;</span>, <span class="attr">age</span>: <span class="number">20</span>, <span class="attr">gender</span>: <span class="string">&quot;男&quot;</span> &#125;);</span><br><span class="line">&#125;);</span><br><span class="line">app.<span class="title function_">post</span>(<span class="string">&quot;/user&quot;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">//调用//调用 express 提供的 res.send() 方法，向客户端响应一个 文本字符串</span></span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&quot;请求成功&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line">app.<span class="title function_">listen</span>(port, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Example app listening on port <span class="subst">$&#123;port&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><img src="/2023/10/07/Node-js/image-20231008163504272.png" alt="image-20231008163504272"></p>
<h2 id="3-方法"><a href="#3-方法" class="headerlink" title="3.方法"></a>3.方法</h2><ol>
<li><p>request.send()可以把处理好的内容，发送给客户端</p>
</li>
<li><p>req.query 可以访问到客户端通过查询字符串的形式，发送到服务器的参数</p>
<p><img src="/2023/10/07/Node-js/image-20231008165408048.png" alt="image-20231008165408048"></p>
</li>
<li><p>req.params 是动态匹配到 URL 参数，默认也是一个空对象</p>
<p><img src="/2023/10/07/Node-js/image-20231008164902316.png" alt="image-20231008164902316"></p>
</li>
</ol>
<h2 id="4-托管静态资源"><a href="#4-托管静态资源" class="headerlink" title="4.托管静态资源"></a>4.托管静态资源</h2><p>**express.static()**，通过它，我们可以非常方便地创建一个静态资源服务器，例如，通过如下代码就可以将 public 目录下的图片、CSS 文件、JavaScript 文件对外开放访问了：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&quot;express&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>();</span><br><span class="line"><span class="comment">//托管多个静态资源目录(相当于起个别名访问)</span></span><br><span class="line"><span class="comment">// app.use(&#x27;/files&#x27;, express.static(&#x27;./files&#x27;))</span></span><br><span class="line"><span class="comment">// 在这里，调用 express.static() 方法，快速的对外提供静态资源</span></span><br><span class="line"><span class="comment">//这样就可以访问clock下所有文件了</span></span><br><span class="line"><span class="comment">// 不用输入前缀依旧可以访问文件夹下的所有静态资源</span></span><br><span class="line">app.<span class="title function_">use</span>(express.<span class="title function_">static</span>(<span class="string">&quot;./files&quot;</span>));</span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">3000</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;express server running at http://127.0.0.1&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>app.use(express.static(‘.&#x2F;files’))</li>
</ul>
<p><strong>注意：</strong>Express 在指定的静态目录中查找文件，并对外提供资源的访问路径。因此，<strong>存放静态文件的目录名不会出现在 URL 中。</strong></p>
<p><img src="/2023/10/07/Node-js/image-20231008171005003.png" alt="image-20231008171005003"></p>
<ul>
<li>app.<strong>use</strong>(‘&#x2F;files’, <strong>express</strong>.<strong>static</strong>(‘.&#x2F;files’)) 挂载路径前缀</li>
</ul>
<p>这样书写需要添加 <a target="_blank" rel="noopener" href="http://localhost:3000/files/index1.html">http://localhost:3000/files/index1.html</a></p>
<h2 id="5-nodemon"><a href="#5-nodemon" class="headerlink" title="5. nodemon"></a>5. nodemon</h2><blockquote>
<p>在编写调试 Node.js 项目的时候，如果修改了项目的代码，则需要频繁的手动 close 掉，然后再重新启动。nodemon 会自动帮我们重启</p>
</blockquote>
<ul>
<li>安装：npm i nodemon -g</li>
<li>使用：nodemon xxx.js</li>
</ul>
<h2 id="6-Express-中的路由"><a href="#6-Express-中的路由" class="headerlink" title="6.Express 中的路由"></a>6.Express 中的路由</h2><blockquote>
<p>在 Express 中，路由指的是<strong>客户端的请求</strong>与<strong>服务器处理函数</strong>之间的映射关系。Express 中的路由分 3 部分组成，分别是<strong>请求的类型、请求的 URL 地址、处理函数</strong></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&quot;express&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>();</span><br><span class="line"><span class="keyword">const</span> port = <span class="number">3000</span>;</span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&quot;/&quot;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line">app.<span class="title function_">post</span>(<span class="string">&quot;/user&quot;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">//调用//调用 express 提供的 res.send() 方法，向客户端响应一个 文本字符串</span></span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&quot;请求成功&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line">app.<span class="title function_">listen</span>(port, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Example app listening on port <span class="subst">$&#123;port&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="7-路由匹配过程"><a href="#7-路由匹配过程" class="headerlink" title="7.路由匹配过程"></a>7.路由匹配过程</h2><p><code>每当一个请求到达服务器之后，需要先经过路由的匹配</code>，只有匹配成功之后，才会调用对应的处理函数。在匹配时，会按照路由的顺序进行匹配，如果<code>请求类型和请求的 URL 同时匹配成功</code>，则 Express 会将这次请求，转交给对应的<code> function 函数</code>进行处理。</p>
<h2 id="8-模块化路由"><a href="#8-模块化路由" class="headerlink" title="8.模块化路由"></a>8.模块化路由</h2><h1 id="AJAX"><a href="#AJAX" class="headerlink" title="AJAX"></a>AJAX</h1><blockquote>
<p>ajax 全名 async javascript and XML(异步 JavaScript 和 XML)</p>
<p>JS 与服务端交互的手段</p>
</blockquote>
<h2 id="1-优势"><a href="#1-优势" class="headerlink" title="1.优势"></a>1.优势</h2><ul>
<li>原生 JS 就可以实现与服务器的交互</li>
<li>不需要刷新页面就可以更新页面</li>
<li><code>减轻服务端和带宽的负担</code><ul>
<li>（不用重新加载整个页面,也就可以减轻服务端的请求次数）</li>
<li>前端可以发送异步请求到服务器，服务器处理请求并返回数据，前端再根据返回的数据更新网页内容。这种请求与返回的分离，可以减少带宽的负担，因为不需要传输整个页面的数据。</li>
</ul>
</li>
</ul>
<h2 id="2-缺点"><a href="#2-缺点" class="headerlink" title="2.缺点"></a>2.缺点</h2><ul>
<li><p>跨域限制</p>
</li>
<li><p>安全问题：AJAX 请求可能会被恶意脚本利用，从而导致安全问题。</p>
</li>
</ul>
<h2 id="3-AJAX-的基本使用"><a href="#3-AJAX-的基本使用" class="headerlink" title="3.AJAX 的基本使用"></a>3.AJAX 的基本使用</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.创建网络请求的AJAX对象（使用XMLHttpRequest）</span></span><br><span class="line"><span class="keyword">let</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line"><span class="comment">//2.监听XMLHttpRequest对象状态的变化，或者监听onload事件（请求完成时触发）</span></span><br><span class="line">xhr.<span class="property">onreadystatechange</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (xhr.<span class="property">readyState</span> == <span class="title class_">XMLHttpRequest</span>.<span class="property">DONE</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;--------------&quot;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(xhr.<span class="property">response</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;--------------&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//3.指定发请求的：方式、地址、参数。</span></span><br><span class="line">xhr.<span class="title function_">open</span>(<span class="string">&quot;get&quot;</span>, <span class="string">&quot;http://127.0.0.1:3000/get&quot;</span>);</span><br><span class="line"><span class="comment">//4.发送请求。</span></span><br><span class="line">xhr.<span class="title function_">send</span>();</span><br></pre></td></tr></table></figure>

<h2 id="4-AJAX-的状态"><a href="#4-AJAX-的状态" class="headerlink" title="4.AJAX 的状态"></a>4.AJAX 的状态</h2><ul>
<li>0：当 xhr 被实例化出来，状态就是 0，即：初始化状态。</li>
<li>1：请求还没有发出去，即：send 方法还没有被调用，依然可以修改请求头。</li>
<li>2：请求已经发出去了，即：send 方法已经被调用了，不能再修改请求头，响应首行和响应头已经回来了。</li>
<li>3：数据回来了(但是数据可能不完整，如果数据小，会在此阶段直接接收完毕，数据大有待于进一步接收)</li>
<li>4：数据完全回来了</li>
</ul>
<h2 id="5-xhr-对象的-load-事件"><a href="#5-xhr-对象的-load-事件" class="headerlink" title="5.xhr 对象的 load 事件"></a>5.xhr 对象的 load 事件</h2><p>除了 onreadystatechange，还有其他的事件可以监听，如下：</p>
<ul>
<li>loadstart：请求开始</li>
<li>progress： 一个响应数据包到达，此时整个 response body 都在 response 中</li>
<li>abort：调用 xhr.abort() 取消了请求</li>
<li>error：发生连接错误，例如，域错误。不会发生诸如 404 这类的 HTTP 错误</li>
<li><code>load</code>：请求成功完成，我们也可以使用 load 来获取数据</li>
<li>timeout：由于请求超时而取消了该请求（仅发生在设置了 timeout 的情况下）</li>
<li>loadend：在 load，error，timeout 或 abort 之后触发</li>
</ul>
<h2 id="6-url-的编码与解码"><a href="#6-url-的编码与解码" class="headerlink" title="6.url 的编码与解码"></a>6.url 的编码与解码</h2><p><strong>情况1</strong>：基于 encodeURI&#x2F;decodeURI 对整个URL进行编码解码。</p>
<p>特点：只处理了中文和空格等，对于比较特殊的字符（例如：&#x2F;&#x2F; : ? # &amp; 等）不处理。</p>
<p>代码演示：</p>
<p><img src="/2023/10/07/Node-js/image-20231009221436060.png" alt="image-20231009221436060"></p>
<p><strong>情况2</strong>：基于 encodeURIComponent&#x2F;decodeURIComponent 对URL地址中的某一部分进行编码和解码</p>
<p>特点：在encodeURI的基础上，还会对 “&#x2F;&#x2F; : ? # &amp;” 等特殊符合编码</p>
<p>代码演示：</p>
<p><img src="/2023/10/07/Node-js/image-20231009221522305.png" alt="image-20231009221522305"></p>
<p>如果url中有中文件或空格，或特殊符号，我们会对它进行编码，如下：</p>
<p><img src="/2023/10/07/Node-js/image-20231009221603470.png" alt="image-20231009221603470"></p>
<p><strong>总结：</strong></p>
<p>还可以基于 escape&#x2F;unescape 达到类似于 encodeURIComponent 的效果，只不过：escape一般只有前端有，后端语言中很少具备这个API！所以，建议大家还是使用 encodeURIComponent或者encodeURI（因为大部分后端语言，都具备这样的API）！</p>
<h2 id="7-给服务器传递参数"><a href="#7-给服务器传递参数" class="headerlink" title="7.给服务器传递参数"></a>7.给服务器传递参数</h2><ul>
<li>查询字符串数据（query 参数）</li>
</ul>
<blockquote>
<p>形如：key&#x3D;value&amp;key&#x3D;value 就是query参数的urlencoded编码形式</p>
</blockquote>
<ul>
<li><p>路径参数（params 参数）</p>
<blockquote>
<p>形如：&#x2F;xx&#x2F;xxx&#x2F;老刘&#x2F;18 就是params参数</p>
</blockquote>
</li>
<li><p>表单数据</p>
</li>
</ul>
<blockquote>
<p><img src="/2023/10/07/Node-js/image-20231009223058711.png" alt="image-20231009223058711"></p>
</blockquote>
<ul>
<li>formdata 数据</li>
</ul>
<blockquote>
<p><img src="/2023/10/07/Node-js/image-20231009223208337.png" alt="image-20231009223208337"></p>
<p><img src="/2023/10/07/Node-js/image-20231009223329273.png" alt="image-20231009223329273"></p>
<p>通过FormData();传递的参数不是urlencoded编码形式。(FormData()会收集表单里的数据)</p>
</blockquote>
<ul>
<li>文件数据</li>
</ul>
<blockquote>
<p><img src="/2023/10/07/Node-js/image-20231009223745814.png" alt="image-20231009223745814"></p>
</blockquote>
<ul>
<li><p>上传 JSON 数据</p>
<blockquote>
<p><img src="/2023/10/07/Node-js/image-20231009223927331.png" alt="image-20231009223927331"></p>
</blockquote>
</li>
<li><p>通过请求头传递数据</p>
<blockquote>
<p><img src="/2023/10/07/Node-js/image-20231009221955982.png" alt="image-20231009221955982"></p>
</blockquote>
<ul>
<li>面板中看请求头，如下：</li>
</ul>
<blockquote>
<p><img src="/2023/10/07/Node-js/image-20231009222038873.png" alt="image-20231009222038873"></p>
</blockquote>
</li>
</ul>
<h2 id="8-get请求"><a href="#8-get请求" class="headerlink" title="8.get请求"></a>8.get请求</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;!<span class="variable constant_">DOCTYPE</span> html&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>3_ajax_get请求<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="selector-id">#content</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">width</span>: <span class="number">300px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">height</span>: <span class="number">100px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">border</span>: <span class="number">1px</span> solid black;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>该页面是测试：ajax_get请求<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn&quot;</span>&gt;</span>点我发送请求(原生js-ajax-get)<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;content&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//获取按钮</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">const</span> btn = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;btn&quot;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">const</span> content = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;content&quot;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//给按钮绑定监听</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      btn.<span class="property">onclick</span> = <span class="function">() =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">//1.创建xhr实例对象</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">//绑定监听</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        xhr.<span class="property">onreadystatechange</span> = <span class="function">() =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="keyword">if</span> (xhr.<span class="property">readyState</span> === <span class="number">4</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">if</span> (xhr.<span class="property">status</span> &gt;= <span class="number">200</span> &amp;&amp; xhr.<span class="property">status</span> &lt; <span class="number">300</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              <span class="variable language_">console</span>.<span class="title function_">log</span>(xhr.<span class="property">response</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              content.<span class="property">innerHTML</span> = <span class="string">`&lt;h3&gt;<span class="subst">$&#123;xhr.response&#125;</span>&lt;/h3&gt;`</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">//#region</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">/* </span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">						1.形如：key=value&amp;key=value 就是query参数的urlencoded编码形式</span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">						2.形如：/xx/xxx/老刘/18 就是params参数</span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">				*/</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">//#endregion</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">//2.指定发送请求的：method、url、参数</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// xhr.open(&#x27;GET&#x27;,&#x27;http://127.0.0.1:8080/test_get?name=老刘&amp;age=18&#x27;) //携带query参数</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        xhr.<span class="title function_">open</span>(<span class="string">&quot;PUT&quot;</span>, <span class="string">&quot;http://127.0.0.1:8080/test_put&quot;</span>); <span class="comment">//携带params参数</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">//3.发送请求</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        xhr.<span class="title function_">send</span>();</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="9-post请求"><a href="#9-post请求" class="headerlink" title="9.post请求"></a>9.post请求</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">&lt;!<span class="variable constant_">DOCTYPE</span> html&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">		<span class="tag">&lt;<span class="name">title</span>&gt;</span>4_ajax_post请求<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">		<span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">			<span class="selector-id">#content</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">				<span class="attribute">width</span>: <span class="number">300px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">				<span class="attribute">height</span>: <span class="number">100px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">				<span class="attribute">border</span>: <span class="number">1px</span> solid black;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">				<span class="attribute">margin-top</span>: <span class="number">10px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">			&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">		</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">		<span class="tag">&lt;<span class="name">h3</span>&gt;</span>该页面是测试：ajax_post请求<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">		<span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn&quot;</span>&gt;</span>点我发送请求(原生js-ajax-post)<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;content&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> &gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">			<span class="comment">//获取按钮</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">			<span class="keyword">const</span> btn = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;btn&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">			<span class="keyword">const</span> content = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;content&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">			<span class="comment">//给按钮绑定监听</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">			btn.<span class="property">onclick</span> = <span class="function">()=&gt;</span>&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">				<span class="comment">//1.创建xhr实例对象</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">				<span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">				<span class="comment">//绑定监听</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">				xhr.<span class="property">onreadystatechange</span> = <span class="function">()=&gt;</span>&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">					<span class="keyword">if</span>(xhr.<span class="property">readyState</span> === <span class="number">4</span> )&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">						<span class="keyword">if</span>(xhr.<span class="property">status</span> &gt;= <span class="number">200</span> &amp;&amp; xhr.<span class="property">status</span> &lt; <span class="number">300</span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">							<span class="variable language_">console</span>.<span class="title function_">log</span>(xhr.<span class="property">response</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">							content.<span class="property">innerHTML</span> = <span class="string">`&lt;h3&gt;<span class="subst">$&#123;xhr.response&#125;</span>&lt;/h3&gt;`</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">						&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">					&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">				&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">				<span class="comment">//2.指定发送请求的：method、url、参数</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">				xhr.<span class="title function_">open</span>(<span class="string">&#x27;POST&#x27;</span>,<span class="string">&#x27;http://127.0.0.1:8080/test_post&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">				<span class="comment">//追加响应头用于标识携带请求体参数的编码形式--urlencoded</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                 <span class="comment">//表示客户端提交给服务器文本内容的编码方式 是URL编码</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">				xhr.<span class="title function_">setRequestHeader</span>(<span class="string">&#x27;Content-type&#x27;</span>,<span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">				<span class="comment">//追加响应头用于标识携带请求体参数的编码形式--json</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                 <span class="comment">//如果不设置请求头，你请求的数据就是文本</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">				<span class="comment">//xhr.setRequestHeader(&#x27;Content-type&#x27;,&#x27;application/json&#x27;)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">				<span class="comment">//3.发送请求</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">				<span class="keyword">const</span> person = &#123;<span class="attr">name</span>:<span class="string">&#x27;老刘&#x27;</span>,<span class="attr">age</span>:<span class="number">20</span>&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">				xhr.<span class="title function_">send</span>(<span class="string">&#x27;name=老刘&amp;age=18&#x27;</span>) <span class="comment">//携带urlencoded编码形式的请求体参数</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">				<span class="comment">// xhr.send(JSON.stringify(person)) //携带json编码形式的请求体参数</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">			&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">		</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p><img src="/2023/10/07/Node-js/image-20231011213755363.png" alt="image-20231011213755363"></p>
<h2 id="10-延迟时间与取消请求"><a href="#10-延迟时间与取消请求" class="headerlink" title="10.延迟时间与取消请求"></a>10.延迟时间与取消请求</h2><blockquote>
<p>在网络请求的过程中，为了避免过长的时间服务器无法返回数据，通常我们会为请求设置一个超时时间：<code>xhr.timeout = 3000</code> 请求超出3s就断开</p>
</blockquote>
<p><img src="/2023/10/07/Node-js/image-20231009224141682.png" alt="image-20231009224141682"></p>
<p><strong>取消请求</strong></p>
<blockquote>
<ul>
<li>补充responseType用于指定返回数据的格式    xhr.responseType &#x3D; ‘json’</li>
<li>xhr.<strong>abort</strong>()取消请求</li>
</ul>
</blockquote>
<h1 id="Axios"><a href="#Axios" class="headerlink" title="Axios"></a>Axios</h1><blockquote>
<p>Axios 是一个基于 promise 的网络请求库，可以用于浏览器和 node.js</p>
</blockquote>
<h2 id="1-功能特点"><a href="#1-功能特点" class="headerlink" title="1.功能特点"></a>1.功能特点</h2><ul>
<li>基于xhr + promise的异步ajax请求库</li>
<li>浏览器端&#x2F;node端都可以使用</li>
<li>支持 Promise API</li>
<li>自动转换JSON数据</li>
<li>拦截请求和响应</li>
<li>转换请求和响应数据</li>
<li>支持请求取消</li>
<li>批量发送多个请求</li>
</ul>
<h2 id="2-axios请求方式"><a href="#2-axios请求方式" class="headerlink" title="2.axios请求方式"></a>2.axios请求方式</h2><ul>
<li>axios(config): 通用&#x2F;最本质的发任意类型请求的方式</li>
<li>axios(url[, config]): 可以只指定url发get请求</li>
<li>axios.request(config): 等同于axios(config)</li>
<li>axios.get(url[, config]): 发get请求</li>
<li>axios.delete(url[, config]): 发delete请求</li>
<li>axios.post(url[, data, config]): 发post请求</li>
<li>axios.put(url[, data, config]): 发put请求</li>
<li>axios.defaults.xxx: 请求的默认全局配置</li>
<li>axios.interceptors.request.use(): 添加请求拦截器</li>
<li>axios.interceptors.response.use(): 添加响应拦截器</li>
<li>axios.create(config): 创建一个新的axios(它没有下面的功能)</li>
<li>axios. Cancel(): 用于创建取消请求的错误对象</li>
<li>axios. CancelToken(): 用于创建取消请求的token对象</li>
<li>axios.isCancel(): 是否是一个取消请求的错误</li>
<li>axios.all(promises): 用于批量执行多个异步请求</li>
<li>axios.spread(): 用来指定接收所有成功数据的回调函数的方法</li>
</ul>
<h2 id="3-常见的配置选项"><a href="#3-常见的配置选项" class="headerlink" title="3.常见的配置选项"></a>3.常见的配置选项</h2><ul>
<li>请求地址 url: ‘&#x2F;user’</li>
<li>请求类型 method: ‘get’</li>
<li>根求路径 baseURL: ‘<a target="_blank" rel="noopener" href="http://www.mt.com/api">http://www.mt.com/api</a>‘</li>
<li>请求前的数据处理 transformRequest:function(data){}</li>
<li>请求后的数据处理 transformResponse: function(data){}</li>
<li>自定义的请求头 headers:{‘x-Requested-With’:’XMLHttpRequest’}</li>
<li>URL查询对象 params:{ id: 12 }</li>
<li>查询对象序列化函数 paramsSerializer: function(params){ }</li>
<li>request body data: { key: ‘aa’}</li>
<li>超时设置 timeout: 1000</li>
</ul>
<h2 id="4-常见请求"><a href="#4-常见请求" class="headerlink" title="4.常见请求"></a>4.常见请求</h2><h3 id="01-GET请求"><a href="#01-GET请求" class="headerlink" title="01.GET请求"></a>01.GET请求</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> axios = <span class="built_in">require</span>(<span class="string">&#x27;axios&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 向给定ID的用户发起请求</span></span><br><span class="line">axios.<span class="title function_">get</span>(<span class="string">&#x27;/user?ID=12345&#x27;</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">response</span>) &#123;</span><br><span class="line">    <span class="comment">// 处理成功情况</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">    <span class="comment">// 处理错误情况</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 总是会执行</span></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 上述请求也可以按以下方式完成（可选）</span></span><br><span class="line">axios.<span class="title function_">get</span>(<span class="string">&#x27;/user&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">params</span>: &#123;</span><br><span class="line">      <span class="attr">ID</span>: <span class="number">12345</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">response</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 总是会执行</span></span><br><span class="line">  &#125;);  </span><br><span class="line"></span><br><span class="line"><span class="comment">// 支持async/await用法</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">getUser</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> response = <span class="keyword">await</span> axios.<span class="title function_">get</span>(<span class="string">&#x27;/user?ID=12345&#x27;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(response);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(error);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="02-POST请求"><a href="#02-POST请求" class="headerlink" title="02.POST请求"></a>02.POST请求</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">axios.<span class="title function_">post</span>(<span class="string">&#x27;/user&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">firstName</span>: <span class="string">&#x27;Fred&#x27;</span>,</span><br><span class="line">    <span class="attr">lastName</span>: <span class="string">&#x27;Flintstone&#x27;</span></span><br><span class="line">  &#125;)</span><br><span class="line"><span class="comment">//axios传递的数据默认是application/x-www-form-urlencoded</span></span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">response</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="comment">//更改为json</span></span><br><span class="line"> axios.<span class="title function_">post</span>(</span><br><span class="line">          <span class="string">&quot;http://127.0.0.1:3000/post&quot;</span>,</span><br><span class="line">          &#123; <span class="attr">name</span>: <span class="string">&quot;老刘&quot;</span>, <span class="attr">age</span>: <span class="number">20</span> &#125;,</span><br><span class="line">          &#123; <span class="attr">headers</span>: &#123; <span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;application/json&quot;</span> &#125; &#125;  </span><br><span class="line">  ).<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>多个并发请求</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getUserAccount</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> axios.<span class="title function_">get</span>(<span class="string">&#x27;/user/12345&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getUserPermissions</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> axios.<span class="title function_">get</span>(<span class="string">&#x27;/user/12345/permissions&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">all</span>([<span class="title function_">getUserAccount</span>(), <span class="title function_">getUserPermissions</span>()])</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">results</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> acct = results[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">const</span> perm = results[<span class="number">1</span>];</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li><p>axios.all(promises): 用于批量执行多个异步请求</p>
<p><img src="/2023/10/07/Node-js/image-20231011112514628.png" alt="image-20231011112514628"></p>
</li>
<li><p>axios(config)</p>
</li>
</ul>
<blockquote>
<p>全局 axios 默认值</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">axios.<span class="property">defaults</span>.<span class="property">baseURL</span> = <span class="string">&#x27;https://api.example.com&#x27;</span>;</span><br><span class="line">axios.<span class="property">defaults</span>.<span class="property">headers</span>.<span class="property">post</span>[<span class="string">&#x27;Content-Type&#x27;</span>] = <span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span>;</span><br><span class="line">axios.<span class="property">defaults</span>.<span class="property">timeout</span> = <span class="number">3000</span>;</span><br><span class="line"><span class="comment">//给请求添加请求头</span></span><br><span class="line">axios.<span class="property">defaults</span>.<span class="property">headers</span> = &#123;</span><br><span class="line">    <span class="attr">a</span>:<span class="number">1</span>,</span><br><span class="line">    <span class="attr">b</span>:<span class="number">2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%90%8E%E7%AB%AF/">后端</a></div><div class="post_share"><div class="social-share" data-image="/../imgs/tag.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/2023/09/18/Java%E5%9F%BA%E7%A1%80/" title="Java基础"><img class="cover" src="/../imgs/tag.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">Java基础</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2023/09/18/Java%E5%9F%BA%E7%A1%80/" title="Java基础"><img class="cover" src="/../imgs/tag.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-18</div><div class="title">Java基础</div></div></a></div><div><a href="/2023/09/18/mysql/" title="Mysql"><img class="cover" src="/../imgs/tag.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-18</div><div class="title">Mysql</div></div></a></div></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comment</span></div><div id="comment-switch"><span class="first-comment">Valine</span><span class="switch-btn"></span><span class="second-comment">Disqus</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div><div><div id="disqus_thread"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/./imgs/avatar.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">平凡人</div><div class="author-info__description">记录自己的学习心得以及学习记录</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">8</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">13</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">4</div></a></div><a id="card-info-btn" href="https://startafresh.github.io"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/StartAfresh" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:1397749820@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #333;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80%E3%80%81Node-js-%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.</span> <span class="toc-text">一、Node.js 介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#01-%E4%BC%98%E7%82%B9%E4%B8%8E%E7%BC%BA%E7%82%B9"><span class="toc-number">1.1.</span> <span class="toc-text">01.优点与缺点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#02-nodejs-%E4%B8%8E-java-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.2.</span> <span class="toc-text">02.nodejs 与 java 的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#03-node-%E4%B8%AD%E7%9A%84%E5%87%BD%E6%95%B0"><span class="toc-number">1.3.</span> <span class="toc-text">03.node 中的函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#04-%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AB%AF%E4%B8%8E-Node-%E7%AB%AF%EF%BC%8Cjs-%E7%9A%84%E7%BB%84%E6%88%90%E9%83%A8%E5%88%86%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.4.</span> <span class="toc-text">04.浏览器端与 Node 端，js 的组成部分的区别</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AB%AF"><span class="toc-number">1.4.1.</span> <span class="toc-text">1_浏览器端</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Node-%E7%AB%AF%EF%BC%8Cjs-%E7%94%B1%E9%82%A3%E5%87%A0%E9%83%A8%E5%88%86%E7%BB%84%E6%88%90%EF%BC%9F"><span class="toc-number">1.4.2.</span> <span class="toc-text">2_Node 端，js 由那几部分组成？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-node-%E4%B8%AD%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF%E6%A8%A1%E5%9E%8B%EF%BC%88%E4%BA%86%E8%A7%A3%E5%8D%B3%E5%8F%AF%EF%BC%89"><span class="toc-number">1.4.3.</span> <span class="toc-text">3.node 中的事件循环模型（了解即可）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#05-nvm"><span class="toc-number">1.5.</span> <span class="toc-text">05.nvm</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">1.5.1.</span> <span class="toc-text">1 常用命令</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%8C%85%E4%B8%8E-npm-%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8"><span class="toc-number">2.</span> <span class="toc-text">二、包与 npm 包管理器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#01-%E5%8C%85%E7%9A%84%E7%BB%84%E6%88%90%E9%83%A8%E5%88%86"><span class="toc-number">2.0.1.</span> <span class="toc-text">01.包的组成部分</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#02-%E6%8D%A2%E6%BA%90"><span class="toc-number">2.0.2.</span> <span class="toc-text">02.换源</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#03-npm"><span class="toc-number">2.0.3.</span> <span class="toc-text">03.npm</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#04-%E5%8F%91%E5%8C%85"><span class="toc-number">2.0.4.</span> <span class="toc-text">04_发包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#05-%E5%88%A0%E9%99%A4%E5%8C%85"><span class="toc-number">2.0.5.</span> <span class="toc-text">05_删除包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#06-cnpm-%E5%92%8C-yarn"><span class="toc-number">2.0.6.</span> <span class="toc-text">06_cnpm 和 yarn</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E6%A8%A1%E5%9D%97%E5%8C%96"><span class="toc-number">3.</span> <span class="toc-text">三、模块化</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#01-%E6%A6%82%E5%BF%B5"><span class="toc-number">3.1.</span> <span class="toc-text">01.概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#02-commonjs-%E8%A7%84%E8%8C%83"><span class="toc-number">3.2.</span> <span class="toc-text">02. commonjs 规范</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#03-CommonJS-%E8%A7%84%E8%8C%83%E8%A6%81%E6%B1%82"><span class="toc-number">3.3.</span> <span class="toc-text">03.CommonJS 规范要求</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#04-exports-%E5%AF%BC%E5%87%BA"><span class="toc-number">3.4.</span> <span class="toc-text">04.exports 导出</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#05-module-%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.5.</span> <span class="toc-text">05.module 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-module-exports"><span class="toc-number">3.5.1.</span> <span class="toc-text">1.module.exports</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-exports-%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.5.2.</span> <span class="toc-text">2.exports 对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%B3%A8%E6%84%8F"><span class="toc-number">3.5.3.</span> <span class="toc-text">3.注意</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#06-require-%E5%87%BD%E6%95%B0%E8%A7%A3%E6%9E%90%E6%B5%81%E7%A8%8B"><span class="toc-number">3.6.</span> <span class="toc-text">06.require 函数解析流程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#07-ES6Module-%E8%A7%84%E8%8C%83"><span class="toc-number">3.7.</span> <span class="toc-text">07.ES6Module 规范</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E9%97%AE%E9%A2%98"><span class="toc-number">3.7.1.</span> <span class="toc-text">1.问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%9A%B4%E9%9C%B2%E8%AF%AD%E6%B3%95%E6%B1%87%E6%80%BB"><span class="toc-number">3.7.2.</span> <span class="toc-text">2.暴露语法汇总</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%BC%95%E5%85%A5"><span class="toc-number">3.7.3.</span> <span class="toc-text">3.引入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-import-%E5%87%BD%E6%95%B0"><span class="toc-number">3.7.4.</span> <span class="toc-text">4.import 函数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E6%A0%B8%E5%BF%83%E6%A8%A1%E5%9D%97"><span class="toc-number">4.</span> <span class="toc-text">四、核心模块</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#01-fs-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="toc-number">4.1.</span> <span class="toc-text">01.fs 文件系统</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E8%AF%BB%E5%8F%96"><span class="toc-number">4.1.1.</span> <span class="toc-text">1.读取</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%86%99%E5%85%A5"><span class="toc-number">4.1.2.</span> <span class="toc-text">2.写入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#03-%E8%B7%AF%E5%BE%84%E5%8A%A8%E6%80%81%E6%8B%BC%E6%8E%A5%E9%97%AE%E9%A2%98%EF%BC%88%E4%BA%86%E8%A7%A3%EF%BC%89"><span class="toc-number">4.1.3.</span> <span class="toc-text">03 .路径动态拼接问题（了解）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#02-path-%E8%B7%AF%E5%BE%84%E6%A8%A1%E5%9D%97"><span class="toc-number">4.2.</span> <span class="toc-text">02.path 路径模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-path-join"><span class="toc-number">4.2.1.</span> <span class="toc-text">1.path.join()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-path-basename-path-ext"><span class="toc-number">4.2.2.</span> <span class="toc-text">2.path.basename(path[, ext])</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-path-extname"><span class="toc-number">4.2.3.</span> <span class="toc-text">3.path.extname()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%85%B6%E4%BB%96%E6%96%B9%E6%B3%95"><span class="toc-number">4.2.4.</span> <span class="toc-text">4.其他方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-Buffer-%E7%BC%93%E5%86%B2%E5%99%A8"><span class="toc-number">4.2.5.</span> <span class="toc-text">5.Buffer (缓冲器)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#03-http-%E6%A8%A1%E5%9D%97"><span class="toc-number">4.3.</span> <span class="toc-text">03.http 模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%9F%BA%E6%9C%AC-web-%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">4.3.1.</span> <span class="toc-text">1.基本 web 服务器</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80"><span class="toc-number">5.</span> <span class="toc-text">五、网络基础</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-http-%E5%8D%8F%E8%AE%AE"><span class="toc-number">5.1.</span> <span class="toc-text">1.http 协议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-HTTP-%E5%8D%8F%E8%AE%AE%E7%89%88%E6%9C%AC"><span class="toc-number">5.2.</span> <span class="toc-text">2.HTTP 协议版本</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-GET-%E8%AF%B7%E6%B1%82%E4%B8%8E-POST-%E8%AF%B7%E6%B1%82"><span class="toc-number">5.3.</span> <span class="toc-text">3.GET 请求与 POST 请求</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#01-%E5%89%8D%E8%A8%80"><span class="toc-number">5.3.1.</span> <span class="toc-text">01.前言</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#02-GET"><span class="toc-number">5.3.2.</span> <span class="toc-text">02.GET</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#02-POST"><span class="toc-number">5.3.3.</span> <span class="toc-text">02.POST</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#03-%E5%B8%B8%E8%A7%81%E7%9A%84-GET-%E8%AF%B7%E6%B1%82%EF%BC%9A"><span class="toc-number">5.3.4.</span> <span class="toc-text">03.常见的 GET 请求：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#04-%E5%B8%B8%E8%A7%81%E7%9A%84-POST-%E8%AF%B7%E6%B1%82%EF%BC%9A"><span class="toc-number">5.3.5.</span> <span class="toc-text">04.常见的 POST 请求：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#05-%E4%BA%8C%E8%80%85%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">5.3.6.</span> <span class="toc-text">05.二者的区别</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E6%8A%A5%E6%96%87"><span class="toc-number">5.4.</span> <span class="toc-text">4.报文</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#01-%E8%AF%B7%E6%B1%82%E6%8A%A5%E6%96%87"><span class="toc-number">5.4.1.</span> <span class="toc-text">01.请求报文</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#02-%E5%93%8D%E5%BA%94%E6%8A%A5%E6%96%87"><span class="toc-number">5.4.2.</span> <span class="toc-text">02.响应报文</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-http-%E7%8A%B6%E6%80%81%E7%A0%81"><span class="toc-number">5.5.</span> <span class="toc-text">5.http 状态码</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#01-Http-%E7%8A%B6%E6%80%81%E7%A0%81"><span class="toc-number">5.5.1.</span> <span class="toc-text">01.Http 状态码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#02-http-%E7%8A%B6%E6%80%81%E7%A0%81%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">5.5.2.</span> <span class="toc-text">02.http 状态码的分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#03-%E5%B8%B8%E8%A7%81%E7%9A%84%E5%87%A0%E4%B8%AA%E7%8A%B6%E6%80%81%E7%A0%81"><span class="toc-number">5.5.3.</span> <span class="toc-text">03.常见的几个状态码</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%AD%E3%80%81Express"><span class="toc-number">6.</span> <span class="toc-text">六、Express</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%AE%89%E8%A3%85"><span class="toc-number">6.1.</span> <span class="toc-text">1.安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E7%9B%91%E5%90%AC"><span class="toc-number">6.2.</span> <span class="toc-text">2.监听</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%96%B9%E6%B3%95"><span class="toc-number">6.3.</span> <span class="toc-text">3.方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E6%89%98%E7%AE%A1%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90"><span class="toc-number">6.4.</span> <span class="toc-text">4.托管静态资源</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-nodemon"><span class="toc-number">6.5.</span> <span class="toc-text">5. nodemon</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-Express-%E4%B8%AD%E7%9A%84%E8%B7%AF%E7%94%B1"><span class="toc-number">6.6.</span> <span class="toc-text">6.Express 中的路由</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E8%B7%AF%E7%94%B1%E5%8C%B9%E9%85%8D%E8%BF%87%E7%A8%8B"><span class="toc-number">6.7.</span> <span class="toc-text">7.路由匹配过程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E6%A8%A1%E5%9D%97%E5%8C%96%E8%B7%AF%E7%94%B1"><span class="toc-number">6.8.</span> <span class="toc-text">8.模块化路由</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#AJAX"><span class="toc-number">7.</span> <span class="toc-text">AJAX</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E4%BC%98%E5%8A%BF"><span class="toc-number">7.1.</span> <span class="toc-text">1.优势</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E7%BC%BA%E7%82%B9"><span class="toc-number">7.2.</span> <span class="toc-text">2.缺点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-AJAX-%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">7.3.</span> <span class="toc-text">3.AJAX 的基本使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-AJAX-%E7%9A%84%E7%8A%B6%E6%80%81"><span class="toc-number">7.4.</span> <span class="toc-text">4.AJAX 的状态</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-xhr-%E5%AF%B9%E8%B1%A1%E7%9A%84-load-%E4%BA%8B%E4%BB%B6"><span class="toc-number">7.5.</span> <span class="toc-text">5.xhr 对象的 load 事件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-url-%E7%9A%84%E7%BC%96%E7%A0%81%E4%B8%8E%E8%A7%A3%E7%A0%81"><span class="toc-number">7.6.</span> <span class="toc-text">6.url 的编码与解码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E7%BB%99%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0"><span class="toc-number">7.7.</span> <span class="toc-text">7.给服务器传递参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-get%E8%AF%B7%E6%B1%82"><span class="toc-number">7.8.</span> <span class="toc-text">8.get请求</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-post%E8%AF%B7%E6%B1%82"><span class="toc-number">7.9.</span> <span class="toc-text">9.post请求</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E5%BB%B6%E8%BF%9F%E6%97%B6%E9%97%B4%E4%B8%8E%E5%8F%96%E6%B6%88%E8%AF%B7%E6%B1%82"><span class="toc-number">7.10.</span> <span class="toc-text">10.延迟时间与取消请求</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Axios"><span class="toc-number">8.</span> <span class="toc-text">Axios</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%8A%9F%E8%83%BD%E7%89%B9%E7%82%B9"><span class="toc-number">8.1.</span> <span class="toc-text">1.功能特点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-axios%E8%AF%B7%E6%B1%82%E6%96%B9%E5%BC%8F"><span class="toc-number">8.2.</span> <span class="toc-text">2.axios请求方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B8%B8%E8%A7%81%E7%9A%84%E9%85%8D%E7%BD%AE%E9%80%89%E9%A1%B9"><span class="toc-number">8.3.</span> <span class="toc-text">3.常见的配置选项</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E5%B8%B8%E8%A7%81%E8%AF%B7%E6%B1%82"><span class="toc-number">8.4.</span> <span class="toc-text">4.常见请求</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#01-GET%E8%AF%B7%E6%B1%82"><span class="toc-number">8.4.1.</span> <span class="toc-text">01.GET请求</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#02-POST%E8%AF%B7%E6%B1%82"><span class="toc-number">8.4.2.</span> <span class="toc-text">02.POST请求</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/10/07/Node-js/" title="Node.js"><img src="/../imgs/tag.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Node.js"/></a><div class="content"><a class="title" href="/2023/10/07/Node-js/" title="Node.js">Node.js</a><time datetime="2023-10-07T03:13:06.000Z" title="Created 2023-10-07 11:13:06">2023-10-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/09/18/Java%E5%9F%BA%E7%A1%80/" title="Java基础"><img src="/../imgs/tag.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java基础"/></a><div class="content"><a class="title" href="/2023/09/18/Java%E5%9F%BA%E7%A1%80/" title="Java基础">Java基础</a><time datetime="2023-09-18T01:20:26.000Z" title="Created 2023-09-18 09:20:26">2023-09-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/09/18/mysql/" title="Mysql"><img src="/../imgs/tag.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Mysql"/></a><div class="content"><a class="title" href="/2023/09/18/mysql/" title="Mysql">Mysql</a><time datetime="2023-09-18T01:20:26.000Z" title="Created 2023-09-18 09:20:26">2023-09-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/09/15/JavaScript/" title="JavaScript"><img src="/../imgs/tag.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JavaScript"/></a><div class="content"><a class="title" href="/2023/09/15/JavaScript/" title="JavaScript">JavaScript</a><time datetime="2023-09-15T01:21:56.000Z" title="Created 2023-09-15 09:21:56">2023-09-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/09/15/Vue/" title="Vue"><img src="/../imgs/tag.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vue"/></a><div class="content"><a class="title" href="/2023/09/15/Vue/" title="Vue">Vue</a><time datetime="2023-09-15T01:21:56.000Z" title="Created 2023-09-15 09:21:56">2023-09-15</time></div></div></div></div><div class="card-widget" id="card-poem"><div id="poem_sentence"></div><div id="poem_info"><div id="poem_dynasty"></div><div id="poem_author"></div></div></div><script src="https://cdn.jsdelivr.net/npm/js-heo@1.0.11/poem/jinrishici.js" charset="utf-8"></script><script type="text/javascript">jinrishici.load(function(result) {
var sentence = document.querySelector("#poem_sentence")
var author = document.querySelector("#poem_author")
var dynasty = document.querySelector("#poem_dynasty")

var sentenceText = result.data.content
sentenceText = sentenceText.substr(0, sentenceText.length - 1);
sentence.innerHTML = sentenceText
dynasty.innerHTML = result.data.origin.dynasty
author.innerHTML = result.data.origin.author + '《' + result.data.origin.title + '》'
});</script></div></div></main><footer id="footer" style="background-image: url('/../imgs/tag.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By 平凡人</div><div class="footer_custom_text">Hi, welcome to my <a href="https://startafresh.github.io/">github</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="Toggle Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="Scroll To Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'Q9bzeJ7nHCm5e3u01E1yonjH-gzGzoHsz',
      appKey: 'gdljVihOxiWH8dJFWPoYFVYo',
      avatar: 'monsterid',
      serverURLs: '',
      emojiMaps: {"tv_doge":"http://oicq.2295.com/q/2010-4-23/cceb4e651c589ce27df450dc14b737a1.gif","tv_亲亲":"http://oicq.2295.com/q/2011-4-7/8708c5152e0d7bac54315a9510761ca5.gif","tv_偷笑":"https://telegraph-image-et0.pages.dev/file/5fbc0afdaba4695d81508.gif","tv_再见":"https://telegraph-image-et0.pages.dev/file/0fcdbc7888688c2032902.gif","tv_冷漠":"https://telegraph-image-et0.pages.dev/file/1ce1c9e6e1d0cfc40a1de.gif"},
      path: window.location.pathname,
      visitor: false
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !true) {
  if (true) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script><script>function loadDisqus () {
  const disqus_config = function () {
    this.page.url = 'https://startafresh.github.io/2023/10/07/Node-js/'
    this.page.identifier = '/2023/10/07/Node-js/'
    this.page.title = 'Node.js'
  }

  const disqusReset = () => {
    DISQUS.reset({
      reload: true,
      config: disqus_config
    })
  }

  btf.addModeChange('disqus', disqusReset)

  if (window.DISQUS) disqusReset()
  else {
    (function() { 
      var d = document, s = d.createElement('script');
      s.src = 'https://.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  }
}

if ('Valine' === 'Disqus' || !true) {
  if (true) btf.loadComment(document.getElementById('disqus_thread'), loadDisqus)
  else loadDisqus()
} else {
  function loadOtherComment () {
    loadDisqus()
  }
}
</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_clock_anzhiyu_injector_config(){
    var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
    var item_html = '<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>';
    console.log('已挂载butterfly_clock_anzhiyu')
    if(parent_div_git) {
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var qweather_key = 'b16a1fa0e63c46a4b8f28abfb06ae3fe';
  var gaud_map_key = 'e2b04289e870b005374ee030148d64fd&s=rsv3';
  var baidu_ak_key = 'undefined';
  var flag = 0;
  var clock_rectangle = '112.982279,28.19409';
  var clock_default_rectangle_enable = 'false';

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_clock_anzhiyu_injector_config();
  }
  else if (epage === cpage){
    butterfly_clock_anzhiyu_injector_config();
  }
  </script><script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script><script data-pjax src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.js"></script><!-- hexo injector body_end end --></body></html>