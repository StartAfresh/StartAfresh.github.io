<!DOCTYPE html><html lang="zh-cn" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Linux | 路漫漫其修远今,吾将上下而求索。</title><meta name="author" content="平凡人"><meta name="copyright" content="平凡人"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="linux学习笔记">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux">
<meta property="og:url" content="https://startafresh.github.io/2023/09/08/Linux/index.html">
<meta property="og:site_name" content="路漫漫其修远今,吾将上下而求索。">
<meta property="og:description" content="linux学习笔记">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://startafresh.github.io/imgs/tag.jpg">
<meta property="article:published_time" content="2023-09-08T14:30:31.000Z">
<meta property="article:modified_time" content="2023-09-15T02:14:50.654Z">
<meta property="article:author" content="平凡人">
<meta property="article:tag" content="Linux">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://startafresh.github.io/imgs/tag.jpg"><link rel="shortcut icon" href="/./imgs/avatar.jpeg"><link rel="canonical" href="https://startafresh.github.io/2023/09/08/Linux/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  dateSuffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Linux',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-09-15 10:14:50'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/font.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.css" /><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/./imgs/avatar.jpeg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">4</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">7</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">3</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw iconfont icon-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博客</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/shuoshuo/"><i class="fa-fw fas fa-comments-o"></i><span> 分享</span></a></li><li><a class="site-page child" href="/photos/"><i class="fa-fw fas fa-camera-retro"></i><span> 相册</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 影视</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/comment/"><i class="fa-fw fas fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/../imgs/tag.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="路漫漫其修远今,吾将上下而求索。"><span class="site-name">路漫漫其修远今,吾将上下而求索。</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw iconfont icon-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博客</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/shuoshuo/"><i class="fa-fw fas fa-comments-o"></i><span> 分享</span></a></li><li><a class="site-page child" href="/photos/"><i class="fa-fw fas fa-camera-retro"></i><span> 相册</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 影视</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/comment/"><i class="fa-fw fas fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Linux</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2023-09-08T14:30:31.000Z" title="Created 2023-09-08 22:30:31">2023-09-08</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2023-09-15T02:14:50.654Z" title="Updated 2023-09-15 10:14:50">2023-09-15</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%BF%90%E7%BB%B4/">运维</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Linux"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><ul>
<li>Linux 概述</li>
<li>Linux 发展</li>
<li>Linux 组成 🤞🤞</li>
<li>Linux 发行版本 🤞🤞🤞🤞🤞</li>
<li>Linux 企业选型 🤞🤞🤞🤞🤞</li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/da_ge_de_nv_ren/article/details/128391575">https://blog.csdn.net/da_ge_de_nv_ren&#x2F;article&#x2F;details&#x2F;128391575</a>\</li>
</ul>
<h2 id="1-Linux-概述"><a href="#1-Linux-概述" class="headerlink" title="1. Linux 概述"></a>1. Linux 概述</h2><blockquote>
<p>Linux 与 windows 类似 他们都是操作系统，只不过 Linux 用于企业环境，相对更稳定</p>
</blockquote>
<table>
<thead>
<tr>
<th>Linux</th>
<th>免费使用，较为稳定</th>
</tr>
</thead>
<tbody><tr>
<td>windows</td>
<td>收费 漏洞较多</td>
</tr>
</tbody></table>
<h2 id="2-Linux-发展"><a href="#2-Linux-发展" class="headerlink" title="2. Linux 发展"></a>2. Linux 发展</h2><h2 id="3-Linux-组成-🤞🤞"><a href="#3-Linux-组成-🤞🤞" class="headerlink" title="3.Linux 组成 🤞🤞"></a>3.Linux 组成 🤞🤞</h2><p>鸡蛋</p>
<ul>
<li>蛋壳：各种命令，服务，软件</li>
<li>蛋清：命令解释器（解释运行 Linux 命令）</li>
<li>蛋黄：Linux 内核(控制硬件)，无法直接操作内核</li>
</ul>
<ol>
<li>各种应用程序：linux 命令，服务、、</li>
<li><strong>命令解释器：shell，斯托曼 GNU 项目中叫 bash</strong></li>
<li>Linux 内核：托沃兹开发</li>
</ol>
<h2 id="4-Linux-发行版介绍-🤞🤞🤞🤞🤞"><a href="#4-Linux-发行版介绍-🤞🤞🤞🤞🤞" class="headerlink" title="4. Linux 发行版介绍 🤞🤞🤞🤞🤞"></a>4. Linux 发行版介绍 🤞🤞🤞🤞🤞</h2><blockquote>
<p>内核+命令解释器+不同应用程序&#x2F;桌面组成的</p>
</blockquote>
<table>
<thead>
<tr>
<th>Debian 系列</th>
<th>debian 系统</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td>Ubuntu (乌班图) 桌面应用为主的开源 GNU&#x2F;Linux 操作系统</td>
</tr>
<tr>
<td>红帽系列</td>
<td>RHEL（Red Hat Enterprise Linux）红帽 Linux 商业公司</td>
</tr>
<tr>
<td></td>
<td>CentOS (Community Enterprise Operating System) 社区企业操作系统 免费的商业软件</td>
</tr>
<tr>
<td></td>
<td>Rocky Linux CentOS 系统创始人，新出的 Linux 系统。</td>
</tr>
<tr>
<td>国产系列</td>
<td><strong>中标麒麟</strong>国产 Linux,有桌面环境，有服务器版本</td>
</tr>
<tr>
<td></td>
<td>红旗 Linux</td>
</tr>
<tr>
<td></td>
<td>各种厂商的 Linux 系统</td>
</tr>
<tr>
<td></td>
<td>欧拉系统 openeuler（华为）</td>
</tr>
<tr>
<td>其他 （了解）</td>
<td>Suse,OpenSUSE,德国</td>
</tr>
</tbody></table>
<h2 id="5-Linux-版本选型"><a href="#5-Linux-版本选型" class="headerlink" title="5. Linux 版本选型"></a>5. Linux 版本选型</h2><table>
<thead>
<tr>
<th>Ubuntu</th>
<th>LTS 18.04 20.04</th>
</tr>
</thead>
<tbody><tr>
<td>CentOS</td>
<td>没有 LTS，选择较为新的即可。CentOS 7.x 7.9</td>
</tr>
<tr>
<td>麒麟</td>
<td>kyline v10(centos 7 更新了内核)</td>
</tr>
<tr>
<td>Debian</td>
<td></td>
</tr>
</tbody></table>
<h2 id="6-工作与学习环境部署-🤞🤞🤞🤞"><a href="#6-工作与学习环境部署-🤞🤞🤞🤞" class="headerlink" title="6.工作与学习环境部署 🤞🤞🤞🤞"></a>6.工作与学习环境部署 🤞🤞🤞🤞</h2><blockquote>
<p>Linux 系统运行在服务器上<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/liu17234050/article/details/108836639">https://blog.csdn.net/liu17234050/article/details/108836639</a></p>
</blockquote>
<h3 id="6-1-虚拟机"><a href="#6-1-虚拟机" class="headerlink" title="6.1 虚拟机"></a>6.1 虚拟机</h3><blockquote>
<p>软件智库<br>1.Windows 系统是宿主机，而 VMware 安装的 <a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=Linux&spm=1001.2101.3001.7020">Linux</a> 则为虚拟机 2.虚拟机：允许我们在当前操作系统中运行其他操作系统的软件，本质上和 VS、QQ 这些应用程序一样</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/liu17234050/article/details/108836639">https://blog.csdn.net/liu17234050/article/details/108836639</a><br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1676999377120-a6c20f0b-e0b4-47ee-9ab7-f1a51ba3ff0a.png#averageHue=%23050303&clientId=u2b4fda07-e7a1-4&from=paste&height=318&id=u42b9b879&originHeight=358&originWidth=753&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=10400&status=done&style=none&taskId=uc6210402-f2c3-40f1-bcba-a2414af7a16&title=&width=669.3333333333334" alt="image.png"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net.ifnames=0 biosdevname=0   用于让网卡名字变成ethx 形式eth0 eth1 , centOS; 7 默认ens33</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1676999676952-ca2ea9cc-fc31-459b-bbdc-4ea913f9faf9.png#averageHue=%23e7e7e6&clientId=u2b4fda07-e7a1-4&from=paste&height=544&id=ub07ead86&originHeight=612&originWidth=812&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=137737&status=done&style=none&taskId=ub9d88b01-8295-416b-b8b6-1823e700bb5&title=&width=721.7777777777778" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1676999867635-44d81a11-e95a-4d42-bc03-d3db3c6f56ff.png#averageHue=%23e6e6e5&clientId=u2b4fda07-e7a1-4&from=paste&height=538&id=u4e7e0517&originHeight=605&originWidth=801&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=73403&status=done&style=none&taskId=u6d9ed238-02fa-4bd9-8513-330a6099c2d&title=&width=712" alt="image.png"></p>
<h3 id="6-2-虚拟机网络编辑器配置-只需要配置一次"><a href="#6-2-虚拟机网络编辑器配置-只需要配置一次" class="headerlink" title="6.2 虚拟机网络编辑器配置(只需要配置一次)"></a>6.2 虚拟机网络编辑器配置(只需要配置一次)</h3><p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677002428300-34bf7f0f-b8bc-40af-9d0e-443d55d3916b.png#averageHue=%23e5e4e0&clientId=u2b4fda07-e7a1-4&from=paste&height=633&id=u55787b21&originHeight=712&originWidth=1513&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=210930&status=done&style=none&taskId=u40976b1b-e1b7-4685-b1d1-35e91197735&title=&width=1344.888888888889" alt="image.png"><br>查看 ip 地址 <code>ip a</code></p>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677002799845-2f424872-122b-441a-b606-e00e8bf63c39.png#averageHue=%23fcfbfb&clientId=u2b4fda07-e7a1-4&from=paste&height=422&id=u06f6ca63&originHeight=475&originWidth=752&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=71927&status=done&style=none&taskId=u25c92a54-54c1-4bca-a608-88b80dbdbea&title=&width=668.4444444444445" alt="image.png"></p>
<h3 id="6-3-远程连接服务器"><a href="#6-3-远程连接服务器" class="headerlink" title="6.3 远程连接服务器"></a>6.3 远程连接服务器</h3><p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677003416735-bcda9f65-3e93-46d8-8ee4-4f5b3d544629.png#averageHue=%23e7e6e5&clientId=u2b4fda07-e7a1-4&from=paste&height=676&id=u3bcc0ace&originHeight=760&originWidth=1460&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=142301&status=done&style=none&taskId=u44b4b600-decb-4b16-aa1b-74d244ccb49&title=&width=1297.7777777777778" alt="image.png"></p>
<h3 id="6-4-复盘"><a href="#6-4-复盘" class="headerlink" title="6.4 复盘"></a>6.4 复盘</h3><p>创建虚拟机，部署系统</p>
<ol>
<li><p>创建虚拟机</p>
<ul>
<li>典型</li>
<li>选择 centos 7 64</li>
<li>选择保存位置</li>
<li>设置内存大小</li>
<li>插入光盘</li>
</ul>
</li>
<li><p>配置虚拟网络编辑器（配置一次，以后不用配置）：让虚拟机中的系统的 ip 同意网络 10.0.0.xx</p>
</li>
<li><p>部署系统</p>
<table>
<thead>
<tr>
<th>安装流程补充</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>Install centos 7</td>
<td>安装系统，都是这个</td>
</tr>
<tr>
<td>Test this media &amp; install centos 7</td>
<td>测试系统镜像，并安装系统。不推荐，耽误时间</td>
</tr>
<tr>
<td>Troubleshooting</td>
<td>解决 Linux 无法启动的故障看，进入救援模式</td>
</tr>
</tbody></table>
</li>
<li><p>远程连接</p>
</li>
<li><p>vmware 小技巧</p>
<ol>
<li>挂起：把正在运行的虚拟机暂停，这样好处就是虚拟机不用关机</li>
<li>快照：给虚拟机当前的状态拍摄一个保存的节点 （存档）</li>
</ol>
</li>
</ol>
<h2 id="7-远程连接排错详解"><a href="#7-远程连接排错详解" class="headerlink" title="7.远程连接排错详解"></a>7.远程连接排错详解</h2><p>connection failed 连接失败<br>connection established 连接成功</p>
<h3 id="7-1-ip-地址-🤞🤞🤞🤞🤞"><a href="#7-1-ip-地址-🤞🤞🤞🤞🤞" class="headerlink" title="7.1 ip 地址 🤞🤞🤞🤞🤞"></a>7.1 ip 地址 🤞🤞🤞🤞🤞</h3><ul>
<li>ip 地址：设备的位置，类似家庭住址，ip 地址用于访问设备</li>
<li>ip 地址分为 2 类：<ul>
<li>局域网 ip (内网 ip,丝网 ip)</li>
<li>公网 ip (外网 Ip)<table>
<thead>
<tr>
<th>ip 分类</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>局域网 ip</td>
<td>这种 ip 一般只能在某个范围使用教师，公司办公室</td>
<td>网络设备分配，自动获取，不固定</td>
</tr>
<tr>
<td>公网 Ip</td>
<td>这种 ip 可以在任何有网络的地方使用，访问对应设备，数量有限</td>
<td>企业购买获得，企业公网 ip 固定的</td>
</tr>
</tbody></table>
</li>
</ul>
</li>
</ul>
<p><code>局域网一般：10.0.0.xxx  192.168.xx.xx   172.16.xxx.xxx</code></p>
<h3 id="7-2-端口-🤞🤞🤞🤞🤞"><a href="#7-2-端口-🤞🤞🤞🤞🤞" class="headerlink" title="7.2 端口 🤞🤞🤞🤞🤞"></a>7.2 端口 🤞🤞🤞🤞🤞</h3><blockquote>
<p>计算机中通过端口来区分不同的服务</p>
</blockquote>
<table>
<thead>
<tr>
<th>服务</th>
<th>搓澡</th>
<th>按摩</th>
</tr>
</thead>
<tbody><tr>
<td>暗号</td>
<td>23</td>
<td>24</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>服务</th>
<th>默认的端口</th>
</tr>
</thead>
<tbody><tr>
<td>远程连接服务 sshd</td>
<td>22</td>
</tr>
<tr>
<td>网站服务</td>
<td>80</td>
</tr>
<tr>
<td>网站服务加密 https</td>
<td>443</td>
</tr>
</tbody></table>
<p><code>我们日常访问网站，是访问网站的80或者443端口。我们通过远程连接工具，连接Linux服务器，是连接到了Linuxd的22端口</code></p>
<h3 id="7-3-协议"><a href="#7-3-协议" class="headerlink" title="7.3 协议"></a>7.3 协议</h3><ul>
<li>双方共同准守的规则</li>
<li>远程连接遵守的是 ssh 协议</li>
</ul>
<h3 id="7-4-小结"><a href="#7-4-小结" class="headerlink" title="7.4 小结"></a>7.4 小结</h3><p>核心掌握：ip（公网 ip,局域网 ip），远程连接使用 22 端口</p>
<h3 id="7-5-远程连接排障-🤞🤞🤞🤞🤞"><a href="#7-5-远程连接排障-🤞🤞🤞🤞🤞" class="headerlink" title="7.5 远程连接排障 🤞🤞🤞🤞🤞"></a>7.5 远程连接排障 🤞🤞🤞🤞🤞</h3><p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677044569771-38e7fa2d-89a8-41b7-a587-0c0035b51a79.png#averageHue=%23a1d5e3&clientId=u4450e354-2f5b-4&from=paste&height=426&id=u8a3f8274&originHeight=479&originWidth=738&originalType=binary&ratio=1.125&rotation=0&showTitle=false&size=165335&status=done&style=none&taskId=u99a0498b-4421-4d0d-bbc5-2496c7350b6&title=&width=656" alt="image.png"></p>
<ol>
<li>检查道路是否通畅 🤞🤞🤞🤞🤞<table>
<thead>
<tr>
<th>ping 命令格式</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>ping</td>
<td>空格</td>
<td>ip 或域名</td>
</tr>
</tbody></table>
</li>
</ol>
<p><code>命令在xshell的==本地shell执行，这里执行的命令相当于在windows下面执行</code><br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677045582273-4fd2979a-c90d-4769-9abf-2da941f4b879.png#averageHue=%230e0b09&clientId=u4450e354-2f5b-4&from=paste&height=185&id=u2eeca102&originHeight=208&originWidth=560&originalType=binary&ratio=1.125&rotation=0&showTitle=false&size=21280&status=done&style=none&taskId=udf9b0415-e822-48f0-a115-5f1d5877a4f&title=&width=497.77777777777777" alt="image.png"></p>
<ol start="2">
<li>检测是否劫财劫色<ol>
<li>防火墙，安全设备，安全规则连接</li>
</ol>
</li>
<li>检测是否提供特权服务<ol>
<li>检测端口是否开放，端口是否可以被外部访问或连接，这一步可以间接显示服务是否开启<table>
<thead>
<tr>
<th>telnet 检测端口是否可以访问</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>telnet</td>
<td>ip 或域名</td>
<td>端口</td>
</tr>
</tbody></table>
</li>
</ol>
</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677045523096-65e270f0-6601-4eb9-a8c0-f4c0c35ee680.png#averageHue=%23090706&clientId=u4450e354-2f5b-4&from=paste&height=202&id=u90a5b0af&originHeight=227&originWidth=649&originalType=binary&ratio=1.125&rotation=0&showTitle=false&size=13827&status=done&style=none&taskId=u567010e7-a08c-4352-8b63-fa704b454c6&title=&width=576.8888888888889" alt="image.png"><br>详情：<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/0bc0b596c1a0">https://www.jianshu.com/p/0bc0b596c1a0</a><br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677046232295-f95ec51d-5fc0-4157-adf5-aa7cd2b5c8ea.png#averageHue=%23fdfdfd&clientId=u4450e354-2f5b-4&from=paste&height=354&id=u6447e2b1&originHeight=398&originWidth=1234&originalType=binary&ratio=1.125&rotation=0&showTitle=false&size=208879&status=done&style=none&taskId=uea7db945-7de9-49ad-bac9-5cd6e2dcf85&title=&width=1096.888888888889" alt="image.png"></p>
<h2 id="8-Linux-必知必会知识点"><a href="#8-Linux-必知必会知识点" class="headerlink" title="8.Linux 必知必会知识点"></a>8.Linux 必知必会知识点</h2><ul>
<li>命令行格式</li>
<li>命令格式</li>
<li>Linux 和 Windows 目录结构的区别</li>
</ul>
<h3 id="8-1-Linux-命令行格式"><a href="#8-1-Linux-命令行格式" class="headerlink" title="8.1 Linux 命令行格式"></a>8.1 Linux 命令行格式</h3><p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677046737332-be9146d0-1d84-4f75-88c2-1ef27f5b0283.png#averageHue=%23181f1b&clientId=u4450e354-2f5b-4&from=paste&height=318&id=u3d8bab72&originHeight=358&originWidth=577&originalType=binary&ratio=1.125&rotation=0&showTitle=false&size=149418&status=done&style=none&taskId=u38a9efbe-c8dc-4a59-9fe3-2889a179eb9&title=&width=512.8888888888889" alt="image.png"><br><code># 表示用户身份 #r表示root 用户 $表示普通用户</code></p>
<h3 id="8-2-命令格式"><a href="#8-2-命令格式" class="headerlink" title="8.2 命令格式"></a>8.2 命令格式</h3><table>
<thead>
<tr>
<th>命令格式说明</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>命令</td>
<td>Linux 下面通过命令控制整个系统（一般时单词或缩写）</td>
</tr>
<tr>
<td>选项</td>
<td>option, 同一个命令的不同的功能。执行命令的时候可以加的条件</td>
</tr>
<tr>
<td>参数</td>
<td>argument&#x2F;parameter 命令处理的目标</td>
</tr>
</tbody></table>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677116609080-fc68ece9-046f-45b4-bac6-cd042de2dbdc.png#averageHue=%23f3f3e4&clientId=u10656a00-7cd5-4&from=paste&height=216&id=u992672a5&originHeight=243&originWidth=650&originalType=binary&ratio=1.125&rotation=0&showTitle=false&size=73350&status=done&style=none&taskId=u1345171f-e26a-4e12-a088-bed17f51674&title=&width=577.7777777777778" alt="image.png"></p>
<h3 id="8-3-Linux-与-windows-目录对比"><a href="#8-3-Linux-与-windows-目录对比" class="headerlink" title="8.3 Linux 与 windows 目录对比"></a>8.3 Linux 与 windows 目录对比</h3><ul>
<li>linux 目录结构简洁</li>
<li>windows:以多根方式组织文件 c:&#x2F; d:&#x2F; e:&#x2F;</li>
</ul>
<h3 id="8-4-Linux-基本操作与命令"><a href="#8-4-Linux-基本操作与命令" class="headerlink" title="8.4 Linux 基本操作与命令"></a>8.4 Linux 基本操作与命令</h3><ul>
<li>查询帮助</li>
<li>Linux 快捷键</li>
<li>Linux 关机、重启（危险）</li>
</ul>
<ol>
<li>查询帮助</li>
</ol>
<p>网站：<a target="_blank" rel="noopener" href="http://cmd.oldboyedu.com/">http://cmd.oldboyedu.com/</a><br>man 命令 查询帮助<br>命令 –help 查询精简的帮助</p>
<ol start="2">
<li>Linux 快捷键<table>
<thead>
<tr>
<th>Linux 快捷键</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>移动光标快捷键 🤞🤞🤞🤞🤞</td>
<td></td>
</tr>
<tr>
<td>光标移动到行首</td>
<td>ctrl + a</td>
</tr>
<tr>
<td>光标移动到行尾</td>
<td>ctrl + e</td>
</tr>
<tr>
<td>删除（剪切）类快捷键 🤞🤞🤞🤞🤞</td>
<td></td>
</tr>
<tr>
<td>把光标所在的位置到行首的内容剪切（删除）</td>
<td>ctrl + u</td>
</tr>
<tr>
<td>把光标所在的位置到行尾的内容剪切（删除）</td>
<td>ctrl + k</td>
</tr>
<tr>
<td>功能性快捷键</td>
<td></td>
</tr>
<tr>
<td>清屏</td>
<td>ctrl + l 相当于 clear</td>
</tr>
<tr>
<td>取消当前命令</td>
<td>ctrl + c(cancel 取消)</td>
</tr>
</tbody></table>
</li>
</ol>
<p><strong>坑提示</strong></p>
<table>
<thead>
<tr>
<th>windows vs Linux</th>
<th>Linux 快捷键</th>
<th>windows 快捷键</th>
</tr>
</thead>
<tbody><tr>
<td>ctrl + s</td>
<td>锁屏</td>
<td>保存</td>
</tr>
<tr>
<td>ctrl + q</td>
<td>解锁</td>
<td></td>
</tr>
<tr>
<td>ctrl + z</td>
<td>让当前正在运行的命令，后台挂起</td>
<td>撤销</td>
</tr>
</tbody></table>
<ol start="3">
<li>Linux 关机、重启（危险）<table>
<thead>
<tr>
<th>开关机命令</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>shutdown</td>
<td>关机</td>
</tr>
<tr>
<td>shutdown -c</td>
<td>取消关机</td>
</tr>
<tr>
<td>shutdown -h</td>
<td>shutdown -h now 立刻关机 或者 shutdown -h 10 设置 10 分钟后关机</td>
</tr>
<tr>
<td>halt</td>
<td>关机，关闭系统需要手段关闭电源</td>
</tr>
<tr>
<td>poweroff</td>
<td>关机</td>
</tr>
<tr>
<td>init 0</td>
<td>关机</td>
</tr>
<tr>
<td>重启</td>
<td></td>
</tr>
<tr>
<td>shutdown -r</td>
<td>重启 shutdown -r now 或 shutdown -r 20</td>
</tr>
<tr>
<td>reboot</td>
<td>重启</td>
</tr>
<tr>
<td>init 6</td>
<td>重启</td>
</tr>
</tbody></table>
</li>
</ol>
<h3 id="8-5-复盘"><a href="#8-5-复盘" class="headerlink" title="8.5 复盘"></a>8.5 复盘</h3><p>熟练掌握 ip 地址的概念，远程连接的端口号<br>常用端口号 22 80 443<br>熟练掌握远程连接排错流程 3 大步骤</p>
<ol>
<li>检查道路是否通畅 ： ping</li>
<li>检查是否有劫财劫色 防火墙、安全设备，安全规则连接</li>
<li>检查是否提供服务 telnet 检测端口是否可以访问</li>
</ol>
<p>核心：Linux 必知必会规则：命令行结构，命令格式，Linux 一切从根开始目录结构<br>Linux：查询帮助 Linux 快捷键 (ace,lu)关机重启（shutdown，reboot）</p>
<h2 id><a href="#" class="headerlink" title></a></h2><ol start="9">
<li>麒麟概述</li>
</ol>
<ul>
<li>Kylin 类似于 CentOS 7.x</li>
<li>增强安全性能</li>
<li>内置工具</li>
<li>升级 Linux 内核</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/itas109/article/details/109453945">https://blog.csdn.net/itas109/article/details/109453945</a> （镜像种子）<br>安装方式见 知识库</p>
<h2 id="10-Linux-核心目录"><a href="#10-Linux-核心目录" class="headerlink" title="10. Linux 核心目录"></a>10. Linux 核心目录</h2><table>
<thead>
<tr>
<th>🤞&#x2F;etc&#x2F;</th>
<th>系统配置文件的目录，存放系统，服务，命令的配置</th>
</tr>
</thead>
<tbody><tr>
<td>🤞&#x2F;home&#x2F;</td>
<td>普通用户家目录 ,比如 wyj 用户 &#x2F;home&#x2F;wyj&#x2F;</td>
</tr>
<tr>
<td>🤞&#x2F;root&#x2F;</td>
<td>皇宫,root 用户家目录</td>
</tr>
<tr>
<td>&#x2F;dev&#x2F;</td>
<td>device 设备文件目录，硬盘，光盘</td>
</tr>
<tr>
<td>🤞&#x2F;tmp&#x2F;</td>
<td>临时目录,临时存放内容</td>
</tr>
<tr>
<td>&#x2F;proc&#x2F;</td>
<td>系统服务,进程信息，类似于汽车的仪表盘</td>
</tr>
</tbody></table>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677164000285-1f174537-6777-405d-9925-1331b51ae012.png#averageHue=%23bcf0ec&clientId=u059b21f0-914c-4&from=paste&height=519&id=u23a5b414&originHeight=714&originWidth=1286&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=603465&status=done&style=none&taskId=ue6e40e3c-a836-42f3-a7f9-97b180de953&title=&width=935.2727272727273" alt="image.png"></p>
<h3 id="10-1-路径表现形式"><a href="#10-1-路径表现形式" class="headerlink" title="10.1 路径表现形式"></a>10.1 路径表现形式</h3><ul>
<li>相对路径：不是从根开始开始的路径，进入目录 查看文件</li>
<li>绝对路径：根开始的路径</li>
</ul>
<h2 id="11-Linux-核心必会指令"><a href="#11-Linux-核心必会指令" class="headerlink" title="11.Linux 核心必会指令"></a>11.Linux 核心必会指令</h2><ol>
<li>cd 与 pwd<table>
<thead>
<tr>
<th>说明</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>cd</td>
<td>change directory 进入到某个目录</td>
</tr>
<tr>
<td>pwd</td>
<td>print working directory 显示当前所在的位置（绝对路径）</td>
</tr>
</tbody></table>
</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">进入/tmp/目录然后查看所在目录</span><br><span class="line">进入目录:cd</span><br><span class="line">显示当前位置：pwd</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>cd 其他功能</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>cd ~</td>
<td>回到家目录</td>
</tr>
<tr>
<td>cd</td>
<td>回到家目录</td>
</tr>
<tr>
<td>cd ..</td>
<td>进入上级目录</td>
</tr>
<tr>
<td>cd -</td>
<td>返回上次所在目录，cd - -是 cd 的选项</td>
</tr>
<tr>
<td>cd .</td>
<td>进入当前目录（未来一般与复制，移动一起用）</td>
</tr>
</tbody></table>
<ol start="2">
<li>mkdir 创建目录<blockquote>
<p>mk make dir directory</p>
</blockquote>
</li>
</ol>
<table>
<thead>
<tr>
<th>说明</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>mkdir</td>
<td>常见目录</td>
</tr>
<tr>
<td>mkdir -p</td>
<td>mkdir -p 父系，当创建目录没有上一级时，自动创建</td>
</tr>
</tbody></table>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1676969962346-799c8b83-1e48-4fee-bd0b-fb259f699ec3.png#averageHue=%23fefefe&clientId=u7a2cbedf-903c-4&from=paste&height=36&id=l31Vf&originHeight=45&originWidth=440&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=4057&status=done&style=none&taskId=u436e44be-ad73-4347-9e94-2d3fd61c447&title=&width=352" alt="image.png"></p>
<ol start="3">
<li><p>创建文件</p>
<table>
<thead>
<tr>
<th>说明</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>touch</td>
<td>创建文件</td>
</tr>
</tbody></table>
</li>
<li><p>ls 查看目录内容</p>
<table>
<thead>
<tr>
<th>说明</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>ls</td>
<td>查看目录内容</td>
</tr>
<tr>
<td>ls -l 简写 ll &#x2F;etc&#x2F;</td>
<td>查看的目录内容按照列显示详细内容</td>
</tr>
<tr>
<td>ls -t</td>
<td></td>
</tr>
<tr>
<td>ls -r</td>
<td></td>
</tr>
<tr>
<td>ls -h</td>
<td>以人类可读形式显示大小</td>
</tr>
<tr>
<td>-a</td>
<td>显示目录下所有内容，包括隐藏文件</td>
</tr>
<tr>
<td>-d</td>
<td>显示目录本身的详细信息</td>
</tr>
</tbody></table>
</li>
<li><p>mv move 移动</p>
<blockquote>
<p>类似于剪切并黏贴</p>
</blockquote>
</li>
</ol>
<p>|</p>
<p>| mv | 从哪里来 | 到哪里去 |<br>| — | — | — | — |<br>| 移动 | mv | 文件 目录 文件 目录 | 目标（目录） |<br>| 改名 | mv | 文件或目录 | 文件或目录 |</p>
<ol start="6">
<li>cp copy 复制文件或目录<table>
<thead>
<tr>
<th>cp 命令选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-a</td>
<td>all 简单理解为复制所有</td>
</tr>
<tr>
<td>-r</td>
<td>递归复制，复制目录及目录内容</td>
</tr>
<tr>
<td>-p</td>
<td>复制的时候保持属性不变。</td>
</tr>
<tr>
<td>-d</td>
<td>可以复制软连接</td>
</tr>
</tbody></table>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">复制/etc/hosts到当前用户家目录下面.</span><br><span class="line"><span class="comment">#方法1</span></span><br><span class="line"><span class="built_in">cp</span> /etc/hosts ~</span><br></pre></td></tr></table></figure>

<p>7 rm remove 删除文件或目录</p>
<table>
<thead>
<tr>
<th>-f</th>
<th>force 强制删除不提示，危险</th>
</tr>
</thead>
<tbody><tr>
<td>-r</td>
<td>递归删除，删除目录及目录内容，没有需求不要加-r</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># rm /home/a1/b1/c1</span></span><br><span class="line"><span class="built_in">rm</span>: 无法删除<span class="string">&quot;/home/a1/b1/c1&quot;</span>: 是一个目录</span><br><span class="line">[root@localhost ~]<span class="comment"># rm -rf /home/a1/b1/c1</span></span><br><span class="line">[root@localhost ~]<span class="comment"># mkdir -p /home/a1/b2/c3</span></span><br><span class="line">[root@localhost ~]<span class="comment"># rm -rf /home/a1/*     //删除home下所有的文件</span></span><br><span class="line">[root@localhost ~]<span class="comment"># rm -rf /home/a1/d* //删除d开头的文件</span></span><br><span class="line">[root@localhost ~]<span class="comment"># rm -rf /home/a1/*d //删除d结尾的文件</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>温馨提示</strong><br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1676967741547-ea4c80b1-b943-418a-b338-d813b47f31ea.png#averageHue=%23fefefe&clientId=u7a2cbedf-903c-4&from=paste&height=42&id=UaGjC&originHeight=52&originWidth=610&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=7610&status=done&style=none&taskId=ua9e02267-b92f-41f2-9482-f3397f631ae&title=&width=488" alt="image.png"></p>
<ul>
<li>-开头表示文件</li>
<li>d 开头表示目录</li>
</ul>
<ol start="8">
<li>echo 回声 与 cat 显示文件内容<blockquote>
<p>将文字输出到屏幕上<br>cat -n 显示行号</p>
</blockquote>
</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@my-wyj ~]# echo nihaoa</span><br><span class="line">nihaoa</span><br><span class="line">[root@my-wyj ~]# cd /wyj</span><br><span class="line">[root@my-wyj wyj]# pwd</span><br><span class="line">/wyj</span><br><span class="line">[root@my-wyj wyj]# touch 1.text</span><br><span class="line">[root@my-wyj wyj]# echo helloworld &gt; 1.text</span><br><span class="line">[root@my-wyj wyj]# cat 1.text</span><br><span class="line">helloworld</span><br><span class="line">&#123;&#125; 一般与touch/mkdir 一起使用，批量创建文件或目录</span><br><span class="line">[root@my-wyj wyj]# echo &#123;1..10&#125;  打印1到10</span><br><span class="line">[root@my-wyj wyj]# echo wyj&#123;1..10&#125;  打印wyj1到wyj10</span><br><span class="line">合并文件内容</span><br><span class="line">[root@my-wyj wyj]# cat /etc/hostname /etc/passwd &gt; /wyj/all.text</span><br><span class="line">++ 练习 ++</span><br><span class="line">显示/etc/passwd行号,第1列,第3列和最后一列</span><br><span class="line">awk -F&#x27;:&#x27; &#x27;&#123;print $1,$3,$NF&#125;&#x27; /etc/passwd | cat -n</span><br><span class="line">     分隔符              最后一列</span><br><span class="line">方法2 NR Number of Record 记录号，行号   熟练</span><br><span class="line">awk -F&#x27;:&#x27; &#x27;&#123;print NR  $1,$3,$NF&#125;&#x27; /etc/passwd</span><br></pre></td></tr></table></figure>

<blockquote>
<p>补充：<br>重定向改变数据输出方向，默认输出在屏幕上，现在可以输出到文件中</p>
<blockquote>
<p>叫做重定向符号，先清空文件内容，然后写入</p>
<blockquote>
<p>叫做追加重定向，把信息写到末尾</p>
</blockquote>
</blockquote>
</blockquote>
<h2 id="12-Linux-环境初步优化"><a href="#12-Linux-环境初步优化" class="headerlink" title="12.Linux 环境初步优化"></a>12.Linux 环境初步优化</h2><ul>
<li><p>检查是否能联网（虚拟机是否可以访问外部网络）</p>
<blockquote>
<p>ping baidu.com</p>
</blockquote>
</li>
<li><p>配置 yum 源（安装软件的仓库）</p>
<blockquote>
<p>默认情况下 yum 下载软件的时候是从随机地址下载<br>配置 yum 从国内下载（仅执行即可）</p>
</blockquote>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">配置yum源（安装软件的仓库）</span><br><span class="line">cp /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/Cent0S-Base.repo.bak</span><br><span class="line">下载命令1</span><br><span class="line">curl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">下载命令2</span></span><br><span class="line">curl -o /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">安装Linux常用工具</span></span><br><span class="line">yum install -y tree vim wget bash-completion bash-completion-extras</span><br><span class="line">lrzsz net-tools sysstat iotop iftop htop unzip nc nmap telnet bcpsmisc</span><br><span class="line">httpd-tools bind-utils nethogs expect</span><br></pre></td></tr></table></figure>

<h2 id="12-1-vi-vim-编辑器详解-🤞🤞🤞🤞🤞"><a href="#12-1-vi-vim-编辑器详解-🤞🤞🤞🤞🤞" class="headerlink" title="12.1 vi-vim 编辑器详解 🤞🤞🤞🤞🤞"></a>12.1 vi-vim 编辑器详解 🤞🤞🤞🤞🤞</h2><ul>
<li>vi&#x2F;vim 区别</li>
<li>vim 基本使用</li>
<li>vim 快捷键</li>
</ul>
<ol>
<li><p>vi&#x2F;vim 区别</p>
<table>
<thead>
<tr>
<th>内容</th>
<th>区别</th>
</tr>
</thead>
<tbody><tr>
<td>vi</td>
<td>系统自在，不需要额外安装，没有 vim 功能多</td>
</tr>
<tr>
<td>vim</td>
<td>在最小化安装的版本默认没有，需要额外安装，vi 的升级版（vi imporved）未来大部分情况都是 vim 即可</td>
</tr>
</tbody></table>
</li>
<li><p>vim 基本使用</p>
<blockquote>
<p>注意：如果文件不存在自动创建，目录不存在不会创建，在保持退出时报错</p>
</blockquote>
<ol>
<li>打开文件（不存在也行）vim wyj.text</li>
<li>进入编辑模式 2. 按 i 编辑这个文件</li>
</ol>
</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677295871574-117c201c-7bcb-45c7-82fa-6d9757550b61.png#averageHue=%23141313&clientId=u3fff72d0-435d-4&from=paste&height=189&id=u25a87577&originHeight=260&originWidth=780&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=9456&status=done&style=none&taskId=u90d9173d-dd40-44c4-8cca-cab8e2d84a2&title=&width=567.2727272727273" alt="image.png"></p>
<ol start="3">
<li>退出编辑模式<ul>
<li>按 ESC 退出</li>
</ul>
</li>
<li>保存与退出<ul>
<li>输入 :wq</li>
<li>:q! 强制退出不保存</li>
</ul>
</li>
<li>检查<ul>
<li>cat</li>
</ul>
</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677302121618-31630a28-af19-49d5-8b62-f2a4ae04ae07.png#averageHue=%23a6deeb&clientId=u3fff72d0-435d-4&from=paste&height=481&id=ufb02e69a&originHeight=662&originWidth=1132&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=364565&status=done&style=none&taskId=u56190592-11c4-45d6-9833-a6166da3598&title=&width=823.2727272727273" alt="image.png"></p>
<ol start="3">
<li>vim 快捷键<ol>
<li>移动光标类快捷键-必会</li>
</ol>
</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">移动到第一行			gg</span><br><span class="line">移动到最后一行 	G(shift+g)</span><br><span class="line">移动到某一行	100gg xxgg</span><br><span class="line"></span><br><span class="line">列之间调整：</span><br><span class="line">光标移动到首行  ^(shift + 数字6)  或 0</span><br><span class="line">光标移动到行位  $(shift + 4)</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>复制，删除（剪切），粘贴</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">复制当前行 yy</span><br><span class="line">删除当前行 dd</span><br><span class="line">粘贴到当前行后 p</span><br><span class="line">重复粘贴      3p</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>其他快捷键</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">撤销		u(undo)</span><br><span class="line">显示行号	:set nu 或 :set number</span><br><span class="line">取消显示行号 :set nonu</span><br><span class="line">搜索（默认向下查找） /你要搜索的内容</span><br><span class="line">向下搜索    n(next)</span><br><span class="line">向上搜索		 N</span><br><span class="line">了解：</span><br><span class="line">搜索默认向上找    ?你要的内容</span><br><span class="line">临时取消语法高亮	 :noh 一般用于/搜索错误，可以使用</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>批量删除某部分内容，批量增加内容</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">删除某部分内容</span><br><span class="line">按 ctrl + v 进入批量操作模式</span><br><span class="line">选择操作的区域  方向键上下左右</span><br><span class="line">按d删除</span><br><span class="line"></span><br><span class="line">批量增加内容</span><br><span class="line">按 ctrl + v 进入批量操作模式</span><br><span class="line">选择操作的区域  方向键上下左右</span><br><span class="line">选完后，按shift + i (I),进入编辑模式</span><br><span class="line">写入内容</span><br><span class="line">按esc等待</span><br></pre></td></tr></table></figure>

<p>故障案例<br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677307563922-04cfe8fc-ddc4-47f5-9603-e9cbe28dbc39.png#averageHue=%230b0907&clientId=u3fff72d0-435d-4&from=paste&height=313&id=u43d92be8&originHeight=431&originWidth=766&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=42915&status=done&style=none&taskId=uf87d5143-8d79-430a-8ca6-040351757a9&title=&width=557.0909090909091" alt="image.png"><br>原因:<br>vi&#x2F;vim 编辑文件的时候，会生成临时文件（隐藏文件）<br>通过保存退出，隐藏文件会消失<br>异常情况，断电，同时编辑这个文件就会有提示<br>解决：</p>
<ol>
<li>删除临时文件（根据提示路径）</li>
<li>恢复未保存文件</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vim -r wyj.text</span><br><span class="line">re -f .oldboy.txt.swp</span><br><span class="line">重新打开文件就修复了</span><br></pre></td></tr></table></figure>

<h2 id="13-服务器"><a href="#13-服务器" class="headerlink" title="13. 服务器"></a>13. 服务器</h2><p>服务器分类</p>
<ul>
<li>机架式服务器</li>
<li>刀片服务器</li>
<li>塔式服务器</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677324291062-e6f17397-2e14-405c-9a40-346e1a21ef05.png#averageHue=%23efefef&clientId=ua77fea23-8423-4&from=paste&height=177&id=uec0f614c&originHeight=243&originWidth=1362&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=146958&status=done&style=none&taskId=u38dc3b8e-7305-45f6-849e-909224f5c44&title=&width=990.5454545454545" alt="image.png"></p>
<h2 id="14-目录结构深入-🤞🤞🤞🤞"><a href="#14-目录结构深入-🤞🤞🤞🤞" class="headerlink" title="14.目录结构深入 🤞🤞🤞🤞"></a>14.目录结构深入 🤞🤞🤞🤞</h2><h3 id="14-1-etc-下面"><a href="#14-1-etc-下面" class="headerlink" title="14.1 &#x2F;etc&#x2F;下面"></a>14.1 &#x2F;etc&#x2F;下面</h3><p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677316883745-297ec5cf-2e8c-4da6-a680-94eb876c24ff.png#averageHue=%23f0f3f1&clientId=u3fff72d0-435d-4&from=paste&height=484&id=ucc8a1c0a&originHeight=665&originWidth=1364&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=572990&status=done&style=none&taskId=u316843ba-dd44-47d3-8da8-29ec0923291&title=&width=992" alt="image.png"></p>
<ol>
<li>修改主机名 🤞🤞🤞🤞<blockquote>
<p>建议：看到主机名就能知晓，这个节点的作用</p>
</blockquote>
</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">修改主机名</span><br><span class="line">hostnamectl set-hostname 主机名</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">查看主机名</span></span><br><span class="line">cat /etc/hostname</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">重新登录 远程连接</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>网卡配置文件</li>
</ol>
<ul>
<li>&#x2F;etc&#x2F;各种配置的目录</li>
<li>&#x2F;etc&#x2F;sysconfig system configure 系统配置文件</li>
<li>&#x2F;etc&#x2F;sysconfig&#x2F;network-scripts&#x2F; 网络配置文件</li>
<li>&#x2F;etc&#x2F;sysconfig&#x2F;network-scripts&#x2F;ifcfg-eth0 或 ens33<ul>
<li>if interface 网卡接口</li>
<li>eth 网卡</li>
</ul>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">[root@wyj ~]# cat /etc/sysconfig/network-scripts/ifcfg-eth0</span><br><span class="line">TYPE=Ethernet   #网络类型  互联网（以太网）</span><br><span class="line">PROXY_METHOD=none</span><br><span class="line">BROWSER_ONLY=no</span><br><span class="line">BOOTPROTO=none       #网卡获取ip方式，dhcp （自动获取），none/static(固定ip)</span><br><span class="line">DEFROUTE=yes</span><br><span class="line">IPV4_FAILURE_FATAL=no</span><br><span class="line">IPV6INIT=yes</span><br><span class="line">IPV6_AUTOCONF=yes</span><br><span class="line">IPV6_DEFROUTE=yes</span><br><span class="line">IPV6_FAILURE_FATAL=no</span><br><span class="line">IPV6_ADDR_GEN_MODE=stable-privacy</span><br><span class="line">NAME=eth0   #网卡名称</span><br><span class="line">UUID=c47dd56f-d356-422f-bb39-8f6e8d2034ad  #设备统一识别符</span><br><span class="line">DEVICE=eth0   #设备名称</span><br><span class="line">ONBOOT=yes     #网卡开机的时候(或重启网络的时候)是否自启动</span><br><span class="line">IPV6_PRIVACY=no</span><br><span class="line">IPADDR=10.0.0.200  #ip地址</span><br><span class="line">PREFIX=24    #子网掩码 NETMASK=255.255.255.0</span><br><span class="line">GATEWAY=10.0.0.2  #默认网关</span><br><span class="line">DNS1=223.5.5.5  #配置当前系统使用的DNS服务的地址</span><br><span class="line">DNS2=233.6.6.6</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">公共的DNS服务器地址</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">#阿里云</span></span></span><br><span class="line">223.5.5.5</span><br><span class="line">223.6.6.6</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>&#x2F;etc&#x2F;rc.local 开机自启动配置文件<blockquote>
<p>主要掌握这个文件的用途</p>
</blockquote>
</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677320913032-87b11f87-0db6-428e-b079-bfb0c5628eee.png#averageHue=%23e5e8eb&clientId=ua77fea23-8423-4&from=paste&height=71&id=u15efc429&originHeight=97&originWidth=454&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=39763&status=done&style=none&taskId=u041849b1-892a-4ab3-89c9-491e66adc2e&title=&width=330.1818181818182" alt="image.png"></p>
<ol start="4">
<li>&#x2F;etc&#x2F;motd issue<blockquote>
<p>建议 motd 写入系统基本信息，固定不变的<br>issue 文件清空 &gt;&#x2F;etc&#x2F;issue</p>
</blockquote>
</li>
</ol>
<h3 id="14-2-var-下面"><a href="#14-2-var-下面" class="headerlink" title="14.2 &#x2F;var&#x2F;下面"></a>14.2 &#x2F;var&#x2F;下面</h3><blockquote>
<p>var 经常变化的内容 ,variable. 比如：日志，<br>Linux 有些异常的时候，我们要查看对应的日志<br>Linux 中的日志 反映出，记录着系统，服务的运行情况</p>
</blockquote>
<ul>
<li>Linux 系统日志<table>
<thead>
<tr>
<th>&#x2F;var&#x2F;经常变化的内容</th>
<th>说明</th>
<th>应用建议</th>
</tr>
</thead>
<tbody><tr>
<td>&#x2F;var&#x2F;log&#x2F;</td>
<td>系统及服务的各种日志记录</td>
<td></td>
</tr>
<tr>
<td>&#x2F;var&#x2F;log&#x2F;secure</td>
<td>存放用户登录的情况日志</td>
<td>分析是否有恶意破解情况</td>
</tr>
<tr>
<td>&#x2F;var&#x2F;log&#x2F;messages</td>
<td>通用各种服务的日志,日志很多</td>
<td>分析服务，系统异常</td>
</tr>
</tbody></table>
</li>
</ul>
<p>查看日志</p>
<blockquote>
<p>ssh -p 22 <a href="mailto:&#x72;&#x6f;&#111;&#x74;&#64;&#x31;&#48;&#46;&#x30;&#x2e;&#48;&#46;&#x32;&#48;&#x30;">&#x72;&#x6f;&#111;&#x74;&#64;&#x31;&#48;&#46;&#x30;&#x2e;&#48;&#46;&#x32;&#48;&#x30;</a></p>
</blockquote>
<h3 id="14-2-proc-下面"><a href="#14-2-proc-下面" class="headerlink" title="14.2 &#x2F;proc&#x2F;下面"></a>14.2 &#x2F;proc&#x2F;下面</h3><blockquote>
<p>这个目录下面存放的是系统的各种内存中进程信息，Linux 内核配置，系统信息<br>这个是虚拟目录，不会占用磁盘空间</p>
</blockquote>
<table>
<thead>
<tr>
<th>&#x2F;proc&#x2F;系统，进程信息，内核</th>
<th>说明</th>
<th>应用建议</th>
</tr>
</thead>
<tbody><tr>
<td>&#x2F;proc&#x2F;cpuinfo</td>
<td>cpu 信息</td>
<td>未来监控使用,获取 cpu 指标</td>
</tr>
<tr>
<td>&#x2F;proc&#x2F;meminfo</td>
<td>内存信息</td>
<td>未来监控使用,获取内存指标</td>
</tr>
<tr>
<td>&#x2F;proc&#x2F;loadavg</td>
<td>系统负载信息，衡量系统繁忙程度</td>
<td></td>
</tr>
<tr>
<td>&#x2F;proc&#x2F;mounts</td>
<td>系统挂载信息</td>
<td>第二阶段 nfs 服务</td>
</tr>
</tbody></table>
<ol>
<li>cpu 信息</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677323294836-3d23bd2d-242f-444e-a794-7fce3e560722.png#averageHue=%23f6f8f6&clientId=ua77fea23-8423-4&from=paste&height=228&id=u5f7cd70c&originHeight=313&originWidth=883&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=118060&status=done&style=none&taskId=uc199faf0-072c-4152-bf52-384f279794a&title=&width=642.1818181818181" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677323340421-2d5589e7-5871-4aa3-a6cb-ef0b250e70f4.png#averageHue=%23b3d788&clientId=ua77fea23-8423-4&from=paste&height=268&id=uba2c9cfd&originHeight=653&originWidth=1268&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=181127&status=done&style=none&taskId=uff431a01-9af3-4647-aae4-de131be9ae3&title=&width=520.5454711914062" alt="image.png"></p>
<ol start="2">
<li>内存信息</li>
</ol>
<ul>
<li>内存，磁盘（硬盘）<ul>
<li>硬盘永久存放数据的地方</li>
<li>内存临时存放数据的地方</li>
</ul>
</li>
</ul>
<p>总结：<br>核心： vim 快捷键 vim 故障<br>核心：Linux 核心文件 . &#x2F;etc&#x2F;hostname,&#x2F;etc&#x2F;sysconfig&#x2F;network-script&#x2F;ifcfg-eth0,<br>&#x2F;etc&#x2F;motd,&#x2F;var&#x2F;log&#x2F;secure,&#x2F;proc&#x2F;cpuinfo,&#x2F;proc&#x2F;meminfo<br>运维必会操作：<br>查看主机名 hostanme hostnamectl<br>查看 cpu 信息 lscpu</p>
<h2 id="15-日志查询-4-剑客-🤞🤞🤞🤞🤞"><a href="#15-日志查询-4-剑客-🤞🤞🤞🤞🤞" class="headerlink" title="15. 日志查询 4 剑客 🤞🤞🤞🤞🤞"></a>15. 日志查询 4 剑客 🤞🤞🤞🤞🤞</h2><h3 id="15-1-概述"><a href="#15-1-概述" class="headerlink" title="15.1 概述"></a>15.1 概述</h3><blockquote>
<p>查看日志不要使用 ，cat 或 vim vi 命令 。未来的日志文件，有的日志可达：40g 或以上<br>如果使用 cat 查看，会刷屏根本停不下来<br>如果使用 vi&#x2F;vim 查看，从磁盘中加载到内存，占用系统内存，很容易导致系统内存不足</p>
</blockquote>
<ul>
<li>故障案例：</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677382344354-f079e976-9357-419b-ac75-0c9542c0e33b.png#averageHue=%23411e33&clientId=u2b7ad871-2d58-4&from=paste&height=172&id=u6776123e&originHeight=421&originWidth=1330&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=735027&status=done&style=none&taskId=u7315a238-0bf7-4523-8917-bbcbc60ff17&title=&width=543.5454711914062" alt="image.png"></p>
<h3 id="15-2-日志查询命令使用"><a href="#15-2-日志查询命令使用" class="headerlink" title="15.2 日志查询命令使用"></a>15.2 日志查询命令使用</h3><ol>
<li>head 显示文件的头几行，默认是头 10 行<table>
<thead>
<tr>
<th>head 选项</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>-n num 或-num</td>
<td>显示头 num 行，默认显示头 10 行</td>
</tr>
</tbody></table>
</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677382843738-d7bb422c-7be7-486c-8c7e-6584f71fd881.png#averageHue=%230b0705&clientId=u2b7ad871-2d58-4&from=paste&height=86&id=u862497af&originHeight=118&originWidth=588&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=9867&status=done&style=none&taskId=u5ffaa91f-a986-4a91-b79f-016752ee2c0&title=&width=427.6363636363636" alt="image.png"></p>
<ol start="2">
<li>tail 显示文件的后几行几行，默认是头 10 行<table>
<thead>
<tr>
<th>tail 选项</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>-n num</td>
<td>显示最后 num 行，默认显示头 10 行</td>
</tr>
<tr>
<td>-f</td>
<td>follow 显示文件末尾的实时更新（一般用于查看日志）</td>
</tr>
</tbody></table>
</li>
</ol>
<p>实时查看文件末尾的更新</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">查看 /var/log/secure 末尾的实时更新</span><br><span class="line">tail -f /var/log/secure</span><br><span class="line">+++ 练习 +++</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">显示/var/log/secure文件的实时更新</span></span><br><span class="line">tail -f</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677383854374-abeac54e-074e-4469-929b-984ed6755b5c.png#averageHue=%23262423&clientId=u2b7ad871-2d58-4&from=paste&height=167&id=u7dcb029d&originHeight=229&originWidth=564&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=17314&status=done&style=none&taskId=u9c1bf95e-cbd1-4890-9e4c-39f6144e2e7&title=&width=410.1818181818182" alt="image.png"></p>
<blockquote>
<p>关键词：failed,failure,err…&#x2F;var&#x2F;log&#x2F;secure 中 看看 Failed password</p>
</blockquote>
<ol start="3">
<li>less 按页显示文件内容<table>
<thead>
<tr>
<th>less 选项与快捷方式</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>q</td>
<td>退出</td>
</tr>
<tr>
<td>空格</td>
<td>下一页</td>
</tr>
<tr>
<td>b</td>
<td>上一页</td>
</tr>
<tr>
<td>选项</td>
<td></td>
</tr>
<tr>
<td>less -N</td>
<td>显示行号</td>
</tr>
</tbody></table>
</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">q 退出查看</span><br><span class="line">空格或f  下一页</span><br><span class="line">b    上一页 （back）</span><br><span class="line"></span><br><span class="line">g第一行</span><br><span class="line">G最后一行</span><br><span class="line">99g 到99行</span><br><span class="line">/搜索</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>more 按页显示文件内容，到达最后一行就退出</li>
</ol>
<h3 id="15-3-wc-统计"><a href="#15-3-wc-统计" class="headerlink" title="15.3 wc 统计"></a>15.3 wc 统计</h3><p>简单使用是统计文件行数，未来还可以统计一些命令结果有多少行</p>
<table>
<thead>
<tr>
<th>wc 选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-l</td>
<td>统计行数</td>
</tr>
</tbody></table>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677385120848-4f6f488f-8ea8-466f-95b5-71aaa8617583.png#averageHue=%2316130f&clientId=u2b7ad871-2d58-4&from=paste&height=58&id=ub3e3aaa6&originHeight=80&originWidth=383&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=4999&status=done&style=none&taskId=ued22d99c-d40c-42bd-af28-3c24425aca3&title=&width=278.54545454545456" alt="image.png"><br>未来使用<br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677385205797-0f09d9d1-3ce1-4cad-b470-7d8f34d0edfc.png#averageHue=%23c2d2c8&clientId=u2b7ad871-2d58-4&from=paste&height=523&id=u6cfdbe09&originHeight=719&originWidth=1341&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=358245&status=done&style=none&taskId=u3ae7ad9d-5d6d-43e5-beb0-066d72893f0&title=&width=975.2727272727273" alt="image.png"><br>管道符</p>
<blockquote>
<p>命令 1 | 命令 2<br>把前一个命令的结果，传递给后面的命令处理</p>
</blockquote>
<h3 id="15-4-查找命令位置（了解）"><a href="#15-4-查找命令位置（了解）" class="headerlink" title="15.4 查找命令位置（了解）"></a>15.4 查找命令位置（了解）</h3><ul>
<li>which</li>
<li>whereis</li>
<li>查找命令绝对路径</li>
</ul>
<ol>
<li>which</li>
</ol>
<p>查询命令位置<br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677385658056-3ec87f06-18a8-4c00-8590-187631d07feb.png#averageHue=%230a0806&clientId=u2b7ad871-2d58-4&from=paste&height=65&id=uaf757344&originHeight=89&originWidth=416&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=3723&status=done&style=none&taskId=u41ceb22c-dc01-463b-aed3-f53fd7312d8&title=&width=302.54545454545456" alt="image.png"></p>
<h3 id="15-5-文件比较命令"><a href="#15-5-文件比较命令" class="headerlink" title="15.5 文件比较命令"></a>15.5 文件比较命令</h3><blockquote>
<p>未来在服务的配置中，我们需要对比新旧配置文件，查看修改了那些内容。<br>这时候需要进行文件对比操作，通过 diff,vimdiff 命令实现</p>
</blockquote>
<ul>
<li>diff<ul>
<li>a append 增加</li>
<li>c 替换，修改</li>
<li>d 删除</li>
</ul>
</li>
<li>vimdiff</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677386177072-968b8e1a-04a6-4dc6-9319-4011929d8dd7.png#averageHue=%23190c0b&clientId=u2b7ad871-2d58-4&from=paste&height=250&id=u1dfcdaa9&originHeight=344&originWidth=765&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=14678&status=done&style=none&taskId=u02b719ff-dcff-497a-8b9b-219dcdeec6b&title=&width=556.3636363636364" alt="image.png"></p>
<h3 id="15-6-排序去重组合-🤞🤞🤞🤞🤞"><a href="#15-6-排序去重组合-🤞🤞🤞🤞🤞" class="headerlink" title="15.6 排序去重组合 🤞🤞🤞🤞🤞"></a>15.6 排序去重组合 🤞🤞🤞🤞🤞</h3><blockquote>
<p>未来生产环境，统计日志，日志分析,系统信息统计，必备命令</p>
</blockquote>
<ul>
<li>sort 排序</li>
<li>unip 去重并统计次数</li>
</ul>
<ol>
<li>sort<table>
<thead>
<tr>
<th>sort 选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-n</td>
<td>按照数字大小进行排序</td>
</tr>
<tr>
<td>-k</td>
<td>指定某一列，根据某一列进行排序</td>
</tr>
<tr>
<td>-r</td>
<td>逆序排序</td>
</tr>
<tr>
<td>-t</td>
<td>指定分隔符，默认空格</td>
</tr>
</tbody></table>
</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677400052025-36f4fed8-7d91-4320-933a-2691274db33b.png#averageHue=%23020101&clientId=u2b7ad871-2d58-4&from=paste&height=101&id=ucf8a0ba9&originHeight=139&originWidth=375&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=2852&status=done&style=none&taskId=u2ebd29cb-3dbc-40ba-9925-83cd317bbca&title=&width=272.72727272727275" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677401492762-5c6da3bf-140e-499a-b257-0e4d9bbb1ce2.png#averageHue=%23060403&clientId=u2b7ad871-2d58-4&from=paste&height=71&id=ue37fb11f&originHeight=97&originWidth=311&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=3898&status=done&style=none&taskId=u56ed6b45-de7a-45ec-8ec7-1687bcc2617&title=&width=226.1818181818182" alt="image.png"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">++ 练习 ++</span><br><span class="line">根据/etc/每个文件大小(第5列)排序并取出最大的前10个</span><br><span class="line">ll /etc/ | sort -nrk5 | head -10</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">方法2</span></span><br><span class="line">以人类可读形式排序</span><br><span class="line">ll /etc/ | sort -hrk5 | head -10</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>多列排序</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677402855650-7ad2a22d-538f-48cd-9a38-ad5d302c3ff8.png#averageHue=%23ebf5f5&clientId=u2b7ad871-2d58-4&from=paste&height=430&id=ub919135d&originHeight=591&originWidth=1093&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=305919&status=done&style=none&taskId=ueb623463-99ee-4777-8a34-c0713807bda&title=&width=794.9090909090909" alt="image.png"><br>面试题目实战案例</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">cat &gt;&gt;1.txt &lt;&lt;EOF</span><br><span class="line">10.0.3.1 00:0F:AF:81:19:1F</span><br><span class="line">10.0.3.2 00:0F:AF:85:6C:25</span><br><span class="line">10.0.3.3 00:0F:AF:85:70:42</span><br><span class="line">10.0.2.20 00:0F:AF:85:55:DE</span><br><span class="line">10.0.2.21 00:0F:AF:85:6C:09</span><br><span class="line">10.0.2.22 00:0F:AF:85:5C:41</span><br><span class="line">10.0.0.151 00:0F:AF:85:6C:F6</span><br><span class="line">10.0.0.152 00:0F:AF:83:1F:65</span><br><span class="line">10.0.0.153 00:0F:AF:85:70:03</span><br><span class="line">10.0.1.10 00:30:15:A2:3B:B6</span><br><span class="line">10.0.1.11 00:30:15:A3:23:B7</span><br><span class="line">10.0.1.12 00:30:15:A2:3A:A1</span><br><span class="line">10.0.1.1 00:0F:AF:81:19:1F</span><br><span class="line">10.0.2.2 00:0F:AF:85:6C:25</span><br><span class="line">10.0.3.3 00:0F:AF:85:70:42</span><br><span class="line">10.0.2.20 00:0F:AF:85:55:DE</span><br><span class="line">10.0.1.21 00:0F:AF:85:6C:09</span><br><span class="line">10.0.2.22 00:0F:AF:85:5C:41</span><br><span class="line">10.0.0.151 00:0F:AF:85:6C:F6</span><br><span class="line">10.0.1.152 00:0F:AF:83:1F:65</span><br><span class="line">10.0.0.153 00:0F:AF:85:70:03</span><br><span class="line">10.0.3.10 00:30:15:A2:3B:B6</span><br><span class="line">10.0.1.11 00:30:15:A3:23:B7</span><br><span class="line">10.0.3.12 00:30:15:A2:3A:A1</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure>

<ul>
<li>指定分隔符，多列排序的时候容易出现排序失误，这时候我们需要手动告诉 sort，排序范围（不是默认分隔符导致的）</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677406245720-be5ed7b7-3383-4898-b4bf-773f5ac0ebcf.png#averageHue=%23281d13&clientId=u2b7ad871-2d58-4&from=paste&height=110&id=B7v2t&originHeight=151&originWidth=341&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=5670&status=done&style=none&taskId=u681eff6d-9d0c-474e-9827-d988b7df14d&title=&width=248" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677404817436-9e40034c-026e-438a-a3cf-ca95b7b4ec80.png#averageHue=%23090706&clientId=u2b7ad871-2d58-4&from=paste&height=171&id=u4cf7fc4e&originHeight=235&originWidth=637&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=15734&status=done&style=none&taskId=u3588a9b0-940f-4974-949f-e2da57287a4&title=&width=463.27272727272725" alt="image.png"></p>
<ul>
<li>空格并不会产生这种问题</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677405854525-3d82caf6-ba14-4e9a-8bf9-a7e1fa04e081.png#averageHue=%230b0806&clientId=u2b7ad871-2d58-4&from=paste&height=128&id=u3affbfcc&originHeight=176&originWidth=527&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=12696&status=done&style=none&taskId=u80c6cfa2-bd7e-408c-a467-a3324cde145&title=&width=383.27272727272725" alt="image.png"></p>
<h3 id="15-7-uniq"><a href="#15-7-uniq" class="headerlink" title="15.7 uniq"></a>15.7 uniq</h3><blockquote>
<p>unique 独一无二</p>
</blockquote>
<ul>
<li>去重<table>
<thead>
<tr>
<th>uniq 选项</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>-c</td>
<td>去重并显示次数（重复次数）</td>
</tr>
</tbody></table>
</li>
</ul>
<blockquote>
<p>sort uniq.text | uniq -c | sort -rn</p>
</blockquote>
<h3 id="15-8-企业实战案例-日志分析"><a href="#15-8-企业实战案例-日志分析" class="headerlink" title="15.8 企业实战案例-日志分析"></a>15.8 企业实战案例-日志分析</h3><ul>
<li>分析日志&#x2F;var&#x2F;log&#x2F;secure 日志</li>
<li>上传到 Linux 中（lrzsz）</li>
<li>yum install -y lrzsz<ul>
<li>rz 上传到 Linux 中（拖拽）</li>
<li>sz 从 Linux 下载到 windows 中</li>
</ul>
</li>
<li>处理步骤<ul>
<li><ol>
<li>通过 sort 处理下</li>
</ol>
</li>
<li><ol start="2">
<li>去重 uniq -c</li>
</ol>
</li>
<li>3.sort 对次数进行排序</li>
<li>4.head 取出 5 行</li>
</ul>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sort</span> secure-ip.text | <span class="built_in">uniq</span> -c | <span class="built_in">sort</span> -rn | <span class="built_in">head</span> -5</span><br></pre></td></tr></table></figure>

<h2 id="16-日期组合-🤞🤞🤞🤞🤞"><a href="#16-日期组合-🤞🤞🤞🤞🤞" class="headerlink" title="16. 日期组合 🤞🤞🤞🤞🤞"></a>16. 日期组合 🤞🤞🤞🤞🤞</h2><p>在 Linux 中我们需要日常查看系统的时间，保证整个网站所有的服务器的系统时间一致</p>
<ul>
<li><p>date</p>
</li>
<li><p>ntpdate</p>
</li>
<li><p>特殊符号</p>
<table>
<thead>
<tr>
<th>+</th>
<th>%F 年月日 %Y-%m-%d</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td>%w 周几</td>
</tr>
<tr>
<td></td>
<td>date +%H-%M:%S</td>
</tr>
<tr>
<td>-d</td>
<td>根据说明修改时间（不会更改系统时间）</td>
</tr>
<tr>
<td>-s</td>
<td>修改时间（更改系统时间）</td>
</tr>
</tbody></table>
<p>2.ntpdate 同步时间的命令</p>
<blockquote>
<p>npt1.aliyun.com 是阿里云的时间服务器之一</p>
</blockquote>
</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677411332949-5a424dd5-86b8-4a57-87c4-9c8b3dc923dc.png#averageHue=%23110f0e&clientId=u2b7ad871-2d58-4&from=paste&height=114&id=uc908ac27&originHeight=142&originWidth=789&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=13737&status=done&style=none&taskId=u7cfeac0e-7b63-4920-9398-03369c1f4f9&title=&width=631.2" alt="image.png"><br>应用实战</p>
<ul>
<li><p>date 应用场景：企业备份的时候，给压缩包加上时间。</p>
<blockquote>
<p>创建文件或目录的时候，给文件名或目录名字加上个时间</p>
</blockquote>
</li>
<li><p>特殊符号：<code> </code>,反引号里面的命令 会被优先执行</p>
</li>
<li><p>创建时间命名的文件</p>
</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677412331620-53d3fec6-2f93-4277-a555-0e851e79bedb.png#averageHue=%230e0c0a&clientId=u2b7ad871-2d58-4&from=paste&height=97&id=u2a0386fd&originHeight=121&originWidth=640&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=10775&status=done&style=none&taskId=u795e4622-9f96-4c6e-8b26-3062259c92b&title=&width=512" alt="image.png"><br>掌握 Linux 系统时间相关的命令：date ,ntpdate,timedatectl.<br>核心掌握:date 时间格式 +%F,%w，%T<br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677412896861-27f99a32-85b8-4781-a8c7-0e7f40a37334.png#averageHue=%23f5f5f5&clientId=u2b7ad871-2d58-4&from=paste&height=448&id=uf4c27b8f&originHeight=560&originWidth=1300&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=244438&status=done&style=none&taskId=ueba321bc-0810-490a-8b9e-1b3dd8f7537&title=&width=1040" alt="image.png"></p>
<h2 id="17-文件属性体系"><a href="#17-文件属性体系" class="headerlink" title="17. 文件属性体系"></a>17. 文件属性体系</h2><h3 id="17-1-文件体系概述"><a href="#17-1-文件体系概述" class="headerlink" title="17.1 文件体系概述"></a>17.1 文件体系概述</h3><p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677471841572-75dff409-0e8c-4c77-81ee-54b1c0d6683f.png#averageHue=%23a5b47c&clientId=u6dc70a33-dc7e-4&from=paste&height=715&id=u763d3191&originHeight=804&originWidth=883&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=590810&status=done&style=none&taskId=u0e85b263-e428-4d77-be61-60dea441c16&title=&width=784.8888888888889" alt="image.png"></p>
<h3 id="17-2-inode-与-block-部分"><a href="#17-2-inode-与-block-部分" class="headerlink" title="17.2 inode 与 block 部分"></a>17.2 inode 与 block 部分</h3><blockquote>
<p>大概了解 ：inode 和 block 含义 即可 未来磁盘部分有故障使用</p>
</blockquote>
<ul>
<li>inode 索引节点,inode 号码类似于身份证号码,通过 inode 号码可以找到文件的内容</li>
<li>inode 是一个空间，inode 是空间的位置,类似于身份证，inode 空间存放<ul>
<li>inode 空间中存放的是文件属性信息，文件大小,修改时间,权限,所有者..</li>
<li>inode 空间中存放 block 的位置(指向文件实体的指针)</li>
</ul>
</li>
<li>block 块（数据块）：存放数据</li>
</ul>
<h4 id="17-2-1-inode-与-Block-的关系"><a href="#17-2-1-inode-与-Block-的关系" class="headerlink" title="17.2.1 inode 与 Block 的关系"></a>17.2.1 inode 与 Block 的关系</h4><p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677472419523-355f2d90-418c-42d7-8b7b-9b009b07ed10.png#averageHue=%23f7e299&clientId=u6dc70a33-dc7e-4&from=paste&height=483&id=ufebb4efd&originHeight=543&originWidth=663&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=212756&status=done&style=none&taskId=ufe10a624-2fcf-422d-87b0-028d4e250b8&title=&width=589.3333333333334" alt="image.png"></p>
<ul>
<li>用户访问查看 old.txt 文件内容的流程：</li>
<li>1.用户访问 oldboy.txt 的时候，系统会找出对应 inode 空间（根据 inode 号码</li>
<li>2.访问来到 inode 空间后，确认用户，确认权限</li>
<li>3.权限信息正确就准许通过，可以访问 inode 对应的 block 区域（数据）</li>
</ul>
<ol start="3">
<li>inode 和 block 特点</li>
</ol>
<ul>
<li>.inode 索引节点,存放文件属性信息, block 位置。</li>
<li>每创建 1 个非空文件至少占用 1 个 inode ,1 个 block，一般文件都要有 1 个 inode。</li>
<li>1 个 block 默认是 4k。</li>
<li>inode , block 数量是在格式化的时候创建的。</li>
<li>正常情况下 block 的使用会更快.</li>
<li>创建小文件不足 4k,1 个 block 还有剩余空间,无法给其他文件使用</li>
<li>创建文件大于 4k，占用多个 block.</li>
</ul>
<h4 id="17-2-2-如何查看-🤞🤞🤞🤞🤞"><a href="#17-2-2-如何查看-🤞🤞🤞🤞🤞" class="headerlink" title="17.2.2 如何查看 🤞🤞🤞🤞🤞"></a>17.2.2 如何查看 🤞🤞🤞🤞🤞</h4><ul>
<li>查看 block 的使用情况命令（平时说的磁盘空间）: df -h 磁盘空间使用情况</li>
<li>查看 inode 的使用情况命令: df -i</li>
</ul>
<h4 id="17-2-3-小结"><a href="#17-2-3-小结" class="headerlink" title="17.2.3 小结"></a>17.2.3 小结</h4><p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677473269379-c96cd9f7-6009-4aad-857b-3e38024728ac.png#averageHue=%23ebeaea&clientId=u6dc70a33-dc7e-4&from=paste&height=85&id=u8c9bde4a&originHeight=117&originWidth=837&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=60147&status=done&style=none&taskId=ufc2ce26d-d9c7-4449-90cc-c414b450e29&title=&width=608.7272727272727" alt="image.png"></p>
<h3 id="17-3-文件类型部分-🤞🤞🤞🤞🤞"><a href="#17-3-文件类型部分-🤞🤞🤞🤞🤞" class="headerlink" title="17.3 文件类型部分 🤞🤞🤞🤞🤞"></a>17.3 文件类型部分 🤞🤞🤞🤞🤞</h3><blockquote>
<p>Linux 下面扩展名仅仅用于展示，随意修改</p>
</blockquote>
<h4 id="17-3-1-文件类型"><a href="#17-3-1-文件类型" class="headerlink" title="17.3.1 文件类型"></a>17.3.1 文件类型</h4><table>
<thead>
<tr>
<th>Linux 常见文件类型</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>-</td>
<td>文件 file</td>
</tr>
<tr>
<td>d</td>
<td>目录 dir</td>
</tr>
<tr>
<td>l</td>
<td>软连接</td>
</tr>
<tr>
<td>c</td>
<td>字符设备</td>
</tr>
<tr>
<td>b</td>
<td>块设备</td>
</tr>
<tr>
<td>s</td>
<td>套字节</td>
</tr>
<tr>
<td>p</td>
<td>管道文件</td>
</tr>
</tbody></table>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677490330417-86f26b08-d086-4b0c-95ec-af05dab55d2a.png#averageHue=%230b0805&clientId=u6dc70a33-dc7e-4&from=paste&height=89&id=ua4773f42&originHeight=123&originWidth=716&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=13828&status=done&style=none&taskId=u7e07c925-8c2c-446d-9bcd-7044adb7507&title=&width=520.7272727272727" alt="image.png"></p>
<h4 id="17-3-2-如何查看文件类型-🤞🤞🤞🤞🤞"><a href="#17-3-2-如何查看文件类型-🤞🤞🤞🤞🤞" class="headerlink" title="17.3.2 如何查看文件类型 🤞🤞🤞🤞🤞"></a>17.3.2 如何查看文件类型 🤞🤞🤞🤞🤞</h4><ul>
<li>file 查看详细文件类型<table>
<thead>
<tr>
<th>文件的分类</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>text</td>
<td>普通文件</td>
</tr>
<tr>
<td>data</td>
<td>数据文件</td>
</tr>
<tr>
<td>二进制文件</td>
<td>大部分都是命令</td>
</tr>
</tbody></table>
</li>
</ul>
<h3 id="17-4-软硬链接-🤞🤞🤞🤞🤞"><a href="#17-4-软硬链接-🤞🤞🤞🤞🤞" class="headerlink" title="17.4 软硬链接 🤞🤞🤞🤞🤞"></a>17.4 软硬链接 🤞🤞🤞🤞🤞</h3><h4 id="17-4-1-概述"><a href="#17-4-1-概述" class="headerlink" title="17.4.1 概述"></a>17.4.1 概述</h4><ul>
<li>软连接:类似于 windows 中快捷方式，也是一种文件，用于存放源文件的路径(位置+名字),应用最多.</li>
<li>硬链接:在同一个分区中文件的 inode 号码相同了，这些文件互为硬链接,很少使用.</li>
</ul>
<h4 id="7-4-1-如何创建"><a href="#7-4-1-如何创建" class="headerlink" title="7.4.1 如何创建"></a>7.4.1 如何创建</h4><ul>
<li>ln(link) 创建软链接或硬链接，默认创建硬链接</li>
<li>创建软链接 🤞</li>
<li>ln -s 源文件 软连接文件</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677491991645-af9a1e29-a0eb-4f56-bf8e-e0b58bef7f17.png#averageHue=%23080604&clientId=u6dc70a33-dc7e-4&from=paste&height=76&id=LRlTr&originHeight=105&originWidth=475&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=7086&status=done&style=none&taskId=ua0d2c54a-bb61-42f3-b585-9b9ea9b6529&title=&width=345.45454545454544" alt="image.png"></p>
<ul>
<li>硬链接</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677492379035-87024f3c-aaac-4568-b361-d8f80fa94d7c.png#averageHue=%23151109&clientId=u6dc70a33-dc7e-4&from=paste&height=55&id=ud7e8cab8&originHeight=75&originWidth=608&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=9011&status=done&style=none&taskId=u41eaf85f-d54c-4c4f-a027-13286baf771&title=&width=442.1818181818182" alt="image.png"></p>
<ul>
<li>软硬件与硬链接创建类似</li>
</ul>
<h4 id="7-4-2-软连接与硬链接的区别"><a href="#7-4-2-软连接与硬链接的区别" class="headerlink" title="7.4.2 软连接与硬链接的区别"></a>7.4.2 软连接与硬链接的区别</h4><p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677493070292-76ab8abb-16c7-4c7d-ac14-801419ddfaba.png#averageHue=%23aee3f0&clientId=u6dc70a33-dc7e-4&from=paste&height=355&id=u1064399e&originHeight=488&originWidth=1332&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=171720&status=done&style=none&taskId=ufcd514e7-8006-4b09-9878-b3bdfc99f8f&title=&width=968.7272727272727" alt="image.png"><br>软连接（符号链接） softlink&#x2F;symlink 类似于 windows 快捷方式，存放源文件的位置<br>硬链接：同一个分区中 inode 号码相同的文件，互为硬链接<br>软连接通过 ln -s 创建，硬链接通过 Ln 创建</p>
<ul>
<li>特点<ul>
<li>特点软连接比较常用，可以给文件，目录创建</li>
<li>硬链接只能给文件创建，不能跨分区（&#x2F;root、&#x2F;home、&#x2F;swap），无法给目录创建硬链接. 几乎不用</li>
</ul>
</li>
</ul>
<p>怎么没的</p>
<ol>
<li>删除软连接,源文件不受影响．</li>
<li>删除源文件，软连接无法使用,红底白字闪烁</li>
<li>删除硬链接，源文件,软连接无影响.</li>
<li>删除源文件和硬链接，这个文件就被删除了.</li>
</ol>
<h3 id="17-5-用户和用户组"><a href="#17-5-用户和用户组" class="headerlink" title="17.5 用户和用户组"></a>17.5 用户和用户组</h3><h3 id="17-6-权限"><a href="#17-6-权限" class="headerlink" title="17.6 权限"></a>17.6 权限</h3><h3 id="17-7-文件大小-🤞🤞🤞🤞🤞"><a href="#17-7-文件大小-🤞🤞🤞🤞🤞" class="headerlink" title="17.7 文件大小 🤞🤞🤞🤞🤞"></a>17.7 文件大小 🤞🤞🤞🤞🤞</h3><ul>
<li>查看文件大小</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ll -h /etc/hosts</span><br><span class="line">ll -h /etc/</span><br></pre></td></tr></table></figure>

<ul>
<li>查看目录大小</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">du</span> -sh /etc/</span><br><span class="line">-h 人类可读形式显示大小</span><br><span class="line">-s 不要显示目录中所有子目录了，只显示汇总信息，不显示所有</span><br><span class="line">查看指定目录所占空间（block）</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677495123943-ab2574fa-cd75-4414-81aa-6553c01eeee9.png#averageHue=%23f8f7f6&clientId=u6dc70a33-dc7e-4&from=paste&height=397&id=uea9736a9&originHeight=546&originWidth=543&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=23403&status=done&style=none&taskId=u7ac8e5c2-616d-410e-8731-a0383cfa4d5&title=&width=394.90909090909093" alt="image.png"></p>
<h3 id="17-8-时间"><a href="#17-8-时间" class="headerlink" title="17.8 时间"></a>17.8 时间</h3><p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677495218404-d747c797-fbeb-46ff-801c-7f827f35dec2.png#averageHue=%23f2f1f0&clientId=u6dc70a33-dc7e-4&from=paste&height=170&id=ucb76501e&originHeight=234&originWidth=930&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=64144&status=done&style=none&taskId=ud50c9685-3842-4cf7-8602-eb76ac11e60&title=&width=676.3636363636364" alt="image.png"></p>
<ul>
<li>stat 查看文件的属性信息 + 文件名</li>
</ul>
<h3 id="17-9-总结"><a href="#17-9-总结" class="headerlink" title="17.9 总结"></a>17.9 总结</h3><p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677495381077-b3b0e775-c552-4885-bf22-d68e124bfdbc.png#averageHue=%23f9f4ed&clientId=u6dc70a33-dc7e-4&from=paste&height=190&id=ub3b35ee6&originHeight=261&originWidth=514&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=101489&status=done&style=none&taskId=uf888bc9e-4643-48a4-8b60-b72641fedd9&title=&width=373.8181818181818" alt="image.png"></p>
<h2 id="18-企业连接–-一个基于软链接服务升级流程"><a href="#18-企业连接–-一个基于软链接服务升级流程" class="headerlink" title="18. 企业连接– 一个基于软链接服务升级流程"></a>18. 企业连接– 一个基于软链接服务升级流程</h2><p>未来可以设计基于软连接的升级与回滚流程</p>
<ul>
<li>升级:删除旧的软连接,创建软连接指向新的版本即可.</li>
<li>回滚:删除 l 日的软连接，创建软连接指向旧的可用的版本即可.</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677495835365-f1d6a0ae-7976-46e3-aa66-e346b22a3584.png#averageHue=%234dd951&clientId=u6dc70a33-dc7e-4&from=paste&height=173&id=u814d64af&originHeight=484&originWidth=1013&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=313126&status=done&style=none&taskId=u43128df7-2b13-4b2b-bc0c-3ce102cec1b&title=&width=362.727294921875" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677495857203-1bef2ac4-6b59-4ac8-8003-10f30e648edb.png#averageHue=%2353d456&clientId=u6dc70a33-dc7e-4&from=paste&height=159&id=u1dea9ed8&originHeight=218&originWidth=507&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=104862&status=done&style=none&taskId=uef9504d1-92e4-40ca-ba51-7caefa407c2&title=&width=368.72727272727275" alt="image.png"></p>
<h2 id="19-打包压缩三剑客"><a href="#19-打包压缩三剑客" class="headerlink" title="19. 打包压缩三剑客"></a>19. 打包压缩三剑客</h2><blockquote>
<p>运维的日常工作中，我们需要备份文件，备份某一个目录中的文件，这时候使用 cp 命令等就不行了<br>避免空间浪费，选择打包压缩目录实现备份的目的</p>
</blockquote>
<h3 id="19-1-概述"><a href="#19-1-概述" class="headerlink" title="19.1 概述"></a>19.1 概述</h3><table>
<thead>
<tr>
<th>压缩命令</th>
<th>应用场景</th>
</tr>
</thead>
<tbody><tr>
<td>tar 🤞🤞🤞🤞🤞</td>
<td>大部分使用 tar 即可。创建，查看，解压，解压到指定目录</td>
</tr>
<tr>
<td>gzip</td>
<td>一般配合其他命令使用</td>
</tr>
<tr>
<td>zip、unzip</td>
<td>一般用于解压 zip 格式的压缩包 unzip</td>
</tr>
</tbody></table>
<h3 id="19-2-tar"><a href="#19-2-tar" class="headerlink" title="19.2 tar"></a>19.2 tar</h3><ul>
<li>windows 压缩</li>
<li>linux<ul>
<li>打包（文件放在一起）</li>
<li>压缩(进行压缩，节约空间)</li>
</ul>
</li>
<li>tar 功能:<ul>
<li>创建</li>
<li>查看</li>
<li>解压</li>
<li>解压压缩包到指定目录</li>
</ul>
</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677497392016-043404c9-fd9c-4a54-a951-e1bd65080a78.png#averageHue=%23c7c6ca&clientId=u6dc70a33-dc7e-4&from=paste&height=175&id=ue6768605&originHeight=240&originWidth=940&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=87038&status=done&style=none&taskId=u5b6cc72b-8b78-4a63-8c1f-e267a87b267&title=&width=683.6363636363636" alt="image.png"></p>
<ol>
<li>创建压缩包</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@wyj ~]<span class="comment"># tar czvf /tmp/etc.tar.gz /etc/</span></span><br><span class="line">[root@wyj ~]<span class="comment"># tar czf /tmp/etc.tar.gz /etc/</span></span><br><span class="line">v 显示压缩过程</span><br><span class="line">c 创建包</span><br><span class="line">z gzip 解压工具 tar打包 gz 压缩 扩展名 .tar.gz</span><br><span class="line">f file 指定压缩包</span><br><span class="line">h 软连接指定的源文件也打包</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>查看压缩包<blockquote>
<p>核心指定好压缩包名字和位置</p>
</blockquote>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tar ztvf /tmp/etc.tar.gz</span><br><span class="line">tar tf /tmp/etc.tar.gz</span><br><span class="line">t list 列表 查看压缩包内容</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>解压<blockquote>
<p>核心指定好压缩包名字和位置</p>
</blockquote>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tar zxvf /tmp/etc.tar.gz</span><br><span class="line">tar xf /tmp/etc.tar.gz</span><br><span class="line">x extract 解压</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677497310662-7ade233b-1d8c-447d-98d3-c5aad3441f39.png#averageHue=%23384444&clientId=u6dc70a33-dc7e-4&from=paste&height=169&id=u5ae9c147&originHeight=305&originWidth=1218&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=381104&status=done&style=none&taskId=u1639a33c-f30d-48f7-b3cb-8d12efb0bff&title=&width=675.5454711914062" alt="image.png"></p>
<ol start="4">
<li>解压到指定目录</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677497567101-820841be-6981-4159-8989-3098966ad128.png#averageHue=%230d0a08&clientId=u6dc70a33-dc7e-4&from=paste&height=77&id=u0094ab52&originHeight=106&originWidth=512&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=8683&status=done&style=none&taskId=u8232678b-143e-44b0-ab70-b7c12206d89&title=&width=372.3636363636364" alt="image.png"></p>
<ol start="5">
<li>tar: 从成员中删除开头的 “&#x2F;”（了解）<blockquote>
<p>是个警告而已，可以忽略</p>
</blockquote>
</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677497756060-61426eea-8001-4891-9cac-dfe27bedf9ac.png#averageHue=%23f6f6f6&clientId=u6dc70a33-dc7e-4&from=paste&height=463&id=u9ce4e89d&originHeight=636&originWidth=1210&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=217363&status=done&style=none&taskId=u27cb6448-89aa-4fe8-b684-f9b7d083c41&title=&width=880" alt="image.png"><br>小结<br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677497927830-fb4faaf6-dff8-4ed0-a6a9-b031853eaaf3.png#averageHue=%23f3f3f3&clientId=ue3469c62-48ba-4&from=paste&height=308&id=u4242b1b4&originHeight=423&originWidth=792&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=127148&status=done&style=none&taskId=u52f830c9-1844-4466-b5a8-95e752493f3&title=&width=576" alt="image.png"></p>
<h3 id="19-3-gzip"><a href="#19-3-gzip" class="headerlink" title="19.3 gzip"></a>19.3 gzip</h3><ul>
<li>创建压缩包</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">touch</span> wyj.txt</span><br><span class="line">gzip wyj.txt</span><br><span class="line">ll wyj.txt.gz</span><br></pre></td></tr></table></figure>

<ul>
<li>解压</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gzip -d wyj.txt.gz</span><br></pre></td></tr></table></figure>

<h3 id="19-4-zip-unzip"><a href="#19-4-zip-unzip" class="headerlink" title="19.4 zip&#x2F;unzip"></a>19.4 zip&#x2F;unzip</h3><blockquote>
<p>专门处理。zip 格式压缩包，tar 无法处理 zip 格式压缩包<br>zip 格式是 windows 和 linux 共同支持的格式</p>
</blockquote>
<ul>
<li>对于这个命令大部分会使用解压即可</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">压缩</span><br><span class="line">-r 用于压缩的目录</span><br><span class="line">zip -r etc.zip /etc/</span><br><span class="line"></span><br><span class="line">解压</span><br><span class="line">unzip etc.zip</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677499005279-1cf250ce-16ae-4634-ad37-912c8be1be1c.png#averageHue=%23f3f2f1&clientId=ue3469c62-48ba-4&from=paste&height=316&id=u23eae780&originHeight=434&originWidth=948&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=183656&status=done&style=none&taskId=u0e7a2104-0ffb-4e36-ba91-e854b23fbb0&title=&width=689.4545454545455" alt="image.png">、</p>
<h2 id="20-四剑客-🤞🤞🤞🤞🤞"><a href="#20-四剑客-🤞🤞🤞🤞🤞" class="headerlink" title="20. 四剑客 🤞🤞🤞🤞🤞"></a>20. 四剑客 🤞🤞🤞🤞🤞</h2><ul>
<li>awk</li>
<li>sed</li>
<li>grep</li>
<li>find</li>
<li>cut</li>
</ul>
<h3 id="20-1-grep🤞🤞🤞🤞🤞"><a href="#20-1-grep🤞🤞🤞🤞🤞" class="headerlink" title="20 .1 grep🤞🤞🤞🤞🤞"></a>20 .1 grep🤞🤞🤞🤞🤞</h3><p>过滤：在文件中或管道中进行查找，找出想要的内容（字符串），默认按照行查找。</p>
<table>
<thead>
<tr>
<th>grep 选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-n</td>
<td>显示行号</td>
</tr>
<tr>
<td>-v</td>
<td>排除，取反</td>
</tr>
<tr>
<td>-i</td>
<td>过滤的时候忽略大小写</td>
</tr>
</tbody></table>
<ul>
<li>基本用法</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@wyj ~]<span class="comment"># grep &#x27;root&#x27; /etc/passwd</span></span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677550647894-2907eef3-34c4-4370-b44d-ce0a5fe4a788.png#averageHue=%2319120e&clientId=ub909a11d-310b-4&from=paste&height=46&id=ufad886c4&originHeight=63&originWidth=427&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=4830&status=done&style=none&taskId=u8c435896-f5bd-4b47-a87d-3dacba19ebc&title=&width=310.54545454545456" alt="image.png"></p>
<ul>
<li>显示行号</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@wyj ~]<span class="comment"># grep &#x27;root&#x27; /etc/passwd -n</span></span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677550780913-79c5404a-6a2a-434a-8bbe-aae2dccd01e5.png#averageHue=%2319110d&clientId=ub909a11d-310b-4&from=paste&height=36&id=u7c8ab5cf&originHeight=49&originWidth=470&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=4952&status=done&style=none&taskId=u39217254-6ecc-48d7-bd0b-210204c4d19&title=&width=341.8181818181818" alt="image.png"></p>
<ul>
<li>不区分大小写(不清楚内容是大写小写的时候)</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@wyj ~]<span class="comment"># grep -i &#x27;root&#x27; /etc/passwd -n</span></span><br></pre></td></tr></table></figure>

<ul>
<li>排除(排除不包含的关键字)</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># grep -v &#x27;root&#x27; /etc/passwd</span></span><br></pre></td></tr></table></figure>

<h3 id="20-2-find🤞🤞🤞🤞🤞"><a href="#20-2-find🤞🤞🤞🤞🤞" class="headerlink" title="20.2 find🤞🤞🤞🤞🤞"></a>20.2 find🤞🤞🤞🤞🤞</h3><blockquote>
<p>find 在指定目录中查找文件</p>
</blockquote>
<table>
<thead>
<tr>
<th>find 命令选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-type</td>
<td>什么类型的文件 f 表示文件 d 表示目录</td>
</tr>
<tr>
<td>-name</td>
<td>文件名</td>
</tr>
<tr>
<td>-size</td>
<td>根据大小查找文件 +表示大于 -表示小于</td>
</tr>
<tr>
<td>-mtime</td>
<td>根据修改时间查找文件</td>
</tr>
</tbody></table>
<ul>
<li>基本用法<blockquote>
<p>find 目录 指定类型 指定名字</p>
</blockquote>
</li>
</ul>
<p>精确查找</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /etc/ -<span class="built_in">type</span> f -name <span class="string">&#x27;hostname&#x27;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677551752443-d3e07873-2156-4d0c-89c2-7b3f3f24ae07.png#averageHue=%230d0a07&clientId=ub909a11d-310b-4&from=paste&height=31&id=u58e06b9d&originHeight=43&originWidth=452&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=3145&status=done&style=none&taskId=uc87f5180-346c-47c1-81f9-c15c683833c&title=&width=328.72727272727275" alt="image.png"><br>模糊查找<br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677551839053-74cf952f-77f1-44dc-93f8-993cecb0ea1e.png#averageHue=%230d0a07&clientId=ub909a11d-310b-4&from=paste&height=62&id=ud4f433a4&originHeight=85&originWidth=448&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=5597&status=done&style=none&taskId=u6f5a65dd-2239-4961-b79e-7f21289a4b0&title=&width=325.8181818181818" alt="image.png"></p>
<blockquote>
<p>如果找 xxx 开头 或 包含 xxx 的文件 -name ‘wyj*‘</p>
</blockquote>
<p>根据时间查找</p>
<blockquote>
<p>主要用于查找系统日志文件，旧的日志。七天之前的文件</p>
<ul>
<li>+7 表示 找出七天之前的文件</li>
<li>-7 最近七天之内的文件</li>
</ul>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /oldboy/ -<span class="built_in">type</span> -f -mtime -7或+7</span><br></pre></td></tr></table></figure>

<p>综合案例 🤞🤞🤞<br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677558562145-95c6a3ec-90b8-4e72-888a-34ae0e68b025.png#averageHue=%23090705&clientId=ub909a11d-310b-4&from=paste&height=107&id=u2d3e3a23&originHeight=147&originWidth=673&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=9993&status=done&style=none&taskId=u6952b9d4-fa3d-4b4a-9b04-4f3728d5f58&title=&width=489.45454545454544" alt="image.png"></p>
<ul>
<li>进阶</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">查找文件的时候指定最多找多少层目录</span><br><span class="line">find / -maxdepath 1 -<span class="built_in">type</span> f -name <span class="string">&quot;*.conf&quot;</span></span><br><span class="line">-maxdepath 1 选项第一个，指定find命令查找的最大深度（层数），不加上就是所有层</span><br><span class="line"></span><br><span class="line">查找的时候不区分大小写</span><br><span class="line">find / -<span class="built_in">type</span> f -iname <span class="string">&quot;*.conf&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>find 命令与其他命令配合<ul>
<li>find 找出想要的文件删除，看详细信息</li>
<li>find 找出文件进行打包压缩</li>
<li>find 找出文件后复制或移动</li>
</ul>
</li>
</ul>
<p>案例 ： 找出&#x2F;wyj&#x2F;find&#x2F;以.txt 结尾的文件显示详细信息</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">方法一：查找文件，并显示详细信息</span><br><span class="line">[root@wyj wyj]<span class="comment"># ll `find /wyj/find/ -type f -name &#x27;*.txt&#x27;`</span></span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677574434249-1aa36f91-527e-4ac1-9d54-cf4ef6c871a4.png#averageHue=%23100d09&clientId=uc31cdfb6-8015-4&from=paste&height=62&id=uaa892bb5&originHeight=85&originWidth=565&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=8565&status=done&style=none&taskId=ud4e289b9-3457-4103-a5c2-d62721d33d6&title=&width=410.90909090909093" alt="image.png"></p>
<ul>
<li>我们发现 find 命令使用管道把数据传输给其他命令失败了!!!</li>
<li>find &#x2F;oldboy&#x2F;find&#x2F; -type f -name “*.txt” l ls -l 无法使用。<blockquote>
<p>关于管道的秘密:<br>ls 选项参数<br>错误的心路历程:<br>默认管道是无法把数据变化为命令的参数，导致传递失败，find 命令找出的内容相当于执行 ls -lh 命令，显示当前目录下内容并详细信息。<br>故障原因:<br>前面的命令通过管道传递给后面命令，传递的是(字符串)<br>这个命令(ls)中传递文字符号就不行，传递(参数）<br>所以上面的命令相当于 find 白白浪费了,仅仅执行了下 ls -lh 而已 .<br>如何解决:<br>通过 | xargs 把前面命令传递过来的字符串转换为后面命令可以识别参数.</p>
</blockquote>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">方法2 find | xargs</span><br><span class="line">[root@wyj wyj]<span class="comment"># find /wyj/find/ -type f -name &#x27;*.txt&#x27; | xargs ls -lh</span></span><br></pre></td></tr></table></figure>

<p>方法 3<br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677575899394-9de3613e-0cbb-458c-80df-e2bff2cc342a.png#averageHue=%23a1c0a5&clientId=uc31cdfb6-8015-4&from=paste&height=55&id=u2dd7bd52&originHeight=75&originWidth=540&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=18639&status=done&style=none&taskId=u22c507ee-f054-474f-ba5f-d55649e1a76&title=&width=392.72727272727275" alt="image.png"><br>find 与 打包压缩</p>
<ul>
<li>find 找出&#x2F;wyj&#x2F;find&#x2F; 以.txt 结尾的文件放在&#x2F;tmp&#x2F;find.tar.gz（-exec 不推荐）</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@wyj ~]<span class="comment"># find /wyj/find/ -type f -name &#x27;*.txt&#x27; |xargs tar czf /tmp/find.tar.gztar 从成员名中删除开头的“/”</span></span><br><span class="line">[root@wyj ~]<span class="comment"># tar czf /tmp/find.tar.gz `find /wyj/find/ -type f -name &#x27;*.txt&#x27;`</span></span><br><span class="line">tar: 从成员名中删除开头的“/”</span><br><span class="line">[root@wyj ~]<span class="comment"># find /wyj/find/ -type f -name &#x27;*.txt&#x27; -exec tar czf /tmp/find-exec.tar.gz &#123;&#125; +;</span></span><br><span class="line">tar: 从成员名中删除开头的“/”</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677584271899-1b35ffc5-a199-4401-8189-b03d0430a240.png#averageHue=%230c0907&clientId=ub909a11d-310b-4&from=paste&height=81&id=ue022db3d&originHeight=112&originWidth=898&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=16029&status=done&style=none&taskId=u526c34c5-3c56-40ef-aafe-d1e627b0c07&title=&width=653.0909090909091" alt="image.png"><br>find 与复制或移动</p>
<ul>
<li>cp -t 可以使 cp 的源文件或目录 和 目标文件调换位置</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> 源文件	目标文件</span><br><span class="line"><span class="built_in">cp</span> 目标文件 源文件</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@wyj ~]<span class="comment"># cp -a  `find /wyj/find/ -type f -name &#x27;*.txt&#x27;` /tmp/findFile</span></span><br><span class="line">管道符处理的文件会追加到命令的后方，会导致命令格式错误 ，所以需要-t调换命令的格式</span><br><span class="line">[root@wyj ~]<span class="comment"># find /wyj/find/ -type f -name &#x27;*.txt&#x27; | xargs cp -a -t /tmp/findFile</span></span><br><span class="line">[root@wyj ~]<span class="comment"># /wyj/find/ -type f -name &#x27;*.txt&#x27; -exec cp &#123;&#125; /tmp/ \;</span></span><br></pre></td></tr></table></figure>

<h3 id="20-3-cut"><a href="#20-3-cut" class="headerlink" title="20.3 cut"></a>20.3 cut</h3><blockquote>
<p>工作就是“剪”，在文件中负责剪切数据。cut 命令从文件的每一个剪切字节、字符、字段并将字节、字符、字段输出</p>
</blockquote>
<ol>
<li>基本用法</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cut [选项参数] filename</span><br><span class="line">说明：默认分隔符是制表符</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>选项参数说明<table>
<thead>
<tr>
<th>选项参数</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-f</td>
<td>列号，提取第几列</td>
</tr>
<tr>
<td>-d</td>
<td>分隔符,默认”\t”</td>
</tr>
<tr>
<td>-c</td>
<td>按字符进行切割，后++n 表示取第几列 比如 -c 1</td>
</tr>
</tbody></table>
</li>
</ol>
<h2 id="21-别名与用户管理体系"><a href="#21-别名与用户管理体系" class="headerlink" title="21. 别名与用户管理体系"></a>21. 别名与用户管理体系</h2><h3 id="21-1-别名"><a href="#21-1-别名" class="headerlink" title="21.1 别名"></a>21.1 别名</h3><blockquote>
<p>用于给命令设置一个昵称 。 ll &#x3D;&#x3D;&#x3D; ls -l</p>
</blockquote>
<p>应用场景</p>
<ul>
<li>给命令设置快捷方式</li>
<li>给危险的命令加上的防护措施</li>
</ul>
<h3 id="21-2-如何创建别名-🤞🤞🤞🤞🤞"><a href="#21-2-如何创建别名-🤞🤞🤞🤞🤞" class="headerlink" title="21.2 如何创建别名 🤞🤞🤞🤞🤞"></a>21.2 如何创建别名 🤞🤞🤞🤞🤞</h3><ul>
<li>只要运行 rm 就提示 rm is dangerous,pls use mv.</li>
<li>需求只有运行 rm，就执行 echo 命令</li>
</ul>
<ol>
<li>查看系统已有别名</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">alias</span> <span class="comment">#查看所以别名</span></span><br><span class="line"><span class="built_in">alias</span> ll <span class="comment"># 查看ll别名对应的命令</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>设置别名</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">alias</span> 昵称=<span class="string">&#x27;命令&#x27;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677659257215-8293ed7f-3ab6-4aa3-b699-bd5d004d53c9.png#averageHue=%230d0a07&clientId=ub6cecde8-8882-4&from=paste&height=45&id=ucd2f6c77&originHeight=62&originWidth=547&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=5078&status=done&style=none&taskId=u8fbfc95d-2025-427f-a7e1-975c82fec57&title=&width=397.8181818181818" alt="image.png"></p>
<blockquote>
<p>如果想真的删除文件（临时取消别名）</p>
<ol>
<li>使用命令绝对路径</li>
<li>使用撬棍（反斜线）\别名</li>
</ol>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\<span class="built_in">rm</span> /wyj/</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>永久生效<blockquote>
<p>一般命令的操作都是临时的，重启或重新登录失效了，需要配置永久生效，修改配置文件</p>
</blockquote>
</li>
</ol>
<ul>
<li>修改配置文件</li>
</ul>
<ol>
<li>当前用户生效 ~&#x2F;.bashrc</li>
<li>&#x2F;etc&#x2F;profile(全局生效)</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">/etc/profile(全局生效)</span><br><span class="line">1.进入vim /etc/profile 在末尾添加<span class="built_in">alias</span> <span class="built_in">rm</span>=<span class="string">&#x27;echo rm command is not found&#x27;</span></span><br><span class="line">2. <span class="built_in">source</span> /etc/profile 让配置文件生效（<span class="built_in">source</span>目前仅用于profile文件）</span><br><span class="line">未来除了<span class="built_in">rm</span>,<span class="built_in">cp</span>,<span class="built_in">mv</span>，的别名到此为止。</span><br><span class="line"></span><br><span class="line">3. 注释掉~/.bashrc里面已经配置的别名</span><br><span class="line">[root@wyj ~]<span class="comment"># vim ~/.bashrc</span></span><br><span class="line">[root@wyj ~]<span class="comment"># grep &#x27;rm&#x27;  ~/.bashrc</span></span><br><span class="line"><span class="comment">#alias rm=&#x27;rm -i&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="21-3-用户管理"><a href="#21-3-用户管理" class="headerlink" title="21.3 用户管理"></a>21.3 用户管理</h3><ul>
<li>Linux 用户概述与分类，UID,GID</li>
<li>Linux 用户相关文件&#x2F;etc&#x2F;passwd 每一列含义</li>
<li>用户增删改查命令</li>
<li>故障案例：命令行灵异的提示 -bash-4.2$</li>
<li>sudo 管理</li>
<li>堡垒机</li>
</ul>
<h4 id="21-3-1-概述"><a href="#21-3-1-概述" class="headerlink" title="21.3.1 概述"></a>21.3.1 概述</h4><ul>
<li>各种系统中都有用户，win(administrator), Linux 系统中是有各种类型的用户的.</li>
<li>未来大部分操作使用 root 实现,进行系统管理的时候都使用 root 造成管理混乱．</li>
<li>推荐使用普通用户，提升系统安全．</li>
<li>简单来说:未来 Linux 系统会有各种的用户，每个用户都有自己的用途，root 最高权限用户，普通用户，虚拟用户。Linux 系统是一个多用户系统．</li>
</ul>
<h4 id="21-3-2-UID-GID"><a href="#21-3-2-UID-GID" class="headerlink" title="21.3.2 UID,GID"></a>21.3.2 UID,GID</h4><blockquote>
<p>Linux 中的用户是有一个标记，类似于身份号码一样的东西，叫做 UID 和 GID．一般情况下 UID 和 GID 要唯一。</p>
</blockquote>
<ul>
<li>UID user id 用户的 id 号，身份证号码．</li>
<li>GID group 用户组 id 号，户口本号码.</li>
</ul>
<h4 id="21-3-3-用户分类"><a href="#21-3-3-用户分类" class="headerlink" title="21.3.3 用户分类"></a>21.3.3 用户分类</h4><p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677661892815-d457f71d-f0bd-47ee-99e7-fe806db33062.png#averageHue=%23f7f6f3&clientId=ub6cecde8-8882-4&from=paste&height=172&id=u2441a583&originHeight=236&originWidth=849&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=92013&status=done&style=none&taskId=u5d302a22-25bc-4c77-8fa6-dc83d2df0d3&title=&width=617.4545454545455" alt="image.png"></p>
<h4 id="21-3-4-用户相关的文件-🤞🤞🤞🤞🤞"><a href="#21-3-4-用户相关的文件-🤞🤞🤞🤞🤞" class="headerlink" title="21.3.4 用户相关的文件 🤞🤞🤞🤞🤞"></a>21.3.4 用户相关的文件 🤞🤞🤞🤞🤞</h4><blockquote>
<p>Linux 每创建一个用户，一般会影响下面几个文件</p>
</blockquote>
<table>
<thead>
<tr>
<th>用户相关文件</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>&#x2F;etc&#x2F;passwd🤞🤞🤞🤞🤞</td>
<td>存放用户信息</td>
</tr>
<tr>
<td>&#x2F;etc&#x2F;shadow</td>
<td>存放密码信息</td>
</tr>
<tr>
<td>&#x2F;etc&#x2F;group</td>
<td>用户组信息</td>
</tr>
<tr>
<td>&#x2F;etc&#x2F;gshadow</td>
<td>用户组密码，几乎不会给用户组设置密码</td>
</tr>
</tbody></table>
<ul>
<li>&#x2F;etc&#x2F;passwd🤞🤞🤞🤞🤞</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677662686203-0caf7664-3a21-4363-9055-a97318c8c384.png#averageHue=%2398ddd7&clientId=ub6cecde8-8882-4&from=paste&height=431&id=ubd030804&originHeight=593&originWidth=1063&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=366591&status=done&style=none&taskId=u1a2c3f9d-25e9-4d13-95c4-40e8bbd598b&title=&width=773.0909090909091" alt="image.png"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">/etc/shadow</span><br><span class="line">第1列是用户名第2列是密码</span><br><span class="line">第3列及以后是密码过期时间，默认是不过期。</span><br><span class="line">/etc/group</span><br><span class="line">root: x:0:oldboybin:x:1:</span><br><span class="line">daemon : x:2:</span><br><span class="line">第1列是用户组的名字:默认是和用户名一致。第2列是密码</span><br><span class="line">第3列是gid</span><br><span class="line">第4列是空，这个组里面有什么额外的用户?</span><br></pre></td></tr></table></figure>

<h4 id="21-3-4-用户管理指令-🤞🤞🤞🤞🤞"><a href="#21-3-4-用户管理指令-🤞🤞🤞🤞🤞" class="headerlink" title="21.3.4 用户管理指令 🤞🤞🤞🤞🤞"></a>21.3.4 用户管理指令 🤞🤞🤞🤞🤞</h4><blockquote>
<p>用户增删改查</p>
</blockquote>
<ul>
<li>useradd<table>
<thead>
<tr>
<th>useradd 选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-u</td>
<td>指定用户 uid</td>
</tr>
<tr>
<td>-s</td>
<td>指定命令解释器，默认是&#x2F;bin&#x2F;bash</td>
</tr>
<tr>
<td>-M</td>
<td>不创建家目录</td>
</tr>
</tbody></table>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">创建mysql 用户 指定uid 1314 指定命令解释器 /sbin/nologin 不创建家目录 创建虚拟用户</span><br><span class="line">[root@wyj ~]<span class="comment"># useradd -u 1314 -s /sbin/nologin -M mysql</span></span><br><span class="line">[root@wyj ~]<span class="comment"># grep &#x27;mysql&#x27; /etc/passwd /etc/group /etc/shadow</span></span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677664545566-d01c7496-a457-4348-a0fb-32df57859419.png#averageHue=%23120b08&clientId=ub6cecde8-8882-4&from=paste&height=67&id=u0188f377&originHeight=92&originWidth=568&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=11792&status=done&style=none&taskId=u381fa01c-b033-40dd-abe9-9d8343fb079&title=&width=413.09090909090907" alt="image.png"></p>
<ul>
<li>passwd 修改密码<table>
<thead>
<tr>
<th>passwd 选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>–stdin</td>
<td>非交互式设置密码</td>
</tr>
</tbody></table>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">（1）给mysql用户设置密码（交互式）</span><br><span class="line">passwd mysql</span><br><span class="line"></span><br><span class="line">（2）非交互式修改密码，用户批量修改密码 （只能root用）</span><br><span class="line"><span class="built_in">echo</span> 1 | passwd --stdin mysql</span><br></pre></td></tr></table></figure>

<ul>
<li>su 切换用户</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">su - mysql</span><br><span class="line"></span><br><span class="line">退出当前用户</span><br><span class="line">ctrl + d <span class="comment">#相当于logout 命令</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>温馨提示 ： 关于 su - 与 su 命令<br>su 命令中的- ，是 su 命令的选项：-, -l, -login’<br>切换用户的时候，更新用户的配置与环境变量</p>
</blockquote>
<ul>
<li>userdel 删除用户<blockquote>
<p>尽量避免使用，通过注释这个用户信息实现。</p>
</blockquote>
</li>
</ul>
<table>
<thead>
<tr>
<th>userdel 选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>默认不会删除家目录和相关文件，比如邮箱</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td>-r</td>
<td>删除用户及家目录</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">如果实在要再删除用户目录</span><br><span class="line">可以进去/etc/passwd 注释掉相关用户的信息</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677666300162-9509ac11-9cf9-4464-8cfd-ea3c89822b82.png#averageHue=%23241a09&clientId=ub6cecde8-8882-4&from=paste&height=20&id=u3cf43d50&originHeight=28&originWidth=387&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=2371&status=done&style=none&taskId=u13cfb033-8100-4adf-929b-c3ff626a0f4&title=&width=281.45454545454544" alt="image.png"></p>
<ul>
<li>usermod 修改用户信息（了解），用户已经存在，useradd 添加的时候指定的信息</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">usermod -d /home/mysql mysql</span><br></pre></td></tr></table></figure>

<ul>
<li>查看<ul>
<li>id 查看用户的 uid,gid,用户组信息，检查用户是否存在</li>
<li>whoami 查询当前用户的名字</li>
<li>w 查看当前登录的用户的信息</li>
<li>last 用户的登录情况</li>
<li>lastlog 所有用户最近 1 次登录情况</li>
</ul>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># id 查看用户id信息 uid gid 属于的用户组  判断用户是否存在</span></span><br><span class="line">[root@my-wyj ~]<span class="comment"># id wyj1</span></span><br><span class="line">uid=1000(wyj1) gid=1000(wyj1) 组=1000(wyj1),10(wheel)</span><br><span class="line"><span class="comment">#   whoami 查询当前用户的名字</span></span><br><span class="line">[root@my-wyj ~]<span class="comment"># whoami</span></span><br><span class="line">root</span><br><span class="line"><span class="comment">#用户组命令（了解）</span></span><br><span class="line">创建用户组 groupadd  (-g 创建组名和gid)</span><br><span class="line">[root@my-wyj ~]<span class="comment"># groupadd -g 888 wyj111</span></span><br><span class="line">[root@my-wyj ~]<span class="comment"># useradd -u 888 -g wyj111 -s /sbin/nologin -M wyj111</span></span><br><span class="line">[root@my-wyj ~]<span class="comment"># id wyj111</span></span><br><span class="line">uid=888(wyj111) gid=888(wyj111) 组=888(wyj111)</span><br></pre></td></tr></table></figure>

<ul>
<li>w 查看当前登录的用户的信息</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677754704970-fa953575-7c12-4d01-94f7-400236b83359.png#averageHue=%2393d5dd&clientId=u63a34266-595a-4&from=paste&height=408&id=ua9603bd3&originHeight=561&originWidth=1026&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=316198&status=done&style=none&taskId=uafb7c7e4-8e9e-440a-ba47-722058e9c99&title=&width=746.1818181818181" alt="image.png"></p>
<h4 id="21-3-5-sudo-权限管理-🤞🤞🤞"><a href="#21-3-5-sudo-权限管理-🤞🤞🤞" class="headerlink" title="21.3.5 sudo 权限管理 🤞🤞🤞"></a>21.3.5 sudo 权限管理 🤞🤞🤞</h4><ol>
<li>概述</li>
</ol>
<ul>
<li>Linux 系统开发人员要看日志,如柯创建用户与授予权限?<ul>
<li>root 权限太大</li>
<li>普通用户权限太小</li>
<li>日志平台</li>
</ul>
</li>
<li>这时候可以通过普通用户+sudo 权限实现这个目标</li>
<li>授予普通用户以 root 权限运行, cat, head&#x2F;tail,more&#x2F;less , grep.</li>
<li>sudo 概述<ul>
<li>用于给普通用户配置的命令，配置了 sudo 权限后普通可以以 root 权限运行命令。</li>
</ul>
</li>
</ul>
<ol start="2">
<li>进行 sudo 授权与使用 🤞🤞🤞<blockquote>
<p>精细化授权，可以给开发人员使用</p>
</blockquote>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">1. visudo === vim /etc/sudoers</span><br><span class="line">100 root    ALL=(ALL)       ALL</span><br><span class="line">101 wyj1    ALL=(ALL)      /bin/cat, /bin/head, /bin/tail, /bin/grep</span><br><span class="line"><span class="comment">#过滤检查配置结果</span></span><br><span class="line">grep wyj1 /etc/sudoers</span><br><span class="line"><span class="comment">#wyj 使用</span></span><br><span class="line">sudo <span class="built_in">head</span> /var/log/secure</span><br><span class="line"><span class="comment">#可以查看当前用户有什么sudo权限，关注后两行即可</span></span><br><span class="line">[root@my-wyj ~]<span class="comment"># su - wyj1</span></span><br><span class="line">用户 wyj1 可以在 my-wyj 上运行以下命令</span><br><span class="line">    (ALL) /bin/cat, /bin/head, /bin/tail, /bin/grep</span><br><span class="line">    (ALL) ALL</span><br><span class="line">2.普通用户使用</span><br><span class="line">sudo + 命令</span><br></pre></td></tr></table></figure>

<p>授予所以命令并且不需要输入密码</p>
<blockquote>
<p>运维自己使用的普通用户</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wyj1    ALL=(ALL)       NOPASSWD: ALL</span><br></pre></td></tr></table></figure>

<h4 id="21-3-6-堡垒机与跳板机"><a href="#21-3-6-堡垒机与跳板机" class="headerlink" title="21.3.6 堡垒机与跳板机"></a>21.3.6 堡垒机与跳板机</h4><ul>
<li>项目完成</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#下载上传软件包 https://docs.tp4a.com/install/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#检查文件大小</span></span><br><span class="line">[root@my-wyj ~]<span class="comment"># ll -h teleport-server-linux-x64-3.6.4-b3.tar.gz</span></span><br><span class="line">-rw-r--r--. 1 root root 32M 3月   2 22:56 teleport-server-linux-x64-3.6.4-b3.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="comment">#解压当前目录就行了</span></span><br><span class="line">tar xf teleport-server-linux-x64-3.6.4-b3.tar.gz</span><br><span class="line">过程略过</span><br><span class="line"></span><br><span class="line"><span class="comment">#进入目录并安装</span></span><br><span class="line">[root@my-wyj ~]<span class="comment"># cd teleport-server-linux-x64-3.6.4-b3/</span></span><br><span class="line">[root@my-wyj teleport-server-linux-x64-3.6.4-b3]<span class="comment"># ./setup.sh</span></span><br><span class="line">Set installation path [/usr/local/teleport]: 直接按回车就行，除非安装到其他目录</span><br><span class="line">略</span><br><span class="line">[ ALL DONE ] 表示全部安装完成</span><br><span class="line"></span><br><span class="line">检查teleport 是否运行中。</span><br><span class="line">[root@my-wyj teleport-server-linux-x64-3.6.4-b3]<span class="comment"># /etc/init.d//teleport status</span></span><br><span class="line">teleport web server is running.</span><br><span class="line">teleport core server is running.</span><br><span class="line"></span><br><span class="line">关闭或重启服务</span><br><span class="line">[root@my-wyj ~]<span class="comment"># /etc/init.d//teleport stop #关闭服务</span></span><br><span class="line">[root@my-wyj ~]<span class="comment"># /etc/init.d//teleport start #开启</span></span><br><span class="line">[root@my-wyj ~]<span class="comment"># /etc/init.d//teleport restart #重启</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>关闭防火墙和 Selinux.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">关闭防火墙</span><br><span class="line">[root@my-wyj ~]<span class="comment"># systemctl stop firewalld.service</span></span><br><span class="line">[root@my-wyj ~]<span class="comment"># systemctl disable firewalld.service</span></span><br><span class="line"><span class="comment">#检查防火墙是否关闭</span></span><br><span class="line">systemctl status firewalld.service</span><br><span class="line"></span><br><span class="line"><span class="comment"># 关闭selinux(工作中基本关闭)</span></span><br><span class="line">setenforce 0 (临时关闭)</span><br><span class="line">[root@my-wyj ~]<span class="comment"># vim /etc/selinux/config</span></span><br><span class="line">SELINUX=enforcing 修改为 SELINUX=disabled</span><br><span class="line"></span><br><span class="line">gettenfore <span class="comment">#结果时permissive 或 disabled 都表示关闭</span></span><br><span class="line">           <span class="comment">#如果是enforcing 表示开启</span></span><br></pre></td></tr></table></figure>

<ul>
<li>浏览器访问 <a target="_blank" rel="noopener" href="http://10.0.0.200:7190/">http://10.0.0.200:7190/</a></li>
<li><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677809796218-83e55406-e565-4d03-aaac-d6ae1109de2b.png#averageHue=%23fbf8f7&clientId=u9a1566ac-c6dc-4&from=paste&height=378&id=u4eb5578c&originHeight=813&originWidth=919&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=67229&status=done&style=none&taskId=u438d47db-a592-4e36-abcb-36dfe4c792a&title=&width=427.3636474609375" alt="image.png"></li>
<li><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677810270303-684a67b3-32ed-4306-b178-3cc0f4be0f01.png#averageHue=%23b4b3b3&clientId=u9a1566ac-c6dc-4&from=paste&height=451&id=u901f38a8&originHeight=620&originWidth=1416&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=92741&status=done&style=none&taskId=ufe6b319d-60b6-4013-8974-a10f1f78632&title=&width=1029.8181818181818" alt="image.png"></li>
<li><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677810359955-af421eea-482a-450e-8662-9fe5388dea53.png#averageHue=%23e7e6e6&clientId=u9a1566ac-c6dc-4&from=paste&height=171&id=u905a0edc&originHeight=235&originWidth=1702&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=24642&status=done&style=none&taskId=u08757340-b916-46f8-9e41-39ebbda2a94&title=&width=1237.8181818181818" alt="image.png"></li>
</ul>
<h2 id="22-权限管理体系"><a href="#22-权限管理体系" class="headerlink" title="22.权限管理体系"></a>22.权限管理体系</h2><h3 id="22-1-管理权限概述"><a href="#22-1-管理权限概述" class="headerlink" title="22.1 管理权限概述"></a>22.1 管理权限概述</h3><ul>
<li>Linux 通过 rwx3 种权限控制系统与保护系统,组成 9 位权限．</li>
<li>Linux 权限体系中还有 3 位特殊权限,组合起来就是 12 位权限体系．</li>
<li>Linux 这简单的 rwx 控制整个 Linux 系统的安全,权限与用户共同组成 Linux 系统的安全防护体系．</li>
</ul>
<h3 id="22-2Linux-权限计算"><a href="#22-2Linux-权限计算" class="headerlink" title="22.2Linux 权限计算"></a>22.2Linux 权限计算</h3><ol>
<li>rwx</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677831599106-d9af5fbe-f98c-4432-b4c3-5dc1b5f9b995.png#averageHue=%23f8f8f7&clientId=ue24c0a88-361e-4&from=paste&height=110&id=u1fcc0187&originHeight=137&originWidth=487&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=31830&status=done&style=none&taskId=u28977e67-69e9-439a-b14d-42aa17fe0da&title=&width=389.6" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677831619308-fa002c18-c053-4aad-886e-10eefd7dc943.png#averageHue=%23f9f9f9&clientId=ue24c0a88-361e-4&from=paste&height=170&id=u3f375ff1&originHeight=212&originWidth=864&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=90249&status=done&style=none&taskId=u0c36daa1-31cc-4338-a2d5-8bfe9c181f9&title=&width=691.2" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677831771001-6c70bc07-1586-4aa5-a679-3c18756eb6c0.png#averageHue=%23a0d7e2&clientId=ue24c0a88-361e-4&from=paste&height=195&id=u52061fd6&originHeight=268&originWidth=919&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=111951&status=done&style=none&taskId=u3a0ae034-fd97-43a6-bc26-0d4fa71e9b0&title=&width=668.2000122070312" alt="image.png"></p>
<ol start="3">
<li>计算权限 🤞🤞🤞🤞🤞<blockquote>
<p>人们为了更加方便的使用权限，于是给每个权限字母设置了一个对应的数字，通过数字表示对应的权限。</p>
</blockquote>
</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677832198177-f0828669-0808-4396-b486-c14644d836a6.png#averageHue=%23f8f8f8&clientId=ue24c0a88-361e-4&from=paste&height=129&id=ud2df26a0&originHeight=161&originWidth=846&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=40353&status=done&style=none&taskId=ucfeb14b6-d6cb-4b5c-840e-5025a533b4c&title=&width=676.8" alt="image.png"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-rw-r--r--. 1 root root        0 3月   3 13:53 wang.txt</span><br><span class="line">42 0400 400</span><br><span class="line">6    4     4</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>修改权限</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span>命令 ： change mode 使用数字或者字母形式修改权限</span><br><span class="line"><span class="comment">#修改 wyj.txt 的权限伪755</span></span><br><span class="line">[root@my-wyj wyj]<span class="comment"># chmod 755 /wyj/1.text 或 chmod u+rwx g+xr o+x(了解) 1.text</span></span><br><span class="line">[root@my-wyj wyj]<span class="comment"># ll</span></span><br><span class="line">总用量 16</span><br><span class="line">drwxr-xr-x.  2 root root   59 3月   3 13:54 1002</span><br><span class="line">-rwxr-xr-x.  1 root root   11 2月  25 10:26 1.text</span><br><span class="line"><span class="built_in">chown</span>命令	： change owner 修改文件所以者，用户组</span><br><span class="line"></span><br><span class="line"><span class="comment">#修改wyj.txt所有者和用户组伪wyj</span></span><br><span class="line">[root@my-wyj wyj]<span class="comment"># id wyj1</span></span><br><span class="line">uid=1000(wyj1) gid=1000(wyj1) 组=1000(wyj1),10(wheel)</span><br><span class="line">[root@my-wyj wyj]<span class="comment"># chown wyj1.wyj1 1.text</span></span><br><span class="line">[root@my-wyj wyj]<span class="comment"># ll</span></span><br><span class="line">总用量 16</span><br><span class="line">drwxr-xr-x.  2 root root   59 3月   3 13:54 1002</span><br><span class="line">-rwxr-xr-x.  1 wyj1 wyj1   11 2月  25 10:26 1.text</span><br><span class="line">drwxr-xr-x. 20 root root 4096 2月  25 09:56 dev</span><br><span class="line">-rw-r--r--.  1 root root    7 2月  25 09:44 hostname</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>案例：给&#x2F;etc&#x2F;rc.d&#x2F;rc.local(所有位置)增加执行权限(x)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#chmod a+x /etc/rc.d/rc.local</span></span><br><span class="line"><span class="built_in">chmod</span> +x /etc/rc.d/rc.local  最后一个必会</span><br></pre></td></tr></table></figure>

<h3 id="22-3-权限与文件，目录"><a href="#22-3-权限与文件，目录" class="headerlink" title="22.3 权限与文件，目录"></a>22.3 权限与文件，目录</h3><ol>
<li>概述 🤞🤞🤞🤞🤞</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677834077343-c3ab23e9-7af5-4254-ada8-b87fadbcc98d.png#averageHue=%23cdd0cd&clientId=ue24c0a88-361e-4&from=paste&height=108&id=uf89f38bf&originHeight=121&originWidth=823&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=99355&status=done&style=none&taskId=uf2225720-ffda-4a55-ba18-51276b040a6&title=&width=731.5555555555555" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677850550502-33c7234c-d791-462b-8a6d-6e0256aff04c.png#averageHue=%23f8f7f7&clientId=ue24c0a88-361e-4&from=paste&height=211&id=u28dbc84c&originHeight=237&originWidth=865&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=122221&status=done&style=none&taskId=uf317b383-3058-4456-a852-2f3127785a0&title=&width=768.8888888888889" alt="image.png"><br>总结：自己创建的目录以及文件，自己拥有绝对掌控，别人只能根据自己授予的权限进行操作</p>
<h3 id="22-4-系统默认权限-（了解）"><a href="#22-4-系统默认权限-（了解）" class="headerlink" title="22.4 系统默认权限 （了解）"></a>22.4 系统默认权限 （了解）</h3><blockquote>
<p>Linux 系统通过 umask 命令控制文件和目录的默认权限</p>
</blockquote>
<ul>
<li>如何控制</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">一般情况下文件最大权限666，目录最大777</span><br><span class="line">文件或目录最大权限减去<span class="built_in">umask</span>的值，文件<span class="built_in">umask</span>如果某一位是奇数,这一位需要减去<span class="built_in">umask</span>的值后，这一位上还要+1.</span><br></pre></td></tr></table></figure>

<h3 id="22-5-Linux-权限控制与系统安全（了解）"><a href="#22-5-Linux-权限控制与系统安全（了解）" class="headerlink" title="22.5 Linux 权限控制与系统安全（了解）"></a>22.5 Linux 权限控制与系统安全（了解）</h3><ol>
<li>概述</li>
</ol>
<ul>
<li>通过权限控制让系统安全:<ul>
<li>搭建网站来说,服务器权限设置</li>
</ul>
</li>
<li>推荐的网站的权限配置为：<ul>
<li>这里说的是网站的权限是修改未来存放代码的目录&#x2F;app&#x2F;code&#x2F;www</li>
<li>文件 644 root root。</li>
<li>目录 755 root root</li>
</ul>
</li>
<li>网站在运行的时候需要用户<ul>
<li>这个用户不推荐是 root,推荐自己&#x2F;自动创建虚拟用户 www&#x2F;nginx.</li>
</ul>
</li>
</ul>
<ol start="2">
<li>单台机器</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">网站运行的时候是www用户，网站程序代码/app/code/www目录,为例如何设置权限?</span><br><span class="line">01. /app/code/www 目录</span><br><span class="line">文件和目录所有者 root root （查看权限）</span><br><span class="line">文件和目录权限 644 755</span><br><span class="line"></span><br><span class="line">find /app/code/www -<span class="built_in">type</span> f | xargs chomd 644</span><br><span class="line">find /app/code/www -<span class="built_in">type</span> d | xargs chomd 755</span><br><span class="line"><span class="comment"># 改所有者</span></span><br><span class="line"><span class="built_in">chown</span> -R root.root /app/code/www</span><br><span class="line"></span><br><span class="line">02. /app/code/www/upload 上传目录</span><br><span class="line">文件和目录所有者www www<span class="comment">#如果不修改,则用户无法上传文件到upload目录下面(touch upload/lidao.avi).</span></span><br><span class="line">文件和目录权限644 755</span><br><span class="line"><span class="built_in">chown</span> -R www . www /app/code / www/upload</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>集群</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1677999773999-f3472b53-1607-4eae-b3a2-a2c78a712741.png#averageHue=%23a5dae8&clientId=ua1991ca9-7a7f-4&from=paste&height=521&id=ua359ac22&originHeight=586&originWidth=1082&originalType=binary&ratio=1.125&rotation=0&showTitle=false&size=321003&status=done&style=none&taskId=u225f0572-2dd5-45de-85f2-ba1e67bd328&title=&width=961.7777777777778" alt="image.png"></p>
<h3 id="22-6-3-个特殊权限"><a href="#22-6-3-个特殊权限" class="headerlink" title="22.6 3 个特殊权限"></a>22.6 3 个特殊权限</h3><p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678000323118-e9dfea15-1fc2-458c-ad0a-012a2d512db9.png#averageHue=%239c9fa2&clientId=ua1991ca9-7a7f-4&from=paste&height=324&id=u0e7451e9&originHeight=405&originWidth=872&originalType=binary&ratio=1.125&rotation=0&showTitle=false&size=257147&status=done&style=none&taskId=uede939c8-97ec-43ca-b790-8f6714abdc1&title=&width=697.6" alt="image.png"></p>
<h3 id="22-6-Linux-特殊属性-🤞🤞🤞🤞🤞"><a href="#22-6-Linux-特殊属性-🤞🤞🤞🤞🤞" class="headerlink" title="22.6 Linux 特殊属性 🤞🤞🤞🤞🤞"></a>22.6 Linux 特殊属性 🤞🤞🤞🤞🤞</h3><ul>
<li>应用场景：预防重要文件或命令被修改.</li>
<li>lsattr 查看这种特殊属性</li>
<li>chatrr 修改这种特殊属性<ul>
<li>a 属性 append 只能追加</li>
<li>i 属性 immutable 不朽的,无法被毁灭的.</li>
</ul>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chattr +a wyj.txt</span><br><span class="line">chattr +i  wyj.txt</span><br></pre></td></tr></table></figure>

<h2 id="23-系统管理"><a href="#23-系统管理" class="headerlink" title="23. 系统管理"></a>23. 系统管理</h2><ul>
<li>软件包管理</li>
<li>进程管理</li>
<li>服务管理</li>
<li>磁盘管理</li>
</ul>
<h3 id="23-1-软件包管理"><a href="#23-1-软件包管理" class="headerlink" title="23.1 软件包管理"></a>23.1 软件包管理</h3><blockquote>
<p>Linux 下面的软件包格式为： rpm 格式（红帽系列系统,CentOs）或 deb 格式（Debian,Ubuntu）</p>
</blockquote>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678024663879-ababf474-3bdc-4669-b875-cfc894974184.png#averageHue=%23dddbd5&clientId=udbbf2036-2dc3-4&from=paste&height=254&id=u702ad391&originHeight=318&originWidth=1250&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=327809&status=done&style=none&taskId=u8b53295c-e1cf-4c8a-a06f-eeaefd5b748&title=&width=1000" alt="image.png"></p>
<h4 id="23-1-1-rpm"><a href="#23-1-1-rpm" class="headerlink" title="23.1.1 rpm"></a>23.1.1 rpm</h4><ol>
<li>增加-安装 rpm 包 🤞🤞🤞🤞🤞<blockquote>
<p>-ivh<br>-i install<br>-v 显示过程<br>-h 人类可读显示过程</p>
</blockquote>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">案例一、 安装rpm包</span><br><span class="line"><span class="comment"># 下载软件包</span></span><br><span class="line">wget --no-check-certificate -P /server/tools/ https://mirrors.tuna.tsinghua.edu.cn/zabbix/zabbix/6.0/rhel/7/x86_64/zabbix-agent2-6.0.0-1.el7.x86_64.rpm</span><br><span class="line"></span><br><span class="line">wget下载指定内容，默认下载到当前目录</span><br><span class="line">-P下载到指定目录，目录不存在会创建</span><br><span class="line">--no-check-certificate下载地址https,加上这个选项，下载失败。</span><br><span class="line"><span class="comment"># 安装依赖 （后面yum部分可以解决软件包依赖和查找依赖）</span></span><br><span class="line">yum install -y pcre2</span><br><span class="line"></span><br><span class="line"><span class="comment">#安装软件包zabbix-agent2</span></span><br><span class="line">rpm -ivh zabbix-agent2-6.0.0-1.el7.x86_64.rpm</span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果不安装依赖，则会提示缺少依赖而安装失败</p>
</blockquote>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678019943601-06d44d16-7bbb-4cb9-8597-02b8f8356829.png#averageHue=%23635f59&clientId=udbbf2036-2dc3-4&from=paste&height=60&id=u1afe4b95&originHeight=75&originWidth=904&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=93013&status=done&style=none&taskId=u0d536cbb-af84-4b5c-af41-f1a34d7c08a&title=&width=723.2" alt="image.png"></p>
<ol start="2">
<li>查询</li>
</ol>
<p>案例一、检查软件包是否安装成功 🤞🤞🤞🤞🤞</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@my-wyj tools]<span class="comment"># rpm -qa | grep zabbix</span></span><br><span class="line">zabbix-agent2-6.0.0-1.el7.x86_64</span><br></pre></td></tr></table></figure>

<p>案例二、检查软件包安装位置（已经安装） 🤞🤞🤞🤞🤞</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rpm -ql</span><br><span class="line">rpm -ql 软件</span><br></pre></td></tr></table></figure>

<blockquote>
<p>软件包不等同于命令</p>
<ul>
<li>一般软件包中有一个命令，tree,telnet 软件包</li>
<li>更多情况下 1 个软件包可能有多个命令</li>
</ul>
</blockquote>
<p>案例三、 熟悉，查询某个命令或文件属于哪个软件包<br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678021308186-5241e979-6c4f-467c-90b2-0285fdab450e.png#averageHue=%23d5dbdd&clientId=udbbf2036-2dc3-4&from=paste&height=381&id=ud4eef25c&originHeight=476&originWidth=775&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=247831&status=done&style=none&taskId=u0337c728-c886-424e-a65b-93826f46b43&title=&width=620" alt="image.png"></p>
<ol start="3">
<li>修改-升级<blockquote>
<p>用于通过 rpm 包的方式升级软件</p>
</blockquote>
</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678022474451-6dad5487-79d5-42bf-9c05-055f8d683c85.png#averageHue=%23ecefee&clientId=udbbf2036-2dc3-4&from=paste&height=504&id=u239b64c7&originHeight=630&originWidth=1307&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=455605&status=done&style=none&taskId=uf445c17b-1ff2-495a-9c5f-86751680516&title=&width=1045.6" alt="image.png"></p>
<ol start="4">
<li>删除</li>
</ol>
<ul>
<li>删除对应的软件包</li>
<li>yum，rpm 安装软件，删除软件的时候建议通过 rpm 命令删除，非必须不推荐删除</li>
<li>删除软件包 ，-e(erase)</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -e 软件包</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678022776246-99cf45f8-b4fe-4cb7-8175-5a9ca99a0efb.png#averageHue=%23fafaf9&clientId=udbbf2036-2dc3-4&from=paste&height=452&id=uedb17640&originHeight=565&originWidth=1267&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=270735&status=done&style=none&taskId=u09f95470-fe7f-4af4-b7ac-962bd8b26b8&title=&width=1013.6" alt="image.png"><br>编译安装</p>
<ol>
<li>自定义</li>
<li>yum 安不上，rpm 没有包</li>
</ol>
<p>编译安装三部曲</p>
<ol>
<li>安装依赖软件包，工具。。。</li>
<li>.&#x2F;configure 配置，安装到那个目录（默认是&#x2F;usr&#x2F;local 下面）,开启或关闭功能</li>
<li>make 编译 （代码–&gt; 命令）</li>
<li>make install 安装 （创建目录，复制配置，复制命令，复制到指定目录）</li>
<li>完成与测试</li>
</ol>
<p>上传软件包并安装依赖</p>
<ul>
<li>上传压缩包</li>
<li>解压压缩包<br>tar xfcmatrix-1.2a.tar.gz</li>
<li>进入压缩包<br>cd cmatrix-1.2a&#x2F;</li>
<li>安装依赖<br>yum install -y ncurses-devel</li>
</ul>
<ol>
<li>.&#x2F;configure 配置，安装到哪个目录（默认是&#x2F;usr&#x2F;local&#x2F;下面)，开启或关闭功能。</li>
<li>需要在代码目录下面执行 ls -l .&#x2F;configure 否则失败.&#x2F; configure 屏幕输出一堆内容<br>echo $?如果结果是 0（屏幕输出），表示成功了。</li>
<li>进行编译</li>
</ol>
<p>make 运行命令<br>echo $?#查看结果如果 o 则对了。如果不是 0，则查看报错，可能要安装依赖</p>
<ol start="4">
<li>安装</li>
</ol>
<p>make install<br>echo $? #检查结果</p>
<ol start="5">
<li>运行 cmatrix 命令，检查结果</li>
<li>清理战场，清理掉软件包，解压目录</li>
</ol>
<h4 id="23-1-2-yum"><a href="#23-1-2-yum" class="headerlink" title="23.1.2 yum"></a>23.1.2 yum</h4><blockquote>
<p>yum 是红帽系列默认的软件包管理器，替我们下载指定的 rpm 包，替我们安装和下载依赖</p>
</blockquote>
<ul>
<li>推荐安装 命令补全增强工具</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum install -y bash-completion bash-completion-extras</span><br><span class="line">安装后重新登录Linux,可以对yum选项进行tab键。</span><br></pre></td></tr></table></figure>

<ul>
<li>yum 安装软件的流程</li>
</ul>
<ol>
<li>运行 yum install -y tree 命令。</li>
<li>解析下 tree 软件包是否有依赖。</li>
<li>yum 根据本地配置的 yum 源的地址，进行请求（相关软件包 tree ,依赖软件包)。</li>
<li>如果 yum 源存在软件，则会通知 yum 进行下载，rpm 包就被下载到 yum 缓存目录中。</li>
<li>软件包和依赖（(如果有)都下载 0K</li>
<li>安装完成删除刚下载的 rpm 包（默认）</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678154125909-f3509dee-2a3b-4f4f-b6ff-d04994e924be.png#averageHue=%23aae2ef&clientId=u232b6627-46ba-4&from=paste&height=484&id=u42f22ed4&originHeight=605&originWidth=1267&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=338124&status=done&style=none&taskId=u3934ed74-509f-4661-8ef6-457e65fade8&title=&width=1013.6" alt="image.png"><br>一键配置为阿里云的 yum 源</p>
<ul>
<li>查看系统正在使用的 yum 源列表</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum repolist</span><br></pre></td></tr></table></figure>

<ul>
<li>设置系统的 yum 源为阿里云</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">https://developer.aliyun.com/mirror/</span><br><span class="line">选择centos</span><br><span class="line">1.备份已有的yum源的配置文件</span><br><span class="line"><span class="built_in">mv</span> /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup</span><br><span class="line"></span><br><span class="line">2. 配置系统默认的源，改为阿里云</span><br><span class="line">使用wget或curl 下载阿里云的yum源的配置文件到/etc/yum.repos.d/目录下</span><br><span class="line">wget -O /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo</span><br><span class="line"></span><br><span class="line">3. 修改了base.extraas,updates是默认的yum源，改为了阿里云</span><br></pre></td></tr></table></figure>

<ul>
<li>增加 epel 源</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://developer.aliyun.com/mirror/epel?spm=a2c6h.13651102.0.0.43771b11NBmp5O</span><br></pre></td></tr></table></figure>

<ul>
<li>yum 源配置文件详解 🤞🤞🤞🤞🤞</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[base]</span><br><span class="line">name=CentOS-<span class="variable">$releasever</span> - Base - mirrors.aliyun.com</span><br><span class="line">failovermethod=priority</span><br><span class="line">baseurl=http://mirrors.aliyun.com/centos/<span class="variable">$releasever</span>/os/<span class="variable">$basearch</span>/</span><br><span class="line">        http://mirrors.aliyuncs.com/centos/<span class="variable">$releasever</span>/os/<span class="variable">$basearch</span>/</span><br><span class="line">        http://mirrors.cloud.aliyuncs.com/centos/<span class="variable">$releasever</span>/os/<span class="variable">$basearch</span>/</span><br><span class="line">gpgcheck=1</span><br><span class="line">gpgkey=http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7</span><br><span class="line">enabled=1</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678155156624-02ec9518-95a7-4334-bfa0-ddca439514ce.png#averageHue=%23157f15&clientId=u232b6627-46ba-4&from=paste&height=435&id=u4b15d738&originHeight=544&originWidth=1703&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=647292&status=done&style=none&taskId=ucaabc1f8-ba61-42ec-9382-dd4c5762dca&title=&width=1362.4" alt="image.png"></p>
<ul>
<li>yum 命令配置文件<blockquote>
<p>未来在正式环境中几乎很少修改。未来也就是我们想把 yum 安装过的 rpm 包进行保存。</p>
</blockquote>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 修改/etc/yum.conf配置，找出keepcache=0改为=1即可</span></span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678155881348-656881fb-44df-4bd9-9a89-df7868e2f78f.png#averageHue=%23ded6d2&clientId=u232b6627-46ba-4&from=paste&height=118&id=u1a04d514&originHeight=148&originWidth=770&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=82729&status=done&style=none&taskId=ueab1f61e-be5f-433f-89c2-9123d1e0de3&title=&width=616" alt="image.png"></p>
<ul>
<li>yum 命令详解 🤞🤞🤞🤞🤞</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#  增 安装软件</span></span><br><span class="line">yum install -y tree</span><br><span class="line">使用较少：重新安装</span><br><span class="line">yum  reinstall -y tree</span><br><span class="line">++++++++++++++++++++++++++++++++++++++</span><br><span class="line"><span class="comment"># 查找-检查软件/搜索软件</span></span><br><span class="line"><span class="comment"># 根据名字或内容搜索软件</span></span><br><span class="line">yum search all tree</span><br><span class="line">必会：根据软件包内容</span><br><span class="line">yum provides 命令或文件</span><br><span class="line">[root@my-wyj yum.repos.d]<span class="comment"># yum provides tree</span></span><br><span class="line">略</span><br><span class="line">tree-1.6.0-10.el7.x86_64 : File system tree viewer</span><br><span class="line">源    ：@base</span><br><span class="line"></span><br><span class="line"><span class="comment"># 必会： 查看yum源信息</span></span><br><span class="line">yum repolist</span><br><span class="line"><span class="comment"># 熟悉： 显示所有yum仓库中所有软件，未来用于根据软件包名字查找</span></span><br><span class="line">yum list | grep tree</span><br><span class="line">++++++++++++++++++++++++++++++++++++++++++</span><br><span class="line"></span><br><span class="line">删</span><br><span class="line">yum clean all自建yum仓库需要使用,使用公有的yum源，一般不用.</span><br><span class="line"></span><br><span class="line">++++++++++++++++++++++++++++++++++++++++++++++</span><br><span class="line">改-升级</span><br><span class="line">yum install的时候安装或升级。</span><br><span class="line">更新的命令。</span><br><span class="line">yum update 或yum upgrade，软件或命令有BUG或漏洞，需要更新下。</span><br></pre></td></tr></table></figure>

<h4 id="2-1-3-Ubuntu-系统软件包管理"><a href="#2-1-3-Ubuntu-系统软件包管理" class="headerlink" title="2.1.3 Ubuntu 系统软件包管理"></a>2.1.3 Ubuntu 系统软件包管理</h4><ul>
<li>apt 源</li>
<li>apt&#x2F;apt-get –&gt; yum</li>
<li>dpkg –&gt; rpm</li>
</ul>
<ol>
<li>配置源</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/apt/sources.list</span><br><span class="line">+++++++++++++++++++++++++++++</span><br><span class="line">deb https://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb https://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb https://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse</span><br><span class="line"></span><br><span class="line"><span class="comment"># deb https://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse</span></span><br><span class="line"><span class="comment"># deb-src https://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse</span></span><br><span class="line"></span><br><span class="line">deb https://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse</span><br><span class="line">+++++++++++++++++++++++++++++++++</span><br><span class="line"><span class="comment"># 编辑完成一定运行</span></span><br><span class="line">apt update命令，用于生成本地apt缓存</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>安装软件</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@wyj-ubuntu-server:~<span class="comment"># apt install -y cmatrix lolcat sl cowsay</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>检查软件</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@wyj-ubuntu-server:~<span class="comment"># dpkg -l | grep locat   #rpm -qa</span></span><br></pre></td></tr></table></figure>

<ol start="4">
<li>删除</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dpkg -r locat</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678185915511-569f85e4-20c5-4e64-94db-26b1cd18ee9b.png#averageHue=%23f1f2f4&clientId=u00595fb7-c6a2-4&from=paste&height=194&id=uecbcd292&originHeight=242&originWidth=1244&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=106357&status=done&style=none&taskId=uaa39322b-c74e-4720-adb6-f6ab9f1d90d&title=&width=995.2" alt="image.png"><br>进程管理</p>
<blockquote>
<p>进程是已启动的可执行程序的运行实例。</p>
</blockquote>
<p>PID，PPID<br>当前的进程状态<br>ps aux<br>进程名字<br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678453830759-6cacce4d-beab-4cec-9eff-ec67a7be50bc.png#averageHue=%23fefefe&clientId=uf84613b2-2372-4&from=paste&height=58&id=u981ed317&originHeight=72&originWidth=812&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=16669&status=done&style=none&taskId=u692c414c-b6c5-44de-8572-9c2caeceb6c&title=&width=649.6" alt="image.png"><br>查看进程的父子关系 ps -ef<br>动态查看进程 top</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">top - 07:29:03 up  1:16,  2 <span class="built_in">users</span>,  load average: 0.00, 0.02, 0.05</span><br><span class="line">Tasks: 207 total,   1 running, 206 sleeping,   0 stopped,   0 zombie</span><br><span class="line">%Cpu(s):  2.4 us,  1.4 sy,  0.0 ni, 95.9 <span class="built_in">id</span>,  0.0 wa,  0.0 hi,  0.3 si,  0.0 st</span><br><span class="line">KiB Mem :  2027868 total,   227684 free,   734276 used,  1065908 buff/cache</span><br><span class="line">KiB Swap:  2097148 total,  2097148 free,        0 used.  1121896 avail Mem</span><br><span class="line"></span><br><span class="line">   PID USER      PR  NI    VIRT    RES    SHR S %CPU %MEM     TIME+ COMMAND</span><br><span class="line">  1939 root      20   0 3018916 187284  67384 S  2.3  9.2   0:13.81 gnome-shell</span><br><span class="line">  2206 root      20   0 1124808  59188  22596 S  0.0  2.9   0:01.23 gnome-software</span><br><span class="line">  1110 root      20   0  312444  40668  21664 S  1.7  2.0   0:05.13 X</span><br><span class="line">  1107 root      20   0  492064  37952   7116 S  0.0  1.9   0:02.23 tp_web</span><br><span class="line">  2167 root      20   0 1050052  30752  19996 S  0.0  1.5   0:00.41 nautilus-deskto</span><br><span class="line">  2543 root      20   0  698348  29612  18668 S  1.0  1.5   0:02.62 gnome-terminal-</span><br><span class="line">  2009 root      20   0  903020  27136  20616 S  0.0  1.3   0:00.06 goa-daemon</span><br><span class="line"></span><br><span class="line"><span class="comment">#当按键大写的P 表示按cpu占比率进行排序</span></span><br><span class="line"><span class="comment">#当按键大写的M 表示按内存占比率进行排序</span></span><br><span class="line"><span class="comment">#&lt;&gt; 表示上一页，下一页</span></span><br></pre></td></tr></table></figure>

<p>后台程序控制</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&amp; 将任务丢到后台运行  重点</span><br><span class="line"><span class="built_in">nohup</span> 与 &amp;类似，会记录输出到文件，默认叫nohup.out</span><br><span class="line"><span class="built_in">bg</span> 调动后台程序至前台</span><br><span class="line"><span class="built_in">kill</span> %1 停止后台程序</span><br><span class="line"><span class="built_in">jobs</span> 查看后台进程</span><br><span class="line">screen命令   通过软件创建空间，让命令在这个空间运行</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678497444813-4f0dd748-c0c1-40f5-883a-0f9946cb01a4.png#averageHue=%23faf8fa&clientId=u7f8f0897-9fdc-4&from=paste&height=298&id=ub571ebb1&originHeight=373&originWidth=1308&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=242175&status=done&style=none&taskId=ue84299b1-d1ea-44f5-8499-6bae57e436a&title=&width=1046.4" alt="image.png"><br>pstree 进程树</p>
<h3 id="23-2-进程管理"><a href="#23-2-进程管理" class="headerlink" title="23.2 进程管理"></a>23.2 进程管理</h3><ul>
<li>后台管理</li>
<li>kill</li>
<li>负载</li>
</ul>
<h4 id="23-2-1-什么是进程-🤞🤞🤞🤞🤞"><a href="#23-2-1-什么是进程-🤞🤞🤞🤞🤞" class="headerlink" title="23.2.1 什么是进程 🤞🤞🤞🤞🤞"></a>23.2.1 什么是进程 🤞🤞🤞🤞🤞</h4><blockquote>
<p><strong>进程 process :运行起来的程序,命令,软件.</strong></p>
</blockquote>
<h4 id="23-2-2-进程-程序-守护进程-服务-🌟🌟🌟🌟🌟"><a href="#23-2-2-进程-程序-守护进程-服务-🌟🌟🌟🌟🌟" class="headerlink" title="23.2.2 进程,程序,守护进程(服务)?🌟🌟🌟🌟🌟"></a>23.2.2 进程,程序,守护进程(服务)?🌟🌟🌟🌟🌟</h4><p><strong>进程 process :运行起来的程序,命令,软件.</strong><br>程序软件: 存放在磁盘上面的程序代码.<br>守护进程(服务):持续运行的进程.这些一般是系统必备进程(服务软件),eg: 网络 日志定时任务 其他<br>服务&#x2F;守护进程:通过 systemctl 控制</p>
<h4 id="23-2-3-进程的生命周期"><a href="#23-2-3-进程的生命周期" class="headerlink" title="23.2.3 进程的生命周期"></a>23.2.3 进程的生命周期</h4><p>**1) 进程正常处理流程: ** 1.子进程在处理任务代码时，父进程会进入等待状态中… 2.子进程在处理任务代码后，会执行退出，然后唤醒父进程来回收子进程的资源。 3. 异常情况: 如果子进程在处理任务过程中异常退出，而父进程没有回收子进程的资源<br><strong>僵尸进程</strong>🌟🌟<br>而父进程又没有回收子进程，释放子进程占用的资源，此时子进程将成为一个僵尸进程。<br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1685267048474-3e0f7fd4-c917-4afc-8d96-575caa4e6877.png#averageHue=%23828484&clientId=u69e50bcf-78ba-4&from=paste&height=316&id=uefbf0282&originHeight=395&originWidth=1279&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=91904&status=done&style=none&taskId=u38b31123-349f-440b-aa19-70d2a08ce82&title=&width=1023.2" alt="image.png"><br>**孤儿进程 **🌟🌟<br>孤儿进程指的是在其父进程执行完成或被终止后仍继续运行的一类进程。<br>孤儿进程会被系统直接接管.(systemd 进程)<br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1685267086725-e1af5192-086c-4bd2-909f-e0353a4ee877.png#averageHue=%234dcfdf&clientId=u69e50bcf-78ba-4&from=paste&height=287&id=ue54c340d&originHeight=359&originWidth=1186&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=65622&status=done&style=none&taskId=u2085ae7d-50eb-4c75-8915-f6746ed0685&title=&width=948.8" alt="image.png"><br>**异常进程处理方案: **🌟🌟🌟🌟🌟<br>**僵尸进程 **<br>处理,通过正常 kill 命令无法杀掉.<br>处理方案: 结束他的父进程. 最终方案重启 Linux 系统<br>**孤儿进程 **<br>结束孤儿进程,重启对应服务.<br>进程</p>
<h4 id="23-2-3-进程监控指令"><a href="#23-2-3-进程监控指令" class="headerlink" title="23.2.3 进程监控指令"></a>23.2.3 进程监控指令</h4><ul>
<li>ps</li>
<li>top<blockquote>
<p>ps -ef #简单信息 pid ppid<br>ps aux<br><a target="_blank" rel="noopener" href="https://www.processon.com/view/link/623a906907912906f5129c49">https://www.processon.com/view/link/623a906907912906f5129c49</a></p>
</blockquote>
</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1685267701144-d91c5076-3f7e-49df-afa0-caf4984574ec.png#averageHue=%23f8f7f6&clientId=u69e50bcf-78ba-4&from=paste&height=598&id=ua1613ee6&originHeight=748&originWidth=1217&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=149573&status=done&style=none&taskId=ud434fba8-1d51-4234-bdc9-ed038367a01&title=&width=973.6" alt="image.png"><br><strong>b) ps aux 中 VSZ vs RSS 区别</strong><br>#VSZ: Virtual size 进程占用虚拟内存大小.<br>虚拟内存&#x3D;swap+物理内存<br>#RSS: resident size 进程占用物理内存大小<br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1685268134153-57ba3dca-d870-4179-80fe-2e3b0f959b5a.png#averageHue=%23f7f7f6&clientId=u69e50bcf-78ba-4&from=paste&height=403&id=u38208318&originHeight=504&originWidth=1056&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=69112&status=done&style=none&taskId=u7a74691c-2398-4a93-abb0-f59aa0c9055&title=&width=844.8" alt="image.png"></p>
<p>后又返回原被暂停的程序继续运行。<br>进程 vs 线程 概述<br>进程: 运行起来的程序或命令, 用于在内存中占用资源与空间.<br>线程: 进程内部,实际处理用户请求,数据. 软件&#x2F;服务是否有线程,与开发,代码相关<br>** top 显示进程信息(动态)**<br><a target="_blank" rel="noopener" href="https://www.processon.com/view/link/6178ad2807912943ddfdae3c">https://www.processon.com/view/link/6178ad2807912943ddfdae3c</a><br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1685268659270-f181b2b9-bb30-402f-a7d3-ca15a1c55121.png#averageHue=%235ea350&clientId=u69e50bcf-78ba-4&from=paste&height=668&id=uc9dc2a04&originHeight=835&originWidth=1049&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=367079&status=done&style=none&taskId=u65d4d3a5-2335-4fd3-ac22-78d2ea81e17&title=&width=839.2" alt="image.png"><br>中断: 中断是指计算机运行过程中，出现某些意外情况需主机干预时，机器能自动停止正在运行的程序并转入处理新情况的程序，处理完毕<br><strong>ps 和 top 实战-案例</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">pstree  # -p 显示进程及pid信息</span><br><span class="line">ps auxf   #以树形显示进程信息,详细信息</span><br><span class="line">root       1473  0.0  0.0 112900   256 ?       Ss   Mar17   0:00 /usr/sbin/sshd -D</span><br><span class="line">root      33187  0.0  0.0 158904   332 ?       Ss   11:36   0:00 \_ sshd: root@pts/1</span><br><span class="line">root      33192  0.0  0.1 116600  2164 pts/1   Ss   11:36   0:00 |   \_ -bash</span><br><span class="line">root      45709  0.0  0.0 155584  1932 pts/1   R+   15:37   0:00 |       \_ ps auxf</span><br><span class="line">root      44542  0.0  0.2 158904  5580 ?       Ss   15:15   0:00 \_ sshd: root@pts/0</span><br><span class="line">root      44547  0.0  0.1 116468  2992 pts/0   Ss   15:15   0:00     \_ -bash</span><br><span class="line">root      44756  0.0  0.1 162096  2220 pts/0   S+   15:18   0:01         \_ top</span><br><span class="line">案例03 根据要求,只显示某些内容.🌟🌟🌟🌟🌟</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">方法01 通过ps aux/ps -ef + awk处理.</span></span><br><span class="line">ps aux |awk  &#x27;&#123;print $1,$2,$3,$4,$11&#125;&#x27;</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">方法02 通过ps命令选项实现</span></span><br><span class="line">ps  -xo user,pid,%cpu,%mem,command</span><br><span class="line">取出索要内容,不显示标题.</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">方法01 通过ps aux/ps -ef + awk处理.</span></span><br><span class="line">ps aux |awk  &#x27;NR&gt;1 &#123;print $1,$2,$3,$4,$11&#125;&#x27;</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">方法02 通过ps命令选项实现</span></span><br><span class="line">ps  --no-heading  -xo user,pid,%cpu,%mem,command</span><br></pre></td></tr></table></figure>

<p><strong>top 实战案例</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">默认按照cpu使用率排序: P</span>  </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">按照内存使用率排序 : M</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">立刻刷新: 空格</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">进阶用法: top输入z进入颜色模式 按 x 标记出当前是按照哪列排序.</span></span><br><span class="line"> shift + &gt; 向右</span><br><span class="line"> shift + &lt; 向左</span><br><span class="line">案例02: 非交互模式 🌟🌟🌟🌟🌟</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-p 只显示某个进程的信息 -p pid</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-b 批量处理模式,top命令结果批量写入文件 一般配合-n 方便把结果保存，方便其他命令二次处理</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-n 批处理模式,显示几次</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-d 修改top命令刷新间隔 -d 1</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">01 通过-p查看指定进程信息</span></span><br><span class="line">[root@oldboy81-golden-lnb ~]# top -p 1046</span><br></pre></td></tr></table></figure>

<h4 id="后台运行"><a href="#后台运行" class="headerlink" title="后台运行"></a>后台运行</h4><p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1685270239208-704c0421-f1ea-42af-8991-01005dab40b4.png#averageHue=%237f8380&clientId=u69e50bcf-78ba-4&from=paste&height=139&id=ua82db495&originHeight=174&originWidth=1334&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=44004&status=done&style=none&taskId=ued87673a-e6cd-4a4b-840e-334d2472937&title=&width=1067.2" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1685270264508-a9f119a2-81b2-4077-90ab-f75fda9a4343.png#averageHue=%23a6a99d&clientId=u69e50bcf-78ba-4&from=paste&height=293&id=uf9132f6b&originHeight=366&originWidth=1483&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=61592&status=done&style=none&taskId=u39ec5a16-2584-447b-ac7b-ad3b74c9501&title=&width=1186.4" alt="image.png"></p>
<h3 id="符方案-🌟🌟🌟🌟🌟"><a href="#符方案-🌟🌟🌟🌟🌟" class="headerlink" title="&amp;符方案 🌟🌟🌟🌟🌟"></a>&amp;符方案 🌟🌟🌟🌟🌟</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">案例01 让某个命令/进程进入后台运行</span></span><br><span class="line">[root@oldboy81-golden-lnb ~]# sleep  88  &amp;</span><br><span class="line">[1] 2160                                          #2160 后台进程的pid.</span><br><span class="line">[root@oldboy81-golden-lnb ~]# ps aux |grep sleep</span><br><span class="line">root       2160  0.0  0.0 108052   356 pts/0    S    09:39   0:00 sleep 88</span><br><span class="line">root       2162  0.0  0.0 112808   968 pts/0    S+   09:39   0:00 grep --color=auto sleep</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">如果后台运行结束:屏幕提示:</span></span><br><span class="line">[1]+  Done                    sleep 88</span><br><span class="line">      结束</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">交互式命令不推荐后台: passwd,vim,top,htop..</span></span><br></pre></td></tr></table></figure>

<h4 id="杀手三人组"><a href="#杀手三人组" class="headerlink" title="杀手三人组"></a>杀手三人组</h4><p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1685270397156-684421f2-2954-4965-a3ef-7d80ae9d2fb6.png#averageHue=%2381857f&clientId=u69e50bcf-78ba-4&from=paste&height=173&id=ua332d85f&originHeight=216&originWidth=1033&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=32861&status=done&style=none&taskId=u7be737a7-eb36-4afc-ad3e-51ea297bcb9&title=&width=826.4" alt="image.png"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">kill 🌟🌟🌟🌟🌟</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">01 <span class="built_in">kill</span></span></span><br><span class="line">[root@oldboy81-golden-lnb ~]# ps aux    |grep sleep</span><br><span class="line">root       3825  0.0  0.0 108052   356 pts/0    S    10:40   0:00 sleep 999</span><br><span class="line">root       3843  0.0  0.0 108052   352 pts/0    S    10:40   0:00 sleep 999</span><br><span class="line">root       4141  0.0  0.0 108052   356 pts/2    S+   10:45   0:00 sleep 1</span><br><span class="line">root       4143  0.0  0.0 112808   968 pts/0    R+   10:45   0:00 grep --color=auto sleep</span><br><span class="line">[root@oldboy81-golden-lnb ~]# kill  3825</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">02 <span class="built_in">kill</span> 强制删除,谨慎使用.</span></span><br><span class="line"></span><br><span class="line">kill -9   进程pid</span><br><span class="line">-9 是kill命令信号</span><br><span class="line">-15 是默认信息 关闭.</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">使用需要慎重.</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">尽可能多些进程名字及信息.</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">如果写的进程信息比较少,可能会误杀.</span></span><br><span class="line"></span><br><span class="line">pkill -f sleep.sh  #-f根据进程命令,选项,参数,进行过滤与删除.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">pkill <span class="built_in">sleep</span></span></span><br><span class="line">执行过程</span><br><span class="line">1. ps -ef |grep sleep</span><br><span class="line">2. 进程中以sleep开头命令</span><br><span class="line">3. 叫给pkill 结束 .</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">kill  取你狗命 结束你的生命</span><br><span class="line">pkill 取你狗命 你和你的狗的命.</span><br></pre></td></tr></table></figure>

<h4 id="23-2-1-平均负载"><a href="#23-2-1-平均负载" class="headerlink" title="23.2.1 平均负载"></a>23.2.1 平均负载</h4><ol>
<li>概述</li>
</ol>
<ul>
<li>负载 load average 平均负载:最近 1 分钟 5 分钟 15 分钟系统平均负载.</li>
<li>负载:衡量系统繁忙程度指标．</li>
<li>衡量是否繁忙:数值越接近 cpu 核心总数,系统的负载越高. lscpu</li>
<li>预警:建议 70-80%<blockquote>
<p>负载原理:<br>那到底如何理解平均负载:<strong>平均负载是指单位时间内</strong>，系统处于可运行状态(R,S)和不可中断状态(D)的平均进程数，也就是平均活跃进程数大<br>负载是衡量正在运行的进程的平均数(可以中断进程和不可中断进程).</p>
</blockquote>
</li>
</ul>
<ol start="2">
<li>负载高? 🤞🤞🤞🤞🤞</li>
</ol>
<ul>
<li>排查流程<ul>
<li>通过监控软件发现系统负载高(w , lscpu 查看).判断是 cpu 还是 io 导致的负载高．<ul>
<li>cpu 高:top 中的 us(user 用户占用 cpu)sy(system 系统占用 cpu)</li>
<li>io 高: top 中的 wa(iowait)磁盘 io 导致的负载高</li>
</ul>
</li>
</ul>
</li>
<li>如果是 cpu 导致的,排查出哪个进程导致的 ps aux 过滤出占用 cpu 较高的进程。</li>
<li>如果是 io 导致的,排查初级哪个进程导致的，通过 iotop -o 命令排查。</li>
</ul>
<ol start="3">
<li>Linux 运行级别</li>
</ol>
<p>面试题或笔试题</p>
<blockquote>
<p>运行级别：命令行模式，图形化洁模式</p>
</blockquote>
<table>
<thead>
<tr>
<th>运行级别</th>
<th>含义（c7）</th>
<th>c6</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>关机</td>
<td>关机</td>
</tr>
<tr>
<td>1</td>
<td>救援模式 secure</td>
<td>单用户模式，找回 root 密码</td>
</tr>
<tr>
<td>3</td>
<td>多用户模式 multiuser</td>
<td>命令行模式，文本模式，工作模式</td>
</tr>
<tr>
<td>5</td>
<td>图形化界面模式</td>
<td>图形化界面模式</td>
</tr>
<tr>
<td>6</td>
<td>重启</td>
<td>重启</td>
</tr>
</tbody></table>
<ul>
<li>修改和查看</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#查看当前系统运行级别</span></span><br><span class="line">systemctl get-default</span><br><span class="line"><span class="comment">#修改运行级别(未来生产中不修改)</span></span><br><span class="line">systemctl set-default graphical.target <span class="comment">#multi-user.target</span></span><br></pre></td></tr></table></figure>

<p>Linux 运行流程<br><a target="_blank" rel="noopener" href="https://www.processon.com/diagraming/640c1dc3c5e494544c620cc6">https://www.processon.com/diagraming/640c1dc3c5e494544c620cc6</a><br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678518109898-b242bf23-a5ab-4105-8a68-895bd96850b3.png#averageHue=%23cbbe12&clientId=u7f8f0897-9fdc-4&from=paste&height=446&id=ud57ee52f&originHeight=557&originWidth=315&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=98831&status=done&style=none&taskId=u4cb3ce9e-8bc8-44de-8585-23c1caaa5be&title=&width=252" alt="image.png"></p>
<h4 id="23-3systemd-服务管理工具"><a href="#23-3systemd-服务管理工具" class="headerlink" title="23.3systemd 服务管理工具"></a>23.3systemd 服务管理工具</h4><blockquote>
<p>Systemd (System Daemon）是 CentoS7 系统中的系统管理守护进程、工具和库的集合，用于取代早期的 init 进程。Systemd 的功能是用于集中管理和配置 Linux 系统。<br>systemd 是 CentoS7 系统中启动的第一个进程(PID 等于 1)，其他所有进程都是他的子进程。</p>
</blockquote>
<table>
<thead>
<tr>
<th>systemctl 命令</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>systemctl start crond.service</td>
<td>启动服务</td>
</tr>
<tr>
<td>systemctl stop crond.service</td>
<td>停止服务</td>
</tr>
<tr>
<td>systemctl restart crond.service</td>
<td>重启服务</td>
</tr>
<tr>
<td>systemctl reload crond.service</td>
<td>重新加载配置</td>
</tr>
<tr>
<td>systemctl status crond.service</td>
<td>查看服务运行状态</td>
</tr>
</tbody></table>
<p>systemctl 设置服务开机启动、不启动、查看各级别下服务启动状态等常用命令</p>
<table>
<thead>
<tr>
<th>systemctl 命令</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>systemctl aenable crond.service</td>
<td>开机自动启动</td>
</tr>
<tr>
<td>systemctl disable crond.service</td>
<td>开机不自动启动</td>
</tr>
<tr>
<td>systemctl list-unit-files</td>
<td>查看所有服务的开机自启动状态</td>
</tr>
<tr>
<td>systemctl is-enabled crond.service</td>
<td>查看特定服务是否为开机自启动</td>
</tr>
<tr>
<td>systemctl daemon-reload</td>
<td>重新载入更改的 systemd 配置文件</td>
</tr>
</tbody></table>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678526154639-73c1e330-9148-48dd-89a6-c5eb4ed46504.png#averageHue=%23cccfcc&clientId=ub4a205b2-a437-4&from=paste&height=143&id=uc179d8f1&originHeight=197&originWidth=1296&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=260175&status=done&style=none&taskId=u8cc90718-05c9-4975-ac82-9b97e544798&title=&width=942.5454545454545" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678529193724-b39e364c-3318-44f9-b448-b49f6379c938.png#averageHue=%23ebebeb&clientId=ub4a205b2-a437-4&from=paste&height=288&id=ue82b5bfa&originHeight=396&originWidth=1351&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=364672&status=done&style=none&taskId=u9a0bbb8b-8992-4fa8-afdd-ebead1f39f1&title=&width=982.5454545454545" alt="image.png"><br>chkconfig 命令<br>📔 用于检查，设置系统的各种服务。这是 Red Hat 公司遵循 GPL 规则所开发的程序，它可查询操作系统在每一个执行等级中会执行哪些系统服务，其中包括各类常驻服务。</p>
<blockquote>
<p>📝 chkconfig [–add][–del][–list][系统服务] 或 chkconfig [–level &lt;等级代号&gt;][系统服务][on&#x2F;off&#x2F;reset]</p>
</blockquote>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>–add</td>
<td>增加所指定的系统服务，让 chkconfig 指令得以管理它，并同时在系统启动的叙述文件内增加相关数据。</td>
</tr>
<tr>
<td>–del</td>
<td>删除所指定的系统服务，不再由 chkconfig 指令管理，并同时在系统启动的叙述文件内删除相关数据。</td>
</tr>
<tr>
<td>–level&lt;等级代号&gt;</td>
<td>指定读系统服务要在哪一个执行等级中开启或关闭。</td>
</tr>
</tbody></table>
<p>🔖chkconfig 没有参数运行时，显示用法。如果在服务名后面指定了 on，off 或者 reset，那么 chkconfig 会改变指定服务的启动信息。on 和 off 分别指服务被启动和停止，reset 指重置服务的启动信息，无论有问题的初始化脚本指定了什么。on 和 off 开关，系统默认只对运行级 2，3，4，5 有效，但是 reset 可以对所有运行级有效。</p>
<p>🔖level 选项可以指定要查看的运行级而不一定是当前运行级。对于每个运行级，只能有一个启动脚本或者停止脚本。当切换运行级时，init 不会重新启动已经启动的服务，也不会再次去停止已经停止的服务。<br>📃 参考实例</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">chkconfig --list  <span class="comment"># 列出所有的系统服务</span></span><br><span class="line"></span><br><span class="line">chkconfig --add httpd <span class="comment"># 将httpd添加为受chkconfi管理的服务：</span></span><br><span class="line"></span><br><span class="line">chkconfig --del httpd <span class="comment"># 删除httpd服务</span></span><br><span class="line"></span><br><span class="line">chkconfig --level 35 httpd on  <span class="comment"># 在级别3和5上设定服务为“on”，开机自动启动也是配置这个</span></span><br><span class="line"></span><br><span class="line">chkconfig --level 01246 httpd off  <span class="comment"># 在其级别上设为off</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 为了确认你的配置被正确的修改了，我们可以列出服务运行级别，如下所示：</span></span><br><span class="line"><span class="comment"># chkconfig --list httpd</span></span><br><span class="line">httpd   0:off   1:off    2:off    3:on    4:off    5:on    6:off</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="24-磁盘"><a href="#24-磁盘" class="headerlink" title="24. 磁盘"></a>24. 磁盘</h2><blockquote>
<p>永久保存</p>
</blockquote>
<h3 id="24-1-分类"><a href="#24-1-分类" class="headerlink" title="24.1 分类"></a>24.1 分类</h3><ul>
<li>机械硬盘(HDD)： 电机带动磁盘高速旋转,读取数据.速度可以达到 5400, 7200 rpm(每分钟多少转(家用).</li>
<li>固态硬盘（SDD）: 集成电路与芯片,存储芯片.</li>
</ul>
<h3 id="24-2-磁盘接口"><a href="#24-2-磁盘接口" class="headerlink" title="24.2. 磁盘接口"></a>24.2. 磁盘接口</h3><blockquote>
<p>磁盘接口:类似于水壶的壶嘴,磁盘的读写速度.不同类型的磁盘接口有不同的读写速度.</p>
</blockquote>
<table>
<thead>
<tr>
<th>接口分类</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>SATA</td>
<td>一般家用,一般用于机械硬盘,也有固态硬盘,容量大，价格较低．</td>
</tr>
<tr>
<td>SAS</td>
<td>给企业环境使用,一般用于机械硬盘,也有固态硬盘</td>
</tr>
<tr>
<td>PCI-E</td>
<td>企业级使用,固态硬盘用.</td>
</tr>
<tr>
<td>U.2</td>
<td>企业级固态硬盘使用，PCI-E 类似</td>
</tr>
</tbody></table>
<h3 id="24-3-企业级环境磁盘选型-🤞🤞🤞🤞🤞"><a href="#24-3-企业级环境磁盘选型-🤞🤞🤞🤞🤞" class="headerlink" title="24.3. 企业级环境磁盘选型 🤞🤞🤞🤞🤞"></a>24.3. 企业级环境磁盘选型 🤞🤞🤞🤞🤞</h3><table>
<thead>
<tr>
<th>磁盘选型</th>
<th>应用建议</th>
</tr>
</thead>
<tbody><tr>
<td>一般情况下，数据备份</td>
<td>SATA 硬盘,10k rpm 4tb, 8tb 存放备份.</td>
</tr>
<tr>
<td>网站服务器使用</td>
<td>SAS 接口，15k rpm 300g 600g 900g</td>
</tr>
<tr>
<td>高并发网站服务器</td>
<td>可以选择固态硬盘 PCI-E,SAS,SATA</td>
</tr>
</tbody></table>
<blockquote>
<p>此建议基于物理服务器，如果是公有云，一般不用考虑过多。<br>rpm 是 round per minute 每分钟多少转的意思.</p>
</blockquote>
<h3 id="24-4-RAID"><a href="#24-4-RAID" class="headerlink" title="24.4 RAID"></a>24.4 RAID</h3><ul>
<li>什么事 RAID 与常见 RAID 级别，面试题</li>
</ul>
<p>1） 概述</p>
<blockquote>
<ul>
<li>在使用物理服务器的时候,多块硬盘,这些硬盘需要通过 raid 卡(设备),统一进行管</li>
<li>大部分需要做 raid 后才能安装系统,部署服务.</li>
<li>raid 磁盘冗余阵列,管理磁盘方式:</li>
</ul>
</blockquote>
<p>2）特点</p>
<ul>
<li>可以获得更高的容量</li>
<li>可以获取更高的性能</li>
<li>可以获取更高的冗余（安全）<blockquote>
<p>温馨提示:上面 3 个特点会根据选用的 raid 方式(raid 级别),所有区别,一般无法同时都满足以上 3 点.</p>
</blockquote>
</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678576646155-f6e7fe71-e9f6-456b-ab2a-38afeb44f3f1.png#averageHue=%2376d9eb&clientId=ue05cb66d-a5ea-4&from=paste&height=341&id=uc43aa761&originHeight=469&originWidth=1416&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=487654&status=done&style=none&taskId=uc3ecdc7c-dfa1-4e4e-b148-e8137c4d4ee&title=&width=1029.8181818181818" alt="image.png"></p>
<blockquote>
<p>核心掌握 Raid 级别及特点即可</p>
</blockquote>
<p>3）磁盘分区</p>
<ul>
<li>磁盘分区概念:主分区，扩展分区，逻辑分区，MBR,GPT</li>
<li>磁盘命名及磁盘分区命名</li>
<li>实战操作</li>
</ul>
<p>MBR(相当于仓管，管理仓库各个部分的信息)</p>
<blockquote>
<p>MBR:每一块硬盘上存放磁盘引导程序，引导程序在磁盘开头部分，用于引导系统启动。我们一般不用太关注，我们安装系统的时候自动安装。<br>位置:磁盘分区表磁盘的开始部分:0 磁头,0 磁道,1 扇区(512 字节)<br>这 512 字节存放了</p>
<ul>
<li>.引导程序 446 字节(MBR)</li>
<li>磁盘分区表(64 学节)4 个分区表·结束标记 55AA，2 字节</li>
</ul>
</blockquote>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678578884832-62bf1e20-cc74-4053-9d2c-5a27d7360c6c.png#averageHue=%23d1d4da&clientId=ue05cb66d-a5ea-4&from=paste&height=349&id=u224dbfb1&originHeight=697&originWidth=917&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=230777&status=done&style=none&taskId=u3d33f6bd-a270-4ead-bc0c-46b33b4fb8d&title=&width=458.90911865234375" alt="image.png"></p>
<h3 id="24-5-磁盘分区流程"><a href="#24-5-磁盘分区流程" class="headerlink" title="24.5 磁盘分区流程"></a>24.5 磁盘分区流程</h3><ol>
<li>磁盘创建</li>
</ol>
<h3 id="24-6-📚fdisk-命令"><a href="#24-6-📚fdisk-命令" class="headerlink" title="24.6 📚fdisk 命令"></a>24.6 📚fdisk 命令</h3><blockquote>
<p>📔 管理磁盘的分区信息</p>
</blockquote>
<p>📃 参考实例 创建 20MB 的分区</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">fdisk -l 查看分区</span><br><span class="line">n new 创建分区</span><br><span class="line">d delete 删除分区</span><br><span class="line">w write 保存并退出</span><br><span class="line">q quit 保存不退出</span><br><span class="line">[root@my-wyj ~]<span class="comment"># fdisk /dev/sdb</span></span><br><span class="line">欢迎使用 fdisk (util-linux 2.23.2)。</span><br><span class="line">更改将停留在内存中，直到您决定将更改写入磁盘。</span><br><span class="line">使用写入命令前请三思。</span><br><span class="line">命令(输入 m 获取帮助)：n</span><br><span class="line">Partition <span class="built_in">type</span>:</span><br><span class="line">   p   primary (0 primary, 0 extended, 4 free)</span><br><span class="line">   e   extended   <span class="comment">#创建扩展分区</span></span><br><span class="line">Select (default p): p  <span class="comment">#输入P或回车默认使用主分区</span></span><br><span class="line">分区号 (1-4，默认 1)：</span><br><span class="line">起始 扇区 (2048-2097151，默认为 2048)： <span class="comment">#回车即可，使用默认起点</span></span><br><span class="line">将使用默认值 2048</span><br><span class="line">Last 扇区, +扇区 or +size&#123;K,M,G&#125; (2048-2097151，默认为 2097151)：+20M</span><br><span class="line">分区 1 已设置为 Linux 类型，大小设为 20 MiB</span><br><span class="line">命令(输入 m 获取帮助)：w</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>格式化（创建文件系统）</li>
</ol>
<ul>
<li>创建 make 文件系统 flesystem,表示给磁盘分区进行装修，给磁盘分区创建规则，一定量的 inode，block。</li>
<li>mkfs (make filesystem)创建文件系统(格式化)</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mkfs 磁盘或分区</span><br><span class="line">mkfs.xfs /dev/sdb1</span><br><span class="line"></span><br><span class="line">xfs是文件系统类型， CentOS 7默认的文件系统类型。</span><br><span class="line">mkfs.ext4 文件系统类型 用于CentOs 6.x 或公有云使用</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678602683881-7eca9053-7cda-447c-a783-0d5370fa8b81.png#averageHue=%23282c27&clientId=u39421384-f892-4&from=paste&height=212&id=u10b43204&originHeight=504&originWidth=1439&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=624467&status=done&style=none&taskId=uedc7119b-4087-412b-9435-9f8655c2281&title=&width=604.5454711914062" alt="image.png"></p>
<blockquote>
<p>重复格式化错误提示<br>mkfs.xfs : &#x2F;dev&#x2F;sdb1 appears to contain an existing filesystem (xfs).磁盘分区已经格式化。<br>mkfs.xfs: Use the -f option to force overwrite．强制格式化 mkfs.xxxx-f 即可</p>
</blockquote>
<ol start="3">
<li>挂载</li>
</ol>
<p><strong>临时挂载</strong></p>
<ul>
<li>Linux 中的设备，需要通过挂载命令，给设备指定入口(已经存在的空目录),否则将无法使用.</li>
<li>通过 mount 命令指定设备,指定入口(目录).</li>
<li>入口:挂载点,一般是个空目录就行&#x2F;mnt 是 linux 临时挂载点.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 临时挂载（重启Linux系统后挂载失效）</span></span><br><span class="line">[root@my-wyj ~]<span class="comment"># mount /dev/sdb1 /mnt/</span></span><br><span class="line">[root@my-wyj ~]<span class="comment"># df -h</span></span><br><span class="line">文件系统                         容量  已用  可用 已用% 挂载点</span><br><span class="line">devtmpfs                         974M     0  974M    0% /dev</span><br><span class="line">tmpfs                            991M     0  991M    0% /dev/shm</span><br><span class="line">tmpfs                            991M   11M  980M    2% /run</span><br><span class="line">tmpfs                            991M     0  991M    0% /sys/fs/cgroup</span><br><span class="line">/dev/mapper/centos_my--wyj-root   47G  5.6G   42G   12% /</span><br><span class="line">/dev/sda1                       1014M  172M  843M   17% /boot</span><br><span class="line">tmpfs                            199M   24K  199M    1% /run/user/0</span><br><span class="line">/dev/sr0                         4.4G  4.4G     0  100% /run/media/root/CentOS 7 x86_64</span><br><span class="line">/dev/sdb1                       1020M   33M  988M    4% /mnt</span><br></pre></td></tr></table></figure>

<ul>
<li>卸载</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">umount /mnt</span><br><span class="line">umount +挂载点。表示卸载。</span><br></pre></td></tr></table></figure>

<p><strong>永久挂载</strong><br>方案 1： 使用&#x2F;etc&#x2F;rc.local，挂载命令 mount &#x2F;dev&#x2F;sdb1 &#x2F;data&#x2F;写入到&#x2F;etc&#x2F;rc.local,注意命令最好写为绝对路径<br>方案 2：专业的开机自动挂载的配置文件&#x2F;etc&#x2F;fstab ,根据配置文件的要求把 mount 命令改为配置文件形式即可。<br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678604290340-b0a077d8-fc80-40d2-9912-cb976b4f95e1.png#averageHue=%23eaebe1&clientId=u39421384-f892-4&from=paste&height=473&id=u25846628&originHeight=651&originWidth=1523&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=477086&status=done&style=none&taskId=ufac32a89-0afb-4c88-b619-1857cdb48f9&title=&width=1107.6363636363637" alt="image.png"><br><strong>挂载光盘</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount /dev/cdrom /mnt/</span><br></pre></td></tr></table></figure>

<p><strong>swap</strong> 🤞🤞🤞🤞🤞</p>
<ul>
<li>swap 交换分区，内存不足的时候临时充当内存<table>
<thead>
<tr>
<th>增加 swap 方法</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>增加硬盘</td>
<td></td>
</tr>
<tr>
<td>通过创建文件增加 swap</td>
<td></td>
</tr>
<tr>
<td>永久生效</td>
<td>方法 1 swapon &#x2F;tmp&#x2F;swap 放入&#x2F;etc&#x2F;rc.local</td>
</tr>
<tr>
<td></td>
<td>方法 2 写入&#x2F;etc&#x2F;fstab</td>
</tr>
</tbody></table>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">通过创建文件增加swap</span><br><span class="line">free -h 检查显示内存的使用情况</span><br><span class="line">[root@my-wyj ~]<span class="comment"># free -h</span></span><br><span class="line">              total        used        free      shared  buff/cache   available</span><br><span class="line">Mem:           1.9G        700M        548M         15M        731M        1.1G</span><br><span class="line">Swap:          4.0G          0B        4.0G</span><br><span class="line">++++++创建文件</span><br><span class="line">[root@my-wyj ~]<span class="comment"># dd if=/dev/zero of=/tmp/swap bs=1M count=500</span></span><br><span class="line">记录了500+0 的读入</span><br><span class="line">记录了500+0 的写出</span><br><span class="line">524288000字节(524 MB)已复制，1.55674 秒，337 MB/秒</span><br><span class="line">+++++++转换swap+++++++++</span><br><span class="line">[root@my-wyj ~]<span class="comment"># mkswap /tmp/swap  #</span></span><br><span class="line">正在设置交换空间版本 1，大小 = 511996 KiB</span><br><span class="line">无标签，UUID=1b90c2b3-3ea9-401e-9641-0e73be087d92</span><br><span class="line">++++++++加入到系统的swap中/激活   on/off 关闭</span><br><span class="line">[root@my-wyj ~]<span class="comment"># swapon /tmp/swap</span></span><br><span class="line">swapon: /tmp/swap：不安全的权限 0644，建议使用 0600。 <span class="comment">#警告</span></span><br><span class="line">chomd 600 /tmp/swap</span><br><span class="line">+++++++++++++++++++++++++++++++++++</span><br><span class="line">[root@my-wyj ~]<span class="comment"># free -h</span></span><br><span class="line">              total        used        free      shared  buff/cache   available</span><br><span class="line">Mem:           1.9G        700M         73M         15M        1.2G        1.1G</span><br><span class="line">Swap:          4.5G          0B        4.5G</span><br></pre></td></tr></table></figure>

<ul>
<li>磁盘分区作为 swap</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">通过磁盘增加swap</span><br><span class="line">1. 创建磁盘分区</span><br><span class="line">2. 转换swap mkswap /tmp/swap</span><br><span class="line">3. 激活     swapon /tmp/swap</span><br></pre></td></tr></table></figure>

<ul>
<li>永久生效</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">方法1 swapon /tmp/swap 放入/etc/rc.local</span><br><span class="line">方法2 写入/etc/fstab</span><br><span class="line"> /dev/sdb1 swap                    swap    defaults        0 0</span><br></pre></td></tr></table></figure>

<h3 id="24-7-磁盘管理体系之性能测试"><a href="#24-7-磁盘管理体系之性能测试" class="headerlink" title="24.7 磁盘管理体系之性能测试"></a>24.7 磁盘管理体系之性能测试</h3><p>**磁盘关键性能指标 **<br>随机的读写次数(iops)<br>io 读写 per second 磁盘每秒的读写次数<br>吞吐量 (Throughput) 连续读写速度<br>磁盘最大读写速度<br>延迟 (随机读写延迟)<br>容量<br>磁盘&#x2F;硬盘容量.</p>
<h2 id="25-三剑客日志处理系列"><a href="#25-三剑客日志处理系列" class="headerlink" title="25.三剑客日志处理系列"></a>25.三剑客日志处理系列</h2><h3 id="25-1-引号系列"><a href="#25-1-引号系列" class="headerlink" title="25.1 引号系列"></a>25.1 引号系列</h3><table>
<thead>
<tr>
<th>引号</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>单引号</td>
<td>所见即所得,单引号里面的内容会原封不动输出.</td>
</tr>
<tr>
<td>双引号</td>
<td>和单引号类似,对双引号里面的特殊符号会进行解析.</td>
</tr>
<tr>
<td>不加引号</td>
<td>和双引号类似额外支持通配符(匹配文件)*.log {1..10}</td>
</tr>
<tr>
<td>反引号</td>
<td>优先执行,先执行反引号里面的命令.</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 单引号</span></span><br><span class="line">[root@my-wyj ~]<span class="comment"># echo &#x27;`hostname` wyj $(whoami) $UID &#123;1..5&#125;&#x27;</span></span><br><span class="line">hostname wyj $(<span class="built_in">whoami</span>) <span class="variable">$UID</span></span><br><span class="line"><span class="comment"># 双引号</span></span><br><span class="line">[root@my-wyj ~]<span class="comment"># echo &quot;`hostname` wyj $(whoami) $UID &#123;1..5&#125;&quot;</span></span><br><span class="line">my-wyj wyj root 0 &#123;1..5&#125;  <span class="comment">#如果需要双引号解析&#123;&#125; ，可以把引号去掉</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 不加引号</span></span><br><span class="line">[root@my-wyj ~]<span class="comment"># echo `hostname` wyj $(whoami) $UID &#123;1..5&#125;</span></span><br><span class="line">my-wyj wyj root 0 1 2 3 4 5</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="25-2-重定向符号系列"><a href="#25-2-重定向符号系列" class="headerlink" title="25.2 重定向符号系列"></a>25.2 重定向符号系列</h3><table>
<thead>
<tr>
<th>重定向符号</th>
<th>含义</th>
<th>应用场景</th>
</tr>
</thead>
<tbody><tr>
<td>&gt;或 1&gt;</td>
<td>标准输出重定向，先清空文件，然后写入</td>
<td>大部分情况下先清空的时候可以使用</td>
</tr>
<tr>
<td>&gt;&gt; 或 1&gt;&gt;</td>
<td>标准输出追加重定向:直接写入到文件末尾</td>
<td>修改配置文件,表示追加的时候.</td>
</tr>
<tr>
<td>2&gt;</td>
<td>标准错误输出重定向:先清空文件,然后写入错误信息.</td>
<td>较少单独用，一般用于获取所有输出.</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>2&gt;&gt;</td>
<td>标准错误追加输出重定向:直接把错误写入到文件末尾.</td>
<td>较少单独用，一般用于获取所有输出.</td>
</tr>
</tbody></table>
<p>| 命令&gt;&gt;oldboy.log 2&gt; &amp;1<br>| 无论对错都把结果写入到文件中. | 比较常用，定时任务，脚本中常用 |<br>| 命令 &amp;&gt;&gt;oldboy.log | 无论对错都把结果写入到文件中. | 比较常用，定时任务，脚本中常用 |<br>| &lt; 或 0&lt; | 标准输入重定向 | 很少用,搭配某几个命令用 xargs ,tr |<br>| &lt;&lt; 或 0&lt;&lt; | 标准输入追加重定向 | 与(cat 搭配使用)表示向文件写入多行内容 |</p>
<ul>
<li>同时记录正常输出与错误输出 🤞🤞🤞🤞🤞</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#最容易理解的方法</span></span><br><span class="line"><span class="built_in">echo</span> oldboy &gt;&gt;oldboy.log  2&gt;&gt;oldboy.log</span><br><span class="line"><span class="comment">#日常最常用的方法之一</span></span><br><span class="line"><span class="built_in">echo</span> oldboy &gt;&gt;oldboy.log 2&gt;&amp;1</span><br><span class="line">2&gt;&amp;1表示把2错误输出写入到标准输出中(1)(错误输出合并到标准输出中，) 注意：符号&gt;&amp;是一个整体，</span><br><span class="line">[root@my-wyj ~]<span class="comment"># ech wyj123 &gt;&gt; 1.txt 2&gt;&amp;1</span></span><br><span class="line">[root@my-wyj ~]<span class="comment"># cat 1.txt</span></span><br><span class="line">wyj123</span><br><span class="line">bash: ech: 未找到命令...</span><br><span class="line"></span><br><span class="line"><span class="comment"># 最简单的写法</span></span><br><span class="line"><span class="built_in">echo</span> oldboy &amp;&gt;&gt;oaldboy.log</span><br></pre></td></tr></table></figure>

<ul>
<li>输入重定向符号（与固定命令搭配）（不常用）</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">xargs 命令用法</span><br><span class="line">xargs 用作替换工具，读取输入数据重新格式化后输出。</span><br><span class="line">xargs -n3 表示分三组</span><br><span class="line">xargs -n3 &lt; num.txt</span><br><span class="line">1 2 3</span><br><span class="line">4 5 6</span><br><span class="line">7 8 9</span><br><span class="line">10</span><br></pre></td></tr></table></figure>

<ul>
<li>追加输出重定向 🤞🤞🤞🤞🤞</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;&lt;用于与<span class="built_in">cat</span>命令实现写入多行内容.</span><br><span class="line">格式：</span><br><span class="line"><span class="built_in">cat</span> &gt;文件 &lt;&lt;结束标记</span><br><span class="line">略</span><br><span class="line">结束标记</span><br><span class="line">结束标记两边不要有多余符号</span><br><span class="line"></span><br><span class="line">一般都是事先写好，然后粘贴到命令行执行</span><br><span class="line">[root@my-wyj ~]<span class="comment"># cat &gt; oldboy.txt&lt;&lt;EOF</span></span><br><span class="line">&gt; I</span><br><span class="line">&gt; LOVE</span><br><span class="line">&gt; LINUX</span><br><span class="line">&gt; EOF</span><br><span class="line">[root@my-wyj ~]<span class="comment"># cat oldboy.txt</span></span><br><span class="line">I</span><br><span class="line">LOVE</span><br><span class="line">LINUX</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="25-3-通配符"><a href="#25-3-通配符" class="headerlink" title="25.3 通配符"></a>25.3 通配符</h3><blockquote>
<p>诞生:用于给 linux 中大部分命令使用，用于批量找文件名(找文件).</p>
</blockquote>
<table>
<thead>
<tr>
<th>符号</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>*</td>
<td>所有，_.txt _.log ‘<em>ip</em>‘</td>
</tr>
<tr>
<td>{}</td>
<td>输出序列，与 echo,touch,mkdir</td>
</tr>
<tr>
<td>[]</td>
<td>参考正则含义即可</td>
</tr>
<tr>
<td>[!] [^]</td>
<td>取反</td>
</tr>
<tr>
<td>？</td>
<td>任意一个字符</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@my-wyj ~]<span class="comment"># echo &#123;01..10&#125;</span></span><br><span class="line">01 02 03 04 05 06 07 08 09 10</span><br><span class="line"></span><br><span class="line"><span class="comment">#seq 输出 1 3 5 7 9</span></span><br><span class="line">[root@my-wyj ~]<span class="comment"># seq 1 3 10</span></span><br><span class="line">1</span><br><span class="line">4</span><br><span class="line">7</span><br><span class="line">10</span><br><span class="line"></span><br><span class="line">小技巧：备份某一个文件</span><br><span class="line">[root@my-wyj ~]<span class="comment"># cp oldboy.txt&#123;,.bak&#125;</span></span><br><span class="line">[root@my-wyj ~]<span class="comment"># ll</span></span><br><span class="line">-rw-r--r--  1 root root       13 3月  13 13:24 oldboy.txt</span><br><span class="line">-rw-r--r--  1 root root       13 3月  13 13:37 oldboy.txt.bak</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="25-4-正则表达式"><a href="#25-4-正则表达式" class="headerlink" title="25.4 正则表达式"></a>25.4 正则表达式</h3><ul>
<li>用于给 Linux 三剑客，程序语言使用的.</li>
<li>使用正则表达式对(字符进行过滤)．使用三剑客实现日志的过滤</li>
<li>正则表达式本质是一些符号．</li>
<li>可以结合:<a target="_blank" rel="noopener" href="http://nbre.oldboylinux.cn/playground%E4%BD%BF%E7%94%A8">http://nbre.oldboylinux.cn/playground使用</a></li>
</ul>
<p>1） 正则与通配符的区别<br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678698507800-d9c7e45b-47bd-4ef3-aef7-b480dcaac01a.png#averageHue=%23ecebea&clientId=u783e6c98-c1e1-4&from=paste&height=96&id=uc5280489&originHeight=120&originWidth=992&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=62153&status=done&style=none&taskId=ud180e634-7ff3-48c8-aa7f-bb4436c2b33&title=&width=793.6" alt="image.png"><br>2）正则分类<br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678698603993-da683491-6d4f-4cb0-a665-a9d4405fd2c6.png#averageHue=%23f3f3f3&clientId=u783e6c98-c1e1-4&from=paste&height=98&id=u48301dc8&originHeight=123&originWidth=546&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=18421&status=done&style=none&taskId=u60f10b0f-982e-436d-a848-81ebe55b338&title=&width=436.8" alt="image.png"></p>
<h4 id="25-4-1-基础正则"><a href="#25-4-1-基础正则" class="headerlink" title="25.4.1 基础正则"></a>25.4.1 基础正则</h4><p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678759507969-eea66281-4671-4401-bd9f-3218682a802b.png#averageHue=%23f8f7f6&clientId=u783e6c98-c1e1-4&from=paste&height=340&id=u8d3c7e15&originHeight=425&originWidth=1010&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=162935&status=done&style=none&taskId=u05e5a422-2b0d-4b04-9d32-386c2e71280&title=&width=808" alt="image.png"> 3) ^</p>
<blockquote>
<p>以什么为开头</p>
</blockquote>
<p>4）&amp;</p>
<blockquote>
<p>以什么为结尾</p>
</blockquote>
<p>cat -A 显示文件中隐藏的符号</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@my-wyj ~]<span class="comment"># cat -A 1.txt</span></span><br><span class="line">askljfeow.x,lskdjfgs$</span><br><span class="line">sdfalkj23oil;kjsdg$</span><br><span class="line">sdfjg4jkgdjfglo$</span><br></pre></td></tr></table></figure>

<p>匹配空行，这行没有任何字符</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">-v 表示排除包含空行的</span><br><span class="line">[root@my-wyj ~]<span class="comment"># grep &#x27;^$&#x27; -n  1.txt</span></span><br><span class="line">2:</span><br><span class="line">4:</span><br><span class="line">8:</span><br><span class="line">[root@my-wyj ~]<span class="comment"># grep &#x27;^$&#x27; -nv  1.txt</span></span><br><span class="line">1:askljfeow.x,lskdjfgs</span><br><span class="line">3:sdfalkj23oil;kjsdg</span><br><span class="line">5:sdfjg4jkgdjfglo</span><br><span class="line">6:gdjcvkjbl;ckjb</span><br><span class="line">7:mblkjglhmf</span><br><span class="line">9:ojblrktiom</span><br><span class="line">10:gjdlfgmm</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>正则案例： 排除&#x2F;etc&#x2F;ssh&#x2F;sshd_config 文件中空行和#好开头的使用管道符</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@my-wyj ~]<span class="comment"># grep &#x27;^$&#x27; -v /etc/ssh/sshd_config | grep -v &#x27;^#&#x27;</span></span><br></pre></td></tr></table></figure>

<p>5 ） . 表示任意字符 不匹配空行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@my-wyj ~]<span class="comment"># grep &#x27;.&#x27;  1.txt</span></span><br><span class="line">askljfeow.x,lskdjfgs</span><br><span class="line">sdfalkj23oil;kjsdg</span><br><span class="line">sdfjg4jkgdjfglo</span><br></pre></td></tr></table></figure>

<ul>
<li>grep -o 选项，显示正则匹配到了什么？ 显示执行过程</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@my-wyj ~]<span class="comment"># grep &#x27;.&#x27; -o  1.txt</span></span><br><span class="line">i</span><br><span class="line"></span><br><span class="line">a</span><br><span class="line">m</span><br></pre></td></tr></table></figure>

<p>6） \ 转义字符 撬棍</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">找出文件中以.（点）结尾的行</span><br><span class="line">grep <span class="string">&#x27;.$&#x27;</span> 1.txt</span><br><span class="line">grep <span class="string">&#x27;\.$&#x27;</span> 1.txt</span><br></pre></td></tr></table></figure>

<p>7）* 前一个字符连续出现 0 次或 0 次以上</p>
<blockquote>
<p>初学正则使用较少.<br>核心掌握:什么是连续出现&#x2F;重复.</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1  数字1出现1次</span><br><span class="line">111   数字1出现3次</span><br><span class="line">123    数字出现3次</span><br><span class="line">oldboy  字母出现6次</span><br><span class="line">oldboy996连续出现的数字和小写字母</span><br><span class="line">Lidao996连续出现的数字和大小写字母</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678757816931-7ea7f3ff-73f0-48d0-87c3-4207f8970a51.png#averageHue=%23716b64&clientId=u783e6c98-c1e1-4&from=paste&height=210&id=ub8e9856c&originHeight=262&originWidth=554&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=117565&status=done&style=none&taskId=ua5c261f0-fe87-42a8-bb49-2b06f5e079b&title=&width=443.2" alt="image.png"><br>8）**.*** 所有，任何字符<br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678758044306-ce2cf083-0b22-4112-b3c4-3815305e3989.png#averageHue=%232e322b&clientId=u783e6c98-c1e1-4&from=paste&height=40&id=u2b29d29b&originHeight=54&originWidth=550&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=44214&status=done&style=none&taskId=u08a18ec7-5ea5-4a43-bc31-d3c97b0fe16&title=&width=410" alt="image.png"></p>
<ul>
<li>特性<blockquote>
<p>正则表示连续出现的时候或者表示所有的时候，正则体现出贪婪性，尽可能多的匹配.</p>
</blockquote>
</li>
</ul>
<p>9）[ ] [abc]表示匹配任意 1 个字符,a 或 b 或 c,中括号相当于一个字符</p>
<blockquote>
<p>使用频率高的字符</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">grep <span class="string">&#x27;[a-z]&#x27;</span> re.txt</span><br><span class="line">grep <span class="string">&#x27;[A-Z]&#x27;</span> re.txt</span><br><span class="line">grep <span class="string">&#x27;[f-z]&#x27;</span> re.txt</span><br><span class="line">grep <span class="string">&#x27;[A-zA-Z]&#x27;</span> re.txt</span><br><span class="line">grep <span class="string">&#x27;[0-9]&#x27;</span> re.txt  <span class="comment">#只能0-9</span></span><br><span class="line"><span class="comment">#匹配字母和数字</span></span><br><span class="line">grep <span class="string">&#x27;[a-zA-Z0-9]&#x27;</span> re.txt</span><br><span class="line">grep <span class="string">&#x27;[0-Z]&#x27;</span> re.txt</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678758992341-5a1e6ff3-910a-4f15-9d1a-409f95a473d0.png#averageHue=%23797069&clientId=u783e6c98-c1e1-4&from=paste&height=375&id=u035aef40&originHeight=469&originWidth=949&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=296291&status=done&style=none&taskId=u09721e4a-258f-4be4-98fb-8b93041d068&title=&width=759.2" alt="image.png"></p>
<blockquote>
<p>自动去掉特殊含义,不需要再次进行转义<br>.[]未来与扩展正则+一起使用较多.</p>
</blockquote>
<p>10 ）[^] [^abc】表示匹配除了 abc 之外的内容,排除 abc</p>
<h4 id="25-4-2-扩展正则"><a href="#25-4-2-扩展正则" class="headerlink" title="25.4.2 扩展正则"></a>25.4.2 扩展正则</h4><p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678780501940-09b42345-f27f-46a3-ab30-90601576cc4a.png#averageHue=%23d4b797&clientId=u783e6c98-c1e1-4&from=paste&height=184&id=uf564d7cb&originHeight=230&originWidth=761&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=109100&status=done&style=none&taskId=ue8670592-b5b3-4bc3-822d-5283cededf7&title=&width=608.8" alt="image.png"></p>
<ul>
<li>grep&#x3D;&#x3D;&#x3D;egrep 或 grep -E</li>
<li>sed 使用 sed -r 支持扩展正</li>
<li>则 awk 默认支持扩展正则.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Linux三剑客如何支持扩展正则</span></span><br><span class="line"><span class="comment">##fgrep命令,推荐使用前2个</span></span><br><span class="line">egrep <span class="string">&#x27;0+&#x27;</span> re.txt</span><br><span class="line">grep -E <span class="string">&#x27;0+&#x27;</span> re.txt</span><br><span class="line">grep <span class="string">&#x27;0\+&#x27;</span> re.txt</span><br><span class="line">sed需要使用-r选项</span><br><span class="line">awk直接支持扩展正则．I</span><br></pre></td></tr></table></figure>

<ol>
<li>＋前一个字符连续出现 1 次或 1 次以上</li>
</ol>
<ul>
<li>+大部分配合着[]一起使用.</li>
<li>取出连续出现的 0</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678761403662-df15843c-4243-4b03-99ea-94405d1c9d38.png#averageHue=%231a2029&clientId=u783e6c98-c1e1-4&from=paste&height=351&id=u6152b0f2&originHeight=439&originWidth=825&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=285516&status=done&style=none&taskId=u3f9e05a6-a80e-489b-abb6-8da47f67ccd&title=&width=660" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678761449941-66330988-e1bb-4a54-b4ab-717f3cb6fd84.png#averageHue=%232b3028&clientId=u783e6c98-c1e1-4&from=paste&height=410&id=u90c21df2&originHeight=513&originWidth=789&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=286763&status=done&style=none&taskId=ud099cc4a-51b7-438f-aae6-3380e7dece4&title=&width=631.2" alt="image.png"></p>
<ol start="2">
<li>| 或者<blockquote>
<p>一般用于单词或者.</p>
</blockquote>
</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678761968408-c5f40a64-aefc-4860-be28-b00149534276.png#averageHue=%2366645d&clientId=u783e6c98-c1e1-4&from=paste&height=153&id=ub870a66b&originHeight=191&originWidth=915&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=154426&status=done&style=none&taskId=uc3e75fcc-bb3c-403f-bbf5-f23dad065a0&title=&width=732" alt="image.png"></p>
<ul>
<li>排除&#x2F;etc&#x2F;ssh&#x2F;sshd_config 的空行或注释</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@my-wyj ~]<span class="comment"># egrep &#x27;^$|#&#x27; /etc/ssh/sshd_config -vn</span></span><br><span class="line">22:HostKey /etc/ssh/ssh_host_rsa_key</span><br><span class="line">24:HostKey /etc/ssh/ssh_host_ecdsa_key</span><br><span class="line">25:HostKey /etc/ssh/ssh_host_ed25519_key</span><br><span class="line">32:SyslogFacility AUTHPRIV</span><br><span class="line">47:AuthorizedKeysFile	.ssh/authorized_keys</span><br><span class="line">65:PasswordAuthentication <span class="built_in">yes</span></span><br><span class="line">69:ChallengeResponseAuthentication no</span><br><span class="line">79:GSSAPIAuthentication <span class="built_in">yes</span></span><br><span class="line">80:GSSAPICleanupCredentials no</span><br><span class="line">96:UsePAM <span class="built_in">yes</span></span><br><span class="line">101:X11Forwarding <span class="built_in">yes</span></span><br><span class="line">126:AcceptEnv LANG LC_CTYPE LC_NUMERIC LC_TIME LC_COLLATE LC_MONETARY LC_MESSAGES</span><br><span class="line">127:AcceptEnv LC_PAPER LC_NAME LC_ADDRESS LC_TELEPHONE LC_MEASUREMENT</span><br><span class="line">128:AcceptEnv LC_IDENTIFICATION LC_ALL LANGUAGE</span><br><span class="line">129:AcceptEnv XMODIFIERS</span><br><span class="line">132:Subsystem	sftp	/usr/libexec/openssh/sftp-server</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>()表示一个整体，用于后向引用(反向引用 sed)<blockquote>
<p>()表示一个整体，用于后向引用(反向引用 sed)</p>
</blockquote>
</li>
</ol>
<ul>
<li>检查系统中 tree , vim , sl 软件是否安装</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678762560809-ee2752c9-4d84-45a4-bf9d-a0ab32eebe4c.png#averageHue=%236a645d&clientId=u783e6c98-c1e1-4&from=paste&height=219&id=u3e339bc2&originHeight=274&originWidth=674&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=176148&status=done&style=none&taskId=u8f7f5ff9-ae94-41d0-95aa-cfeefc315dc&title=&width=539.2" alt="image.png"></p>
<ol start="4">
<li>{} a{n,m}前一个字符连续出现至少 n 次，最多 m 次<blockquote>
<p>使用频率不高<br>可以通过{} 精确控制字符出现的次数</p>
</blockquote>
</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678763158568-c3707ede-33f1-4172-b92b-06f8f2f68672.png#averageHue=%23f1f0f0&clientId=u783e6c98-c1e1-4&from=paste&height=152&id=u432c6e07&originHeight=190&originWidth=926&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=80835&status=done&style=none&taskId=ub183b830-e31d-401a-aa05-2afeffb2be8&title=&width=740.8" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678763573931-d781f7f4-3b11-47b9-9f1e-bb9b6443cf27.png#averageHue=%236b5d51&clientId=u783e6c98-c1e1-4&from=paste&height=394&id=u89e83f5a&originHeight=493&originWidth=1107&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=377375&status=done&style=none&taskId=u40c8ac9d-7593-4434-9fbf-d33e4921e44&title=&width=885.6" alt="image.png"></p>
<ol start="5">
<li>? 前一个字符出现 0 次或 1 次<blockquote>
<p>使用较少<br>一般用于匹配的内容可能有（出现 1 次）或者没有出现（0 次）</p>
</blockquote>
</li>
</ol>
<h4 id="25-4-3-三剑客-sed"><a href="#25-4-3-三剑客-sed" class="headerlink" title="25.4.3 三剑客 sed"></a>25.4.3 三剑客 sed</h4><ul>
<li>取行，过滤，替换修改文件内容</li>
<li>后向引用。（截取）</li>
<li>sed stream editor 流编辑器</li>
</ul>
<ol>
<li>格式<table>
<thead>
<tr>
<th>sed&#96;</th>
<th>选项</th>
<th>详细格式</th>
<th>参数</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td>‘条件动作’</td>
<td>文件</td>
</tr>
<tr>
<td></td>
<td></td>
<td>‘找谁干啥’</td>
<td></td>
</tr>
</tbody></table>
</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678785640579-216b0e23-2f64-4cda-ba80-f5d6fc112f56.png#averageHue=%23f1f1f1&clientId=u783e6c98-c1e1-4&from=paste&height=175&id=u12f0cd3a&originHeight=219&originWidth=655&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=53666&status=done&style=none&taskId=uc5e29a57-5c56-4bcb-8828-05c8bf3c53d&title=&width=524" alt="image.png"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">找谁：条件，匹配哪一行，那些话</span><br><span class="line">干啥：动作，增删改查</span><br><span class="line"><span class="comment"># 显示文件的第三行</span></span><br><span class="line">sed -n <span class="string">&#x27;3p&#x27;</span>  /etc/passwd</span><br></pre></td></tr></table></figure>

<ol>
<li>查找<blockquote>
<p>一种是类似于 grep 模糊查找<br>一种是精确查找，行号</p>
</blockquote>
</li>
</ol>
<p>类似于 grep 命令的过滤，比 grep 强在于可以指定行号.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">案例1 ： 取出文件的第3行  重要</span><br><span class="line">-n 表示取消默认输出，sed处理文件的时候会默认的输出每一行内容</span><br><span class="line">sed -n <span class="string">&#x27;3p&#x27;</span> /etc/passwd</span><br><span class="line">案例2： 取出文件2~5 行 重要</span><br><span class="line">sed -n <span class="string">&#x27;2,5p&#x27;</span> /etc/passwd</span><br><span class="line">案例3：过滤出/etc/passwd中包含root的行  重要</span><br><span class="line">[root@my-wyj ~]<span class="comment"># sed -n &#x27;/root/p&#x27; /etc/passwd</span></span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">operator:x:11:0:operator:/root:/sbin/nologin</span><br><span class="line">+++</span><br><span class="line">sed -n <span class="string">&#x27;/^root/p&#x27;</span> /etc/passwd</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意<br>sed 进行过滤的时候需要使用&#x2F;&#x2F;并且里面支持基础正则如果需要使用扩展正则需要使用 sed -r 选项</p>
</blockquote>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678783688763-8100c024-c5f9-41f1-ac90-33dbb79cfca3.png#averageHue=%23100f0e&clientId=u783e6c98-c1e1-4&from=paste&height=174&id=uc3a952c2&originHeight=217&originWidth=1007&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=132972&status=done&style=none&taskId=u11b6a0be-f0a1-4f39-bb8b-1dcf9323c9e&title=&width=805.6" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678784715803-1213faef-7de7-4913-b9ae-4df668275762.png#averageHue=%23837d77&clientId=u783e6c98-c1e1-4&from=paste&height=158&id=u02002b70&originHeight=198&originWidth=932&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=142597&status=done&style=none&taskId=u85fab20b-2a85-49ff-943c-6c746b7d4b2&title=&width=745.6" alt="image.png"></p>
<ol start="2">
<li>sed 的修改叫做替换<blockquote>
<p>sed 命令的替换格式说明：<br>sed ‘s#找谁#替换成什么#g’ 文件路径<br>推荐使用：### ， @@@ ，&#x2F;&#x2F;&#x2F;<br>s substitute 替换<br>g global 全局替换，这一行中把所有匹配到的内容都进行替换，否则只替换每一行第 1 个匹配的内容</p>
</blockquote>
</li>
</ol>
<ul>
<li>修改文件内容</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">案例1.将sd替换成王亚军</span><br><span class="line">[root@my-wyj ~]<span class="comment"># sed &#x27;s#sd#王亚军#g&#x27; 1.txt</span></span><br><span class="line">askljfeow.x,lskdjfgs</span><br><span class="line">王亚军falkj23oil;kj王亚军g</span><br><span class="line">王亚军fjg4jkgdjfglo</span><br><span class="line">gdjcvkjbl;ckjb</span><br><span class="line">mblkjglhmf</span><br><span class="line">sed <span class="string">&#x27;s#sd#王亚军#g&#x27;</span> -i 1.txt  加上-i 才可以修改文件内容</span><br><span class="line"><span class="comment">#表示先对sed.txt进行备份sed.txt.bak</span></span><br><span class="line">然后对文件内容进行替换</span><br><span class="line">一般用于替换某一个文件,如果是多个文件就打包压缩进行备份</span><br><span class="line">sed <span class="string">&#x27;s#sd#王亚军#g&#x27;</span> -i.bak 1.txt  加上-i 才可以修改文件内容</span><br></pre></td></tr></table></figure>

<ul>
<li>进阶替换</li>
</ul>
<ol>
<li>后向引用格式<blockquote>
<p>应用说明:<br>后向引用或反向引用:适用于 sed 命令处理&#x2F;提取一行中的某一部分．sed 命令配合正则实现取列（类似与 awk 取列）<br>sed 命令中用于处理列的方式．</p>
</blockquote>
</li>
</ol>
<blockquote>
<p>使用格式<br>使用替换的形式 s###g<br>前 2 个井号之间通过正则与()，对数据进行分组.<br>后面 2 个井号之间通过\数字,去调用前面分组的内容.<br>整体是后面调用前面分组的内容，称之为反向引用&#x2F;后向引用．<br>应用场景:某一行中对部分数据进行加工与处理,提取某一部分数据．</p>
</blockquote>
<p>例子</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@my-wyj ~]<span class="comment"># echo 12345678 | sed &#x27;s#(1)(.*)(8)#\1&lt;\2&gt;\3#g&#x27; -r</span></span><br><span class="line">1&lt;234567&gt;8</span><br><span class="line">[root@my-wyj ~]<span class="comment">#</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">案例01 ： 调换 /etc/passwd 第一列和最后一列内容</span><br><span class="line">[root@my-wyj ~]<span class="comment"># sed &#x27;s#^(.*)(:x.*:)(.*)$#\3\2\1#g&#x27; -r /etc/passwd | head -1</span></span><br><span class="line">^([a-zA-Z0-9]+)(:.*:)(.*)$</span><br><span class="line">/bin/bash:x:0:0:root:/root:root</span><br><span class="line">案例02： 取出网卡的ip地址</span><br><span class="line">[root@my-wyj ~]<span class="comment"># ip a s eth0 | sed &#x27;3p&#x27; -n | sed &#x27;s#^.*net(.*)/.*$#\1#g&#x27; -r</span></span><br><span class="line"> 10.0.0.200</span><br><span class="line">案例03:取出<span class="built_in">stat</span> /etc/hosts中的0644或644</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>sed 删除</li>
</ol>
<ul>
<li>d delete 删除 sed 命令删除功能按照(行)为单位进行.</li>
<li>如果仅仅删除某一行的一些字符推荐使用’s#[a-z]##g ‘</li>
<li>排除&#x2F;删除文件中的空行和带注释的行</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">egrep -v <span class="string">&#x27;^$|#&#x27;</span> /etc/ssh/sshd_config</span><br><span class="line">sed -r <span class="string">&#x27;/^$|#/d&#x27;</span> /etc/ssh/sshd_config</span><br><span class="line">awk <span class="string">&#x27;!/^$|#/&#x27;</span> /etc/ssh/sshd_config</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>sed 增加(了解)</li>
</ol>
<ul>
<li>cal<ul>
<li>a append 在指定行后面追加内容</li>
<li>i insert 在指定行上面插入一行</li>
<li>c replace 替换指定行的内容</li>
</ul>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed <span class="string">&#x27;3a 999,lidao007,UFO&#x27;</span> sed.txt</span><br></pre></td></tr></table></figure>

<h4 id="25-4-4-三剑客-awk"><a href="#25-4-4-三剑客-awk" class="headerlink" title="25.4.4 三剑客 awk"></a>25.4.4 三剑客 awk</h4><ol>
<li>概述</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678848107501-23806af1-55ec-4ec1-9b99-e0bd1eaae683.png#averageHue=%23f0f0f0&clientId=u81036800-fac8-4&from=paste&height=160&id=ufe1237b9&originHeight=200&originWidth=959&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=77246&status=done&style=none&taskId=uf77a9b5e-f122-48b3-8898-29588eb876d&title=&width=767.2" alt="image.png"></p>
<ol start="2">
<li>格式</li>
</ol>
<ul>
<li>awk 支持运算符，可以进行运算，进行对比</li>
<li>&#x3D;&#x3D; 、!&#x3D; 、&gt;、 &gt;&#x3D;、 &lt;、 &lt;&#x3D; 、 &amp;&amp; 、||</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">取出 /etc/passwd 中第一行的第一列，第三列和最后一列</span><br><span class="line">awk   -F: <span class="string">&#x27;NR==1&#123;print $1,$3,$NF&#125;&#x27;</span> /etc/passwd</span><br><span class="line">awk  选项 <span class="string">&#x27;条件&#123;动作&#125;&#x27;</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>取行</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">案例01 ︰取出/etc/passwd的第1行 🤞🤞🤞🤞🤞</span><br><span class="line">awk <span class="string">&#x27;NR==1&#123;print $0&#125;&#x27;</span> /etc/passwd</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line"></span><br><span class="line">NR Number of Record  记录号，行号</span><br><span class="line">== 表示等于</span><br><span class="line">&#123;<span class="built_in">print</span> <span class="variable">$0</span>&#125; 输出整行内容   <span class="variable">$0</span>表示当前行内容,awk满足条件后默认的动作，输出这一行的内容.</span><br><span class="line">上面仅取行，还可以简写为</span><br><span class="line">awk <span class="string">&#x27;NR==1&#x27;</span> /etc/passwd</span><br><span class="line">++++++++++++++++++++++++++++++++++++++</span><br><span class="line">案例02:取出第2行到第5行的内容🤞🤞🤞🤞🤞</span><br><span class="line">[root@my-wyj ~]<span class="comment"># awk &#x27;NR&gt;=2 &amp;&amp; NR&lt;=5&#x27; /etc/passwd</span></span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line">lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</span><br><span class="line">+++++++++++++++++++++++++++++++++++++++++++</span><br><span class="line">案例03：过滤出/etc/passwd文件中包含root或nobody的行🤞🤞🤞🤞🤞</span><br><span class="line">awk <span class="string">&#x27;/root|nobody/&#x27;</span> /etc/passwd</span><br><span class="line">案例04 ： 从包含root的行到包含nobody的行</span><br><span class="line">awk <span class="string">&#x27;/root/,/nobody/&#x27;</span> /etc/passwd</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678850677003-31c1008e-1178-4a33-936e-8b80a8583d97.png#averageHue=%23f9f9f9&clientId=u81036800-fac8-4&from=paste&height=118&id=u19748740&originHeight=148&originWidth=447&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=36602&status=done&style=none&taskId=u524c3dd3-b72e-4605-a748-b884c200fef&title=&width=357.6" alt="image.png"></p>
<ol start="4">
<li>取列</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">案例05:使用awk取出<span class="built_in">ls</span> -lh的大小列和最后一列 🤞🤞🤞🤞🤞</span><br><span class="line"><span class="built_in">ls</span> -lh /etc/hosts | awk <span class="string">&#x27;&#123;print $5,$9&#125;&#x27;</span></span><br><span class="line"><span class="built_in">ls</span> -lh /etc/hosts | awk <span class="string">&#x27;&#123;print $5,$NF&#125;&#x27;</span></span><br><span class="line">案例06:取出/etc/passwd中的第1列，第3列和最后一列</span><br><span class="line">awk -F <span class="string">&#x27;:&#x27;</span> <span class="string">&#x27;&#123;print $1,$3,$NF&#125;&#x27;</span> /etc/passwd 🤞🤞🤞🤞🤞</span><br><span class="line">root 0 /bin/bash</span><br><span class="line">bin 1 /sbin/nologin</span><br><span class="line">daemon 2 /sbin/nologin</span><br><span class="line">adm 3 /sbin/nologin</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>awk 中取列的时候说明:<br>$数字,表示取列,$1第1列,$0表示这一行.。<br>$NF 最后一列<br>NF Number of Field 每行有多少列<br>$(NF-1）取出倒数第 2 列,一般用于正向取发生变化或数字过大．</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">过滤出ip地址🤞🤞🤞🤞🤞</span><br><span class="line">ip a s eth0</span><br><span class="line">2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000</span><br><span class="line">    <span class="built_in">link</span>/ether 00:0c:29:10:97:ad brd ff:ff:ff:ff:ff:ff</span><br><span class="line">    inet 10.0.0.200/24 brd 10.0.0.255 scope global eth0</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">    inet6 fe80::20c:29ff:fe10:97ad/64 scope <span class="built_in">link</span></span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">[root@my-wyj ~]<span class="comment"># ip a s eth0 | awk &#x27;NR==3&#x27; | awk &#x27;&#123;print $2&#125;&#x27;</span></span><br><span class="line">10.0.0.200/24</span><br><span class="line">[root@my-wyj ~]<span class="comment"># ip a s eth0 | awk &#x27;NR==3&#x27; | awk -F&#x27;[ /]+&#x27; &#x27;&#123;print $3&#125;&#x27;</span></span><br><span class="line">10.0.0.200</span><br><span class="line">[root@my-wyj ~]<span class="comment"># ip a s eth0 | awk &#x27;NR==3&#x27; | awk -F&#x27;inet|/24&#x27; &#x27;&#123;print $2&#125;&#x27;</span></span><br><span class="line"> 10.0.0.200</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="5">
<li>取行与取列</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">案例8 ： 取行+取列取ip地址🤞🤞🤞🤞🤞</span><br><span class="line">awk选项 <span class="string">&#x27;条件&#123;动作&#125;&#x27;</span>letc/passwd</span><br><span class="line">[root@my-wyj ~]<span class="comment"># ip a s eth0 | awk -F&#x27;[ /]+&#x27; &#x27;NR==3&#123;print $3&#125;&#x27;</span></span><br><span class="line">10.0.0.200</span><br><span class="line"></span><br><span class="line">案例09:对列的判断取出/etc/passwd文件中第3列大于1000的行,取出这行的第1列，第3列和最后一列🤞🤞🤞🤞🤞</span><br><span class="line">‘条件&#123;动作&#125;’</span><br><span class="line">条件:第3列大于1000 <span class="variable">$3</span> 第3列用户的uid.</span><br><span class="line">动作:输出显示第1列,第3列和最后一列</span><br><span class="line">[root@my-wyj ~]<span class="comment"># awk -F&#x27;:&#x27; &#x27;$3&gt;1000&#123;print $1,$3,$NF&#125;&#x27; /etc/passwd</span></span><br><span class="line"></span><br><span class="line">案例11:过滤出/etc/passwd第4列的数字是以0或1开头的行,输出第1列，第3列🤞🤞🤞🤞🤞</span><br><span class="line">之前^或$表示某一行的开头或结尾.</span><br><span class="line">在awk中因为awk可以取列,通过列可以过滤某一列中包含什么.....过滤某一列中以xxxx开头或结尾．</span><br><span class="line">awk -F<span class="string">&#x27;:&#x27;</span> <span class="string">&#x27;$4 ~ /^[01]/ &#123;print $1,$3&#125;&#x27;</span> /etc/passwd</span><br></pre></td></tr></table></figure>

<blockquote>
<p>温馨提示 awk 中 通过~ 可以实现对某一列进行过滤<br>某一列中含有 xxx 内容</p>
<ul>
<li>~表示包含的意思 $1 ~ &#x2F;root&#x2F;表示第 1 列中包含 root</li>
<li>！~ 表示不包含</li>
</ul>
</blockquote>
<p>awk 统计与计算</p>
<ol>
<li>统计次数</li>
</ol>
<ul>
<li>仅仅需要统计出现了多少次,出现了多少个.可以使用 wc -l 方式.</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678873334358-ed78913d-2a3d-441d-9785-0114e80e86bc.png#averageHue=%23eff1f4&clientId=u81036800-fac8-4&from=paste&height=275&id=uc1cdd82b&originHeight=344&originWidth=577&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=87747&status=done&style=none&taskId=ub47a0044-ccac-4eb4-ac2a-d14ac804e34&title=&width=461.6" alt="image.png"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">awk <span class="string">&#x27;&#123;i=i+1&#125; END&#123;print i&#125;&#x27;</span>  /etc/passwd</span><br><span class="line">26</span><br><span class="line"><span class="built_in">seq</span> 10 &gt;num.txt 计算num.txt每一行的数字的总和</span><br><span class="line">awk <span class="string">&#x27;&#123;i=i+$1&#125;END&#123;print i&#125;&#x27;</span> num.txt</span><br></pre></td></tr></table></figure>

<blockquote>
<p>END{}内容会在 awk 读取完成文件的时候执行.<br>END{} 一般用于输出执行结果<br>i&#x3D;i+1 &#x3D;&#x3D;&#x3D; i++</p>
</blockquote>
<h3 id="26-计划任务"><a href="#26-计划任务" class="headerlink" title="26. 计划任务"></a>26. 计划任务</h3><ul>
<li>一次性调度执行</li>
<li>循环调度执行</li>
</ul>
<h4 id="26-1-一次性调度执行"><a href="#26-1-一次性调度执行" class="headerlink" title="26.1 一次性调度执行"></a>26.1 一次性调度执行</h4><blockquote>
<p>语法格式：</p>
<ul>
<li>at &lt; TIMESPEC&gt;</li>
</ul>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">示例</span><br><span class="line">now + 5min</span><br><span class="line">teatime tomorrow(teathime is 16:00)</span><br></pre></td></tr></table></figure>

<ol>
<li>定时创建用户的任务</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">at now +1min</span><br><span class="line">at&gt; useradd uuuu</span><br><span class="line">at&gt; &lt;EOT&gt;  ctrl + d 输入完毕，执行任务</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>查询任务</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">atq</span><br></pre></td></tr></table></figure>

<h4 id="26-2-循环调度执行-cron"><a href="#26-2-循环调度执行-cron" class="headerlink" title="26.2 循环调度执行 cron"></a>26.2 循环调度执行 cron</h4><ul>
<li>cron 的概念和 crontab 是不可分割的。</li>
<li>crontab 是一个命令，常见于 Unix 和 Linux 的操作系统之中</li>
<li>用于设置周期性被执行的指令。</li>
<li>该命令从标准输入设备读取指令，并将其存放于“crontab”文件中，以供之后读取和执行。<blockquote>
<p>定时任务格式中的符号</p>
<ul>
<li><ul>
<li>每 每分钟 每小时 每天 每周 每月</li>
</ul>
</li>
<li>&#x2F; 表示 每隔多久执行一次</li>
<li>, 表示独立时间</li>
<li><ul>
<li>范围时间</li>
</ul>
</li>
</ul>
</blockquote>
</li>
</ul>
<ol>
<li>查看进程状态</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">crond程序运行是计划任务执行的根本</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>管理方式<table>
<thead>
<tr>
<th>参数</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>-e</td>
<td>编辑定时任务 当前时 root vi &#x2F;var&#x2F;spool&#x2F;cron&#x2F;root</td>
</tr>
<tr>
<td>-l</td>
<td>查看当前用户的定时任务 当前时 root cat &#x2F;var&#x2F;spool&#x2F;cron&#x2F;root</td>
</tr>
<tr>
<td>-r 别用</td>
<td>删除定时任务</td>
</tr>
<tr>
<td>-u</td>
<td>指定其他用户</td>
</tr>
</tbody></table>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">创建计划</span><br><span class="line">crontab -e Edit <span class="built_in">jobs</span> <span class="keyword">for</span> the current user</span><br><span class="line">查询计划</span><br><span class="line">crontab -l List <span class="built_in">jobs</span> <span class="keyword">for</span> the current user</span><br><span class="line">管理员可以使用 -u username,去管理其他用户的计划任务</span><br><span class="line">删除计划</span><br><span class="line">crontab -r Remove all <span class="built_in">jobs</span> <span class="keyword">for</span> the current user</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>语法格式</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">分 时 日 月 周 命令或脚本程序</span><br><span class="line">六个部分用空格隔开</span><br><span class="line">/var/spool/cron/  用户的定时任务配置文件目录</span><br><span class="line">crontab 定时任务管理的命令</span><br><span class="line">/var/log/cron  定时任务日志</span><br><span class="line">* * * * *  /mysqla_back.sh  每分钟执行一次</span><br><span class="line">*/2 * * * *  comd   每隔2两分钟</span><br><span class="line">0 2 1,4,6 * * /mysqla_back.sh  每月的1,4,6日 2时都会执行一次</span><br><span class="line">0 2 5-9 * *   每月5日-9日 2点0分</span><br><span class="line">00 08-11/2,14-20/2 * * * iotop -o  早上8点到11点和下午2点到8点，每2个小时执行iotop -o</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678950580477-1e3d434f-14f1-4ded-b8b6-b6f38c8496c0.png#averageHue=%23e2e6ec&clientId=u81036800-fac8-4&from=paste&height=42&id=u33db402a&originHeight=47&originWidth=746&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=42875&status=done&style=none&taskId=u5208314e-0a85-4b54-b3ad-c9253420c85&title=&width=663.1111111111111" alt="image.png"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">案例1 每2分钟输出oldboy 追加到/tmp/oldboy.txt</span><br><span class="line">crontab -e</span><br><span class="line">*/2 * * * * <span class="built_in">echo</span> wyj &gt;&gt; /tmp/wyj.txt</span><br><span class="line">看结果 看文件内容</span><br><span class="line"><span class="built_in">tail</span> -f /tmp/wyj.txt</span><br><span class="line">看日志，检查定时任务的日志</span><br><span class="line"><span class="built_in">tail</span> -f /var/log/cron</span><br><span class="line"></span><br><span class="line">案例2 使用root用户每五分钟执行一次时间同步</span><br><span class="line">/dev/null 属于字符特殊文件，它属于空设备，是一个特殊的设备文件，它会丢弃一切写入其中的数据，写入它的内容都会永远丢失，而且没有任何可以读取的内容。所以我们一般会把/dev/null当成一个垃圾站，不要的东西丢进去。比如来清除文件中的内容。</span><br><span class="line">ntpdate ntp1.aliyun.com  根据网上可信的 时间服务器同步并自动修改时间</span><br><span class="line">crontab -e</span><br><span class="line">* * * * * ntpdate ntp1.aliyun.com &amp;&gt;/dev/null</span><br><span class="line"></span><br><span class="line">检查与测试</span><br><span class="line"><span class="built_in">date</span> -s <span class="string">&#x27;10year&#x27;</span></span><br><span class="line">看日志</span><br><span class="line"><span class="built_in">tail</span> -f /var/log/cron</span><br><span class="line"></span><br><span class="line">案例3 每天凌晨3点做一次备份？ 打包备份/etc/</span><br><span class="line">1. 备份命令</span><br><span class="line">tar zcf /tmp/etc.tar.gz /etc/</span><br><span class="line">tar tf /tmp/etc.targz</span><br><span class="line">2. 写入定时任务</span><br><span class="line">crontab -e</span><br><span class="line">==在定时任务中%表示回车==</span><br><span class="line">* * * * * tar zcf /tmp/etc.tar.gz /etc/ &amp;&gt;/dev/null</span><br><span class="line">3. 测试与检查</span><br><span class="line">[root@my-wyj ~]<span class="comment"># tail -f /var/log/cron</span></span><br><span class="line">Mar 16 14:52:01 my-wyj CROND[42159]: (root) CMD (/sbin/ntpdate ntp1.aliyun.com &amp;&gt;/dev/null)</span><br><span class="line">Mar 16 14:56:01 my-wyj CROND[42210]: (root) CMD (tar zcf /tmp/etc.tar.gz /etc/ &amp;&gt;/dev/null)</span><br><span class="line">Mar 16 14:56:01 my-wyj CROND[42211]: (root) CMD (/sbin/ntpdate ntp1.aliyun.com &amp;&gt;/dev/null)</span><br><span class="line">^C</span><br><span class="line">[root@my-wyj ~]<span class="comment"># ll /tmp/ | grep etc.tar.gz</span></span><br><span class="line">-rw-r--r--  1 root root  12344175 3月  16 14:56 etc.tar.gz</span><br><span class="line"></span><br><span class="line">案例4</span><br><span class="line">1. 命令</span><br><span class="line"><span class="built_in">mkdir</span> /backup/</span><br><span class="line">tar czf /backup/etc-$(<span class="built_in">date</span> +%F).tar.gz /etc/</span><br><span class="line">2.脚本与测试</span><br><span class="line"><span class="built_in">touch</span> copy-$(<span class="built_in">date</span> +%F).sh</span><br><span class="line">vim copy-2023-03-17.sh</span><br><span class="line">tar czf /backup/etc-$(<span class="built_in">date</span> +%F).tar.gz /etc/</span><br><span class="line">3. 定时任务</span><br><span class="line">crontab -e</span><br><span class="line">00 00 * * * sh /server/scripts/copy-2023-03-17.sh  &amp;&gt;/dev/null</span><br><span class="line">检查</span><br><span class="line">看日志</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>crond 注意的事项</p>
<ol>
<li>给定时任务注释，表示说明，定时任务主要作用</li>
<li>将需要定期执行的任务写入 Shell 脚本中，避免直接使用命令无法执行的情况 tar date %在定时任务有特殊含义</li>
<li>定时任务的结尾一定要有&amp;&gt;&#x2F;dev&#x2F;null 或者将结果<strong>追加</strong>重定向&gt;&gt;&#x2F;tnip&#x2F;date.log 文件</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#定时任务没有定向到空或追加到文件  故障案例</span></span><br><span class="line"><span class="comment">#定时任务没有定向到空或追加到文件故障案例</span></span><br><span class="line"><span class="comment">###邮件服务开启,你会收到大量的提示You have new mail in/var/spoo1/mai1/root最后导致郎件文件越来越大</span></span><br><span class="line"><span class="comment">###邮件服务关闭,邮件没有发送,生成大量邮件临时文件/var / spoo1/postfix/mai1drop 最终目录中有大量小文件</span></span><br><span class="line">准备环境：</span><br><span class="line">关闭服务</span><br><span class="line">systemctl stop postfix.service  发邮件的服务</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="4">
<li>注意有些命令是无法成功执行的 echo “123” &gt;&gt;&#x2F;tmp&#x2F;test.log &amp;&gt;&#x2F;dev&#x2F;null</li>
<li>如果一定要是用命令，命令必须使用绝对路径</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678961345452-1f5e5b1e-2f44-4b2d-b0be-f77550a4321e.png#averageHue=%23ebecf2&clientId=u81036800-fac8-4&from=paste&height=126&id=uace6605e&originHeight=142&originWidth=814&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=78090&status=done&style=none&taskId=u781ee7ae-ec85-4c0a-8d4d-9ccce34d403&title=&width=723.5555555555555" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1678965490524-03469fb2-9f3c-4455-8e5f-502d1a8ab0e2.png#averageHue=%23eeedef&clientId=u81036800-fac8-4&from=paste&height=207&id=u53a3f2b2&originHeight=233&originWidth=856&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=113135&status=done&style=none&taskId=u863fe070-0fa1-4861-a0bc-fb7737f1e54&title=&width=760.8888888888889" alt="image.png"><br>crond 编写思路</p>
<ul>
<li><ol>
<li>手写执行命令，然后保留执行成功的结果</li>
</ol>
</li>
<li><ol start="2">
<li>编写脚本</li>
</ol>
<ul>
<li>脚本需要统一路径&#x2F;scripts</li>
<li>脚本内容复制执行成功的命令(减少每个环节出错几率)</li>
<li>脚本内容尽可能的优化,使用一些变量或使用简单的判断语句</li>
<li>脚本执行的输出信息可以重定向至其他位置保留或写入&#x2F;dev&#x2F;null</li>
</ul>
</li>
<li><ol start="3">
<li>执行脚本</li>
</ol>
<ul>
<li>使用 bash 命令执行,防止脚本没有增加执行权限(&#x2F;usr&#x2F;bin&#x2F;bash)</li>
<li>执行脚本成功后，复制该执行的命令，以便写入 cron</li>
</ul>
</li>
<li><ol start="4">
<li>编写计划任务</li>
</ol>
<ul>
<li>加上必要的注释信息,人、时间、任务</li>
<li>设定计划任务执行的周期</li>
<li>粘贴执行脚本的命令（不要手敲）</li>
</ul>
</li>
<li><ol start="5">
<li>调试计划任务</li>
</ol>
<ul>
<li>增加任务频率测试</li>
<li>检查环境变量问题:使用命令绝对路径 k 看日志:</li>
<li>检查 crond 服务日志</li>
<li>看结果:</li>
</ul>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">案例 打包备份/etc /usr下面以.conf结尾的文件/backup/</span><br><span class="line">1. 命令</span><br><span class="line">[root@my-wyj ~]<span class="comment"># find /etc/ /usr/ -type f -name &quot;*.conf&quot;  | xargs \tar zcf /backup/conf-`date +%F`.tar.gz</span></span><br><span class="line">tar: 从成员名中删除开头的“/”</span><br><span class="line">如果命令太长可以加个\换行</span><br><span class="line">[root@my-wyj ~]<span class="comment"># ll /backup/</span></span><br><span class="line">总用量 24484</span><br><span class="line">-rw-r--r-- 1 root root   378553 3月  17 11:06 conf-2023-03-17.tar.gz</span><br><span class="line">-rw-r--r-- 1 root root 12344175 3月  17 10:19 etc1.tar.gz</span><br><span class="line">-rw-r--r-- 1 root root 12344175 3月  17 10:44 etc-2023-03-17.tar.gz</span><br><span class="line">2. 写脚本</span><br><span class="line">vim /server/scripts/bak-conf.sh</span><br><span class="line">3. 定时任务</span><br><span class="line">4. 看日志看结果</span><br><span class="line">案例2 打包备份/etc /usr下面以.conf结尾的文件/backup/ip地址</span><br><span class="line">1.命令</span><br><span class="line">[root@my-wyj ~]<span class="comment"># hostname -I | awk -F&#x27; &#x27; &#x27;&#123;print $1&#125;&#x27;</span></span><br><span class="line">10.0.0.200</span><br><span class="line">[root@my-wyj ~]<span class="comment"># hostname -I | cut -d &#x27; &#x27; -f 1</span></span><br><span class="line">10.0.0.200</span><br><span class="line">2. 写脚本</span><br><span class="line">IP=`hostname -I | <span class="built_in">cut</span> -d <span class="string">&#x27; &#x27;</span> -f 1`</span><br><span class="line">TIME=`<span class="built_in">date</span> +%F`</span><br><span class="line"><span class="built_in">mkdir</span> -p /backup/<span class="variable">$IP</span></span><br><span class="line">find /etc/ /usr/ -<span class="built_in">type</span> -f -name <span class="string">&quot;*.conf&quot;</span> | xargs \</span><br><span class="line">tar zcf /backup/<span class="variable">$IP</span>/conf-<span class="variable">$TIME</span>.tar.gz</span><br><span class="line">3. 定时任务</span><br><span class="line">4.检查日志</span><br></pre></td></tr></table></figure>

<p>定时任务安全项目：<br>项目名称：老男孩教育网站安全检查项目<br>项目背景:网站因为安全配置导致病毒入侵,如何快速排查出哪些是病毒(被感染的文件或命令)<br>项目步骤<br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1679035261821-a64dc478-0cc2-4222-8c9e-cf02bda8180a.png#averageHue=%23efedef&clientId=u81036800-fac8-4&from=paste&height=183&id=ub192568f&originHeight=312&originWidth=1166&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=170894&status=done&style=none&taskId=u49d8ced2-55ee-4671-b53c-798dbfdf5c0&title=&width=682.2222290039062" alt="image.png"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">如何制作指纹信息</span><br><span class="line"><span class="built_in">md5sum</span> 文件</span><br><span class="line"><span class="built_in">md5sum</span> 1.txt</span><br><span class="line"><span class="comment">#对比指纹</span></span><br><span class="line">[root@my-wyj ~]<span class="comment"># md5sum 1.txt</span></span><br><span class="line">d41d8cd98f00b204e9800998ecf8427e  1.txt</span><br><span class="line">[root@my-wyj ~]<span class="comment"># echo wyj &gt;1.txt</span></span><br><span class="line">[root@my-wyj ~]<span class="comment"># cat 1.txt</span></span><br><span class="line">wyj</span><br><span class="line">[root@my-wyj ~]<span class="comment"># md5sum 1.txt</span></span><br><span class="line">67fce1d89d0cb116cedfb852d822dfa9  1.txt</span><br><span class="line"><span class="comment">#第二种方法创建指纹信息自动对比</span></span><br><span class="line"> [root@my-wyj ~]<span class="comment"># touch 2.txt</span></span><br><span class="line">[root@my-wyj ~]<span class="comment"># md5sum 2.txt &gt; file2.md5</span></span><br><span class="line">[root@my-wyj ~]<span class="comment"># cat file2.md5</span></span><br><span class="line">d41d8cd98f00b204e9800998ecf8427e  2.txt</span><br><span class="line">[root@my-wyj ~]<span class="comment"># echo wyj &gt;&gt;2.txt</span></span><br><span class="line">[root@my-wyj ~]<span class="comment"># md5sum -c file2.md5</span></span><br><span class="line">2.txt: 失败</span><br><span class="line"><span class="built_in">md5sum</span>: 警告：1 个校验和不匹配</span><br></pre></td></tr></table></figure>

<ul>
<li>系统的配置和命令 制作 md5sum</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#批量给系统核心命令和系统配置文件,制作指纹信息备注:如果配置修改了,重新制作指纹</span></span><br><span class="line">find /sbin/ /bin/ /etc/ -<span class="built_in">type</span> f |xargs <span class="built_in">md5sum</span> &gt; /root/conf-cmd.md5</span><br><span class="line"><span class="comment">#定时校验指纹信息  使用定时任务</span></span><br><span class="line"> 使用“--quiet”选项，<span class="built_in">md5sum</span>将只列出已经改变的文件。</span><br><span class="line">* * * * * <span class="built_in">md5sum</span> -quiet -c /root/conf-cmd.md5 &amp;&gt;&gt;/root/ndd.txt</span><br></pre></td></tr></table></figure>

<ul>
<li>书写检查脚本</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1679041105029-2cb410dc-35c5-4c89-928e-fdcb1f62b0ab.png#averageHue=%2308070a&clientId=u81036800-fac8-4&from=paste&height=110&id=ub4d1fd1e&originHeight=124&originWidth=695&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=52143&status=done&style=none&taskId=ubd1be48a-822c-4375-b716-9e5e68528ee&title=&width=617.7777777777778" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1679041468898-84b92979-a9da-4bd6-8482-ee12f21a9d1b.png#averageHue=%23e7e8ed&clientId=u81036800-fac8-4&from=paste&height=90&id=ub8141c94&originHeight=101&originWidth=483&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=40874&status=done&style=none&taskId=ubc409c8d-cfb4-486c-ad64-120ed51e358&title=&width=429.3333333333333" alt="image.png"></p>
<ul>
<li>写入定时任务</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*/5 * * * * sh /server/scripts/server_check.sh &amp;&gt;/dev/null</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29072358/1679041302111-a95d2ce7-7ebb-4946-b92d-123a11c0373b.png#averageHue=%237371f2&clientId=u81036800-fac8-4&from=paste&height=446&id=uda402771&originHeight=502&originWidth=1469&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=434466&status=done&style=none&taskId=u852ba5e0-b319-48a1-ac38-742d07d48f0&title=&width=1305.7777777777778" alt="image.png"></p>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Linux/">Linux</a></div><div class="post_share"><div class="social-share" data-image="/../imgs/tag.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-full"><a href="/2023/09/08/%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%90%AD%E5%BB%BA/" title="博客的搭建"><img class="cover" src="/../imgs/tag.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">博客的搭建</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/./imgs/avatar.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">平凡人</div><div class="author-info__description">记录自己的学习心得以及学习记录</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">4</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">7</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">3</div></a></div><a id="card-info-btn" href="https://startafresh.github.io"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/StartAfresh" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:1397749820@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #333;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Linux-%E6%A6%82%E8%BF%B0"><span class="toc-number">1.</span> <span class="toc-text">1. Linux 概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Linux-%E5%8F%91%E5%B1%95"><span class="toc-number">2.</span> <span class="toc-text">2. Linux 发展</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-Linux-%E7%BB%84%E6%88%90-%F0%9F%A4%9E%F0%9F%A4%9E"><span class="toc-number">3.</span> <span class="toc-text">3.Linux 组成 🤞🤞</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-Linux-%E5%8F%91%E8%A1%8C%E7%89%88%E4%BB%8B%E7%BB%8D-%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E"><span class="toc-number">4.</span> <span class="toc-text">4. Linux 发行版介绍 🤞🤞🤞🤞🤞</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-Linux-%E7%89%88%E6%9C%AC%E9%80%89%E5%9E%8B"><span class="toc-number">5.</span> <span class="toc-text">5. Linux 版本选型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E5%B7%A5%E4%BD%9C%E4%B8%8E%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2-%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E"><span class="toc-number">6.</span> <span class="toc-text">6.工作与学习环境部署 🤞🤞🤞🤞</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-%E8%99%9A%E6%8B%9F%E6%9C%BA"><span class="toc-number">6.1.</span> <span class="toc-text">6.1 虚拟机</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%BC%96%E8%BE%91%E5%99%A8%E9%85%8D%E7%BD%AE-%E5%8F%AA%E9%9C%80%E8%A6%81%E9%85%8D%E7%BD%AE%E4%B8%80%E6%AC%A1"><span class="toc-number">6.2.</span> <span class="toc-text">6.2 虚拟机网络编辑器配置(只需要配置一次)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">6.3.</span> <span class="toc-text">6.3 远程连接服务器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E5%A4%8D%E7%9B%98"><span class="toc-number">6.4.</span> <span class="toc-text">6.4 复盘</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5%E6%8E%92%E9%94%99%E8%AF%A6%E8%A7%A3"><span class="toc-number">7.</span> <span class="toc-text">7.远程连接排错详解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-ip-%E5%9C%B0%E5%9D%80-%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E"><span class="toc-number">7.1.</span> <span class="toc-text">7.1 ip 地址 🤞🤞🤞🤞🤞</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E7%AB%AF%E5%8F%A3-%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E"><span class="toc-number">7.2.</span> <span class="toc-text">7.2 端口 🤞🤞🤞🤞🤞</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E5%8D%8F%E8%AE%AE"><span class="toc-number">7.3.</span> <span class="toc-text">7.3 协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E5%B0%8F%E7%BB%93"><span class="toc-number">7.4.</span> <span class="toc-text">7.4 小结</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5%E6%8E%92%E9%9A%9C-%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E"><span class="toc-number">7.5.</span> <span class="toc-text">7.5 远程连接排障 🤞🤞🤞🤞🤞</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-Linux-%E5%BF%85%E7%9F%A5%E5%BF%85%E4%BC%9A%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">8.</span> <span class="toc-text">8.Linux 必知必会知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-Linux-%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%A0%BC%E5%BC%8F"><span class="toc-number">8.1.</span> <span class="toc-text">8.1 Linux 命令行格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E5%91%BD%E4%BB%A4%E6%A0%BC%E5%BC%8F"><span class="toc-number">8.2.</span> <span class="toc-text">8.2 命令格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-Linux-%E4%B8%8E-windows-%E7%9B%AE%E5%BD%95%E5%AF%B9%E6%AF%94"><span class="toc-number">8.3.</span> <span class="toc-text">8.3 Linux 与 windows 目录对比</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-Linux-%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C%E4%B8%8E%E5%91%BD%E4%BB%A4"><span class="toc-number">8.4.</span> <span class="toc-text">8.4 Linux 基本操作与命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-%E5%A4%8D%E7%9B%98"><span class="toc-number">8.5.</span> <span class="toc-text">8.5 复盘</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-number">9.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-Linux-%E6%A0%B8%E5%BF%83%E7%9B%AE%E5%BD%95"><span class="toc-number">10.</span> <span class="toc-text">10. Linux 核心目录</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-%E8%B7%AF%E5%BE%84%E8%A1%A8%E7%8E%B0%E5%BD%A2%E5%BC%8F"><span class="toc-number">10.1.</span> <span class="toc-text">10.1 路径表现形式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-Linux-%E6%A0%B8%E5%BF%83%E5%BF%85%E4%BC%9A%E6%8C%87%E4%BB%A4"><span class="toc-number">11.</span> <span class="toc-text">11.Linux 核心必会指令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-Linux-%E7%8E%AF%E5%A2%83%E5%88%9D%E6%AD%A5%E4%BC%98%E5%8C%96"><span class="toc-number">12.</span> <span class="toc-text">12.Linux 环境初步优化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-1-vi-vim-%E7%BC%96%E8%BE%91%E5%99%A8%E8%AF%A6%E8%A7%A3-%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E"><span class="toc-number">13.</span> <span class="toc-text">12.1 vi-vim 编辑器详解 🤞🤞🤞🤞🤞</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">14.</span> <span class="toc-text">13. 服务器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%E6%B7%B1%E5%85%A5-%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E"><span class="toc-number">15.</span> <span class="toc-text">14.目录结构深入 🤞🤞🤞🤞</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#14-1-etc-%E4%B8%8B%E9%9D%A2"><span class="toc-number">15.1.</span> <span class="toc-text">14.1 &#x2F;etc&#x2F;下面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-2-var-%E4%B8%8B%E9%9D%A2"><span class="toc-number">15.2.</span> <span class="toc-text">14.2 &#x2F;var&#x2F;下面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-2-proc-%E4%B8%8B%E9%9D%A2"><span class="toc-number">15.3.</span> <span class="toc-text">14.2 &#x2F;proc&#x2F;下面</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-%E6%97%A5%E5%BF%97%E6%9F%A5%E8%AF%A2-4-%E5%89%91%E5%AE%A2-%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E"><span class="toc-number">16.</span> <span class="toc-text">15. 日志查询 4 剑客 🤞🤞🤞🤞🤞</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#15-1-%E6%A6%82%E8%BF%B0"><span class="toc-number">16.1.</span> <span class="toc-text">15.1 概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-2-%E6%97%A5%E5%BF%97%E6%9F%A5%E8%AF%A2%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8"><span class="toc-number">16.2.</span> <span class="toc-text">15.2 日志查询命令使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-3-wc-%E7%BB%9F%E8%AE%A1"><span class="toc-number">16.3.</span> <span class="toc-text">15.3 wc 统计</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-4-%E6%9F%A5%E6%89%BE%E5%91%BD%E4%BB%A4%E4%BD%8D%E7%BD%AE%EF%BC%88%E4%BA%86%E8%A7%A3%EF%BC%89"><span class="toc-number">16.4.</span> <span class="toc-text">15.4 查找命令位置（了解）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-5-%E6%96%87%E4%BB%B6%E6%AF%94%E8%BE%83%E5%91%BD%E4%BB%A4"><span class="toc-number">16.5.</span> <span class="toc-text">15.5 文件比较命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-6-%E6%8E%92%E5%BA%8F%E5%8E%BB%E9%87%8D%E7%BB%84%E5%90%88-%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E"><span class="toc-number">16.6.</span> <span class="toc-text">15.6 排序去重组合 🤞🤞🤞🤞🤞</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-7-uniq"><span class="toc-number">16.7.</span> <span class="toc-text">15.7 uniq</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-8-%E4%BC%81%E4%B8%9A%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B-%E6%97%A5%E5%BF%97%E5%88%86%E6%9E%90"><span class="toc-number">16.8.</span> <span class="toc-text">15.8 企业实战案例-日志分析</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#16-%E6%97%A5%E6%9C%9F%E7%BB%84%E5%90%88-%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E"><span class="toc-number">17.</span> <span class="toc-text">16. 日期组合 🤞🤞🤞🤞🤞</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#17-%E6%96%87%E4%BB%B6%E5%B1%9E%E6%80%A7%E4%BD%93%E7%B3%BB"><span class="toc-number">18.</span> <span class="toc-text">17. 文件属性体系</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#17-1-%E6%96%87%E4%BB%B6%E4%BD%93%E7%B3%BB%E6%A6%82%E8%BF%B0"><span class="toc-number">18.1.</span> <span class="toc-text">17.1 文件体系概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-2-inode-%E4%B8%8E-block-%E9%83%A8%E5%88%86"><span class="toc-number">18.2.</span> <span class="toc-text">17.2 inode 与 block 部分</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#17-2-1-inode-%E4%B8%8E-Block-%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-number">18.2.1.</span> <span class="toc-text">17.2.1 inode 与 Block 的关系</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#17-2-2-%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B-%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E"><span class="toc-number">18.2.2.</span> <span class="toc-text">17.2.2 如何查看 🤞🤞🤞🤞🤞</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#17-2-3-%E5%B0%8F%E7%BB%93"><span class="toc-number">18.2.3.</span> <span class="toc-text">17.2.3 小结</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-3-%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B%E9%83%A8%E5%88%86-%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E"><span class="toc-number">18.3.</span> <span class="toc-text">17.3 文件类型部分 🤞🤞🤞🤞🤞</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#17-3-1-%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B"><span class="toc-number">18.3.1.</span> <span class="toc-text">17.3.1 文件类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#17-3-2-%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B-%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E"><span class="toc-number">18.3.2.</span> <span class="toc-text">17.3.2 如何查看文件类型 🤞🤞🤞🤞🤞</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-4-%E8%BD%AF%E7%A1%AC%E9%93%BE%E6%8E%A5-%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E"><span class="toc-number">18.4.</span> <span class="toc-text">17.4 软硬链接 🤞🤞🤞🤞🤞</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#17-4-1-%E6%A6%82%E8%BF%B0"><span class="toc-number">18.4.1.</span> <span class="toc-text">17.4.1 概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-4-1-%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA"><span class="toc-number">18.4.2.</span> <span class="toc-text">7.4.1 如何创建</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-4-2-%E8%BD%AF%E8%BF%9E%E6%8E%A5%E4%B8%8E%E7%A1%AC%E9%93%BE%E6%8E%A5%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">18.4.3.</span> <span class="toc-text">7.4.2 软连接与硬链接的区别</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-5-%E7%94%A8%E6%88%B7%E5%92%8C%E7%94%A8%E6%88%B7%E7%BB%84"><span class="toc-number">18.5.</span> <span class="toc-text">17.5 用户和用户组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-6-%E6%9D%83%E9%99%90"><span class="toc-number">18.6.</span> <span class="toc-text">17.6 权限</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-7-%E6%96%87%E4%BB%B6%E5%A4%A7%E5%B0%8F-%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E"><span class="toc-number">18.7.</span> <span class="toc-text">17.7 文件大小 🤞🤞🤞🤞🤞</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-8-%E6%97%B6%E9%97%B4"><span class="toc-number">18.8.</span> <span class="toc-text">17.8 时间</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-9-%E6%80%BB%E7%BB%93"><span class="toc-number">18.9.</span> <span class="toc-text">17.9 总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#18-%E4%BC%81%E4%B8%9A%E8%BF%9E%E6%8E%A5%E2%80%93-%E4%B8%80%E4%B8%AA%E5%9F%BA%E4%BA%8E%E8%BD%AF%E9%93%BE%E6%8E%A5%E6%9C%8D%E5%8A%A1%E5%8D%87%E7%BA%A7%E6%B5%81%E7%A8%8B"><span class="toc-number">19.</span> <span class="toc-text">18. 企业连接– 一个基于软链接服务升级流程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#19-%E6%89%93%E5%8C%85%E5%8E%8B%E7%BC%A9%E4%B8%89%E5%89%91%E5%AE%A2"><span class="toc-number">20.</span> <span class="toc-text">19. 打包压缩三剑客</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#19-1-%E6%A6%82%E8%BF%B0"><span class="toc-number">20.1.</span> <span class="toc-text">19.1 概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#19-2-tar"><span class="toc-number">20.2.</span> <span class="toc-text">19.2 tar</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#19-3-gzip"><span class="toc-number">20.3.</span> <span class="toc-text">19.3 gzip</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#19-4-zip-unzip"><span class="toc-number">20.4.</span> <span class="toc-text">19.4 zip&#x2F;unzip</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#20-%E5%9B%9B%E5%89%91%E5%AE%A2-%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E"><span class="toc-number">21.</span> <span class="toc-text">20. 四剑客 🤞🤞🤞🤞🤞</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#20-1-grep%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E"><span class="toc-number">21.1.</span> <span class="toc-text">20 .1 grep🤞🤞🤞🤞🤞</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#20-2-find%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E"><span class="toc-number">21.2.</span> <span class="toc-text">20.2 find🤞🤞🤞🤞🤞</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#20-3-cut"><span class="toc-number">21.3.</span> <span class="toc-text">20.3 cut</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#21-%E5%88%AB%E5%90%8D%E4%B8%8E%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86%E4%BD%93%E7%B3%BB"><span class="toc-number">22.</span> <span class="toc-text">21. 别名与用户管理体系</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#21-1-%E5%88%AB%E5%90%8D"><span class="toc-number">22.1.</span> <span class="toc-text">21.1 别名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#21-2-%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E5%88%AB%E5%90%8D-%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E"><span class="toc-number">22.2.</span> <span class="toc-text">21.2 如何创建别名 🤞🤞🤞🤞🤞</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#21-3-%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86"><span class="toc-number">22.3.</span> <span class="toc-text">21.3 用户管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#21-3-1-%E6%A6%82%E8%BF%B0"><span class="toc-number">22.3.1.</span> <span class="toc-text">21.3.1 概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#21-3-2-UID-GID"><span class="toc-number">22.3.2.</span> <span class="toc-text">21.3.2 UID,GID</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#21-3-3-%E7%94%A8%E6%88%B7%E5%88%86%E7%B1%BB"><span class="toc-number">22.3.3.</span> <span class="toc-text">21.3.3 用户分类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#21-3-4-%E7%94%A8%E6%88%B7%E7%9B%B8%E5%85%B3%E7%9A%84%E6%96%87%E4%BB%B6-%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E"><span class="toc-number">22.3.4.</span> <span class="toc-text">21.3.4 用户相关的文件 🤞🤞🤞🤞🤞</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#21-3-4-%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86%E6%8C%87%E4%BB%A4-%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E"><span class="toc-number">22.3.5.</span> <span class="toc-text">21.3.4 用户管理指令 🤞🤞🤞🤞🤞</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#21-3-5-sudo-%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86-%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E"><span class="toc-number">22.3.6.</span> <span class="toc-text">21.3.5 sudo 权限管理 🤞🤞🤞</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#21-3-6-%E5%A0%A1%E5%9E%92%E6%9C%BA%E4%B8%8E%E8%B7%B3%E6%9D%BF%E6%9C%BA"><span class="toc-number">22.3.7.</span> <span class="toc-text">21.3.6 堡垒机与跳板机</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#22-%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E4%BD%93%E7%B3%BB"><span class="toc-number">23.</span> <span class="toc-text">22.权限管理体系</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#22-1-%E7%AE%A1%E7%90%86%E6%9D%83%E9%99%90%E6%A6%82%E8%BF%B0"><span class="toc-number">23.1.</span> <span class="toc-text">22.1 管理权限概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#22-2Linux-%E6%9D%83%E9%99%90%E8%AE%A1%E7%AE%97"><span class="toc-number">23.2.</span> <span class="toc-text">22.2Linux 权限计算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#22-3-%E6%9D%83%E9%99%90%E4%B8%8E%E6%96%87%E4%BB%B6%EF%BC%8C%E7%9B%AE%E5%BD%95"><span class="toc-number">23.3.</span> <span class="toc-text">22.3 权限与文件，目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#22-4-%E7%B3%BB%E7%BB%9F%E9%BB%98%E8%AE%A4%E6%9D%83%E9%99%90-%EF%BC%88%E4%BA%86%E8%A7%A3%EF%BC%89"><span class="toc-number">23.4.</span> <span class="toc-text">22.4 系统默认权限 （了解）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#22-5-Linux-%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6%E4%B8%8E%E7%B3%BB%E7%BB%9F%E5%AE%89%E5%85%A8%EF%BC%88%E4%BA%86%E8%A7%A3%EF%BC%89"><span class="toc-number">23.5.</span> <span class="toc-text">22.5 Linux 权限控制与系统安全（了解）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#22-6-3-%E4%B8%AA%E7%89%B9%E6%AE%8A%E6%9D%83%E9%99%90"><span class="toc-number">23.6.</span> <span class="toc-text">22.6 3 个特殊权限</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#22-6-Linux-%E7%89%B9%E6%AE%8A%E5%B1%9E%E6%80%A7-%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E"><span class="toc-number">23.7.</span> <span class="toc-text">22.6 Linux 特殊属性 🤞🤞🤞🤞🤞</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#23-%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86"><span class="toc-number">24.</span> <span class="toc-text">23. 系统管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#23-1-%E8%BD%AF%E4%BB%B6%E5%8C%85%E7%AE%A1%E7%90%86"><span class="toc-number">24.1.</span> <span class="toc-text">23.1 软件包管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#23-1-1-rpm"><span class="toc-number">24.1.1.</span> <span class="toc-text">23.1.1 rpm</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#23-1-2-yum"><span class="toc-number">24.1.2.</span> <span class="toc-text">23.1.2 yum</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-3-Ubuntu-%E7%B3%BB%E7%BB%9F%E8%BD%AF%E4%BB%B6%E5%8C%85%E7%AE%A1%E7%90%86"><span class="toc-number">24.1.3.</span> <span class="toc-text">2.1.3 Ubuntu 系统软件包管理</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#23-2-%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86"><span class="toc-number">24.2.</span> <span class="toc-text">23.2 进程管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#23-2-1-%E4%BB%80%E4%B9%88%E6%98%AF%E8%BF%9B%E7%A8%8B-%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E"><span class="toc-number">24.2.1.</span> <span class="toc-text">23.2.1 什么是进程 🤞🤞🤞🤞🤞</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#23-2-2-%E8%BF%9B%E7%A8%8B-%E7%A8%8B%E5%BA%8F-%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B-%E6%9C%8D%E5%8A%A1-%F0%9F%8C%9F%F0%9F%8C%9F%F0%9F%8C%9F%F0%9F%8C%9F%F0%9F%8C%9F"><span class="toc-number">24.2.2.</span> <span class="toc-text">23.2.2 进程,程序,守护进程(服务)?🌟🌟🌟🌟🌟</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#23-2-3-%E8%BF%9B%E7%A8%8B%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">24.2.3.</span> <span class="toc-text">23.2.3 进程的生命周期</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#23-2-3-%E8%BF%9B%E7%A8%8B%E7%9B%91%E6%8E%A7%E6%8C%87%E4%BB%A4"><span class="toc-number">24.2.4.</span> <span class="toc-text">23.2.3 进程监控指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C"><span class="toc-number">24.2.5.</span> <span class="toc-text">后台运行</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%A6%E6%96%B9%E6%A1%88-%F0%9F%8C%9F%F0%9F%8C%9F%F0%9F%8C%9F%F0%9F%8C%9F%F0%9F%8C%9F"><span class="toc-number">24.3.</span> <span class="toc-text">&amp;符方案 🌟🌟🌟🌟🌟</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9D%80%E6%89%8B%E4%B8%89%E4%BA%BA%E7%BB%84"><span class="toc-number">24.3.1.</span> <span class="toc-text">杀手三人组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#23-2-1-%E5%B9%B3%E5%9D%87%E8%B4%9F%E8%BD%BD"><span class="toc-number">24.3.2.</span> <span class="toc-text">23.2.1 平均负载</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#23-3systemd-%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7"><span class="toc-number">24.3.3.</span> <span class="toc-text">23.3systemd 服务管理工具</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#24-%E7%A3%81%E7%9B%98"><span class="toc-number">25.</span> <span class="toc-text">24. 磁盘</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#24-1-%E5%88%86%E7%B1%BB"><span class="toc-number">25.1.</span> <span class="toc-text">24.1 分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#24-2-%E7%A3%81%E7%9B%98%E6%8E%A5%E5%8F%A3"><span class="toc-number">25.2.</span> <span class="toc-text">24.2. 磁盘接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#24-3-%E4%BC%81%E4%B8%9A%E7%BA%A7%E7%8E%AF%E5%A2%83%E7%A3%81%E7%9B%98%E9%80%89%E5%9E%8B-%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E%F0%9F%A4%9E"><span class="toc-number">25.3.</span> <span class="toc-text">24.3. 企业级环境磁盘选型 🤞🤞🤞🤞🤞</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#24-4-RAID"><span class="toc-number">25.4.</span> <span class="toc-text">24.4 RAID</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#24-5-%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA%E6%B5%81%E7%A8%8B"><span class="toc-number">25.5.</span> <span class="toc-text">24.5 磁盘分区流程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#24-6-%F0%9F%93%9Afdisk-%E5%91%BD%E4%BB%A4"><span class="toc-number">25.6.</span> <span class="toc-text">24.6 📚fdisk 命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#24-7-%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86%E4%BD%93%E7%B3%BB%E4%B9%8B%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95"><span class="toc-number">25.7.</span> <span class="toc-text">24.7 磁盘管理体系之性能测试</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#25-%E4%B8%89%E5%89%91%E5%AE%A2%E6%97%A5%E5%BF%97%E5%A4%84%E7%90%86%E7%B3%BB%E5%88%97"><span class="toc-number">26.</span> <span class="toc-text">25.三剑客日志处理系列</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#25-1-%E5%BC%95%E5%8F%B7%E7%B3%BB%E5%88%97"><span class="toc-number">26.1.</span> <span class="toc-text">25.1 引号系列</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#25-2-%E9%87%8D%E5%AE%9A%E5%90%91%E7%AC%A6%E5%8F%B7%E7%B3%BB%E5%88%97"><span class="toc-number">26.2.</span> <span class="toc-text">25.2 重定向符号系列</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#25-3-%E9%80%9A%E9%85%8D%E7%AC%A6"><span class="toc-number">26.3.</span> <span class="toc-text">25.3 通配符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#25-4-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">26.4.</span> <span class="toc-text">25.4 正则表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#25-4-1-%E5%9F%BA%E7%A1%80%E6%AD%A3%E5%88%99"><span class="toc-number">26.4.1.</span> <span class="toc-text">25.4.1 基础正则</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#25-4-2-%E6%89%A9%E5%B1%95%E6%AD%A3%E5%88%99"><span class="toc-number">26.4.2.</span> <span class="toc-text">25.4.2 扩展正则</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#25-4-3-%E4%B8%89%E5%89%91%E5%AE%A2-sed"><span class="toc-number">26.4.3.</span> <span class="toc-text">25.4.3 三剑客 sed</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#25-4-4-%E4%B8%89%E5%89%91%E5%AE%A2-awk"><span class="toc-number">26.4.4.</span> <span class="toc-text">25.4.4 三剑客 awk</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#26-%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1"><span class="toc-number">26.5.</span> <span class="toc-text">26. 计划任务</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#26-1-%E4%B8%80%E6%AC%A1%E6%80%A7%E8%B0%83%E5%BA%A6%E6%89%A7%E8%A1%8C"><span class="toc-number">26.5.1.</span> <span class="toc-text">26.1 一次性调度执行</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#26-2-%E5%BE%AA%E7%8E%AF%E8%B0%83%E5%BA%A6%E6%89%A7%E8%A1%8C-cron"><span class="toc-number">26.5.2.</span> <span class="toc-text">26.2 循环调度执行 cron</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/09/15/JavaScript/" title="JavaScript"><img src="/../imgs/tag.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JavaScript"/></a><div class="content"><a class="title" href="/2023/09/15/JavaScript/" title="JavaScript">JavaScript</a><time datetime="2023-09-15T01:21:56.000Z" title="Created 2023-09-15 09:21:56">2023-09-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/09/09/HTMl%E4%BB%A5%E5%8F%8ACSS/" title="HTMl以及CSS"><img src="/../imgs/tag.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="HTMl以及CSS"/></a><div class="content"><a class="title" href="/2023/09/09/HTMl%E4%BB%A5%E5%8F%8ACSS/" title="HTMl以及CSS">HTMl以及CSS</a><time datetime="2023-09-09T10:55:11.000Z" title="Created 2023-09-09 18:55:11">2023-09-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/09/08/%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%90%AD%E5%BB%BA/" title="博客的搭建"><img src="/../imgs/tag.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="博客的搭建"/></a><div class="content"><a class="title" href="/2023/09/08/%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%90%AD%E5%BB%BA/" title="博客的搭建">博客的搭建</a><time datetime="2023-09-08T14:30:31.000Z" title="Created 2023-09-08 22:30:31">2023-09-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/09/08/Linux/" title="Linux"><img src="/../imgs/tag.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux"/></a><div class="content"><a class="title" href="/2023/09/08/Linux/" title="Linux">Linux</a><time datetime="2023-09-08T14:30:31.000Z" title="Created 2023-09-08 22:30:31">2023-09-08</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/../imgs/tag.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By 平凡人</div><div class="footer_custom_text">Hi, welcome to my <a href="https://startafresh.github.io/">github</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="Toggle Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_clock_anzhiyu_injector_config(){
    var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
    var item_html = '<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>';
    console.log('已挂载butterfly_clock_anzhiyu')
    if(parent_div_git) {
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var qweather_key = 'b16a1fa0e63c46a4b8f28abfb06ae3fe';
  var gaud_map_key = 'e2b04289e870b005374ee030148d64fd&s=rsv3';
  var baidu_ak_key = 'undefined';
  var flag = 0;
  var clock_rectangle = '112.982279,28.19409';
  var clock_default_rectangle_enable = 'false';

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_clock_anzhiyu_injector_config();
  }
  else if (epage === cpage){
    butterfly_clock_anzhiyu_injector_config();
  }
  </script><script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script><script data-pjax src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.js"></script><!-- hexo injector body_end end --></body></html>